/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/js/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/user.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../../../deps/phoenix/priv/static/phoenix.js":
/*!******************************************************************************************!*\
  !*** /Users/alanwilder/Codes/elixir/tribe1_umbrella/deps/phoenix/priv/static/phoenix.js ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function (e, t) {\n   true ? module.exports = t() : undefined;\n}(this, function () {\n  return function (e) {\n    var t = {};\n\n    function n(i) {\n      if (t[i]) return t[i].exports;\n      var o = t[i] = {\n        i: i,\n        l: !1,\n        exports: {}\n      };\n      return e[i].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, i) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: i\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var i = Object.create(null);\n      if (n.r(i), Object.defineProperty(i, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var o in e) n.d(i, o, function (t) {\n        return e[t];\n      }.bind(null, o));\n      return i;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 0);\n  }([function (e, t, n) {\n    (function (t) {\n      e.exports = t.Phoenix = n(2);\n    }).call(this, n(1));\n  }, function (e, t) {\n    var n;\n\n    n = function () {\n      return this;\n    }();\n\n    try {\n      n = n || new Function(\"return this\")();\n    } catch (e) {\n      \"object\" == typeof window && (n = window);\n    }\n\n    e.exports = n;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function i(e) {\n      return function (e) {\n        if (Array.isArray(e)) return a(e);\n      }(e) || function (e) {\n        if (\"undefined\" != typeof Symbol && Symbol.iterator in Object(e)) return Array.from(e);\n      }(e) || s(e) || function () {\n        throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n\n    function o(e) {\n      return (o = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function r(e, t) {\n      return function (e) {\n        if (Array.isArray(e)) return e;\n      }(e) || function (e, t) {\n        if (\"undefined\" == typeof Symbol || !(Symbol.iterator in Object(e))) return;\n        var n = [],\n            i = !0,\n            o = !1,\n            r = void 0;\n\n        try {\n          for (var s, a = e[Symbol.iterator](); !(i = (s = a.next()).done) && (n.push(s.value), !t || n.length !== t); i = !0);\n        } catch (e) {\n          o = !0, r = e;\n        } finally {\n          try {\n            i || null == a.return || a.return();\n          } finally {\n            if (o) throw r;\n          }\n        }\n\n        return n;\n      }(e, t) || s(e, t) || function () {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n      }();\n    }\n\n    function s(e, t) {\n      if (e) {\n        if (\"string\" == typeof e) return a(e, t);\n        var n = Object.prototype.toString.call(e).slice(8, -1);\n        return \"Object\" === n && e.constructor && (n = e.constructor.name), \"Map\" === n || \"Set\" === n ? Array.from(n) : \"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? a(e, t) : void 0;\n      }\n    }\n\n    function a(e, t) {\n      (null == t || t > e.length) && (t = e.length);\n\n      for (var n = 0, i = new Array(t); n < t; n++) i[n] = e[n];\n\n      return i;\n    }\n\n    function c(e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }\n\n    function u(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var i = t[n];\n        i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);\n      }\n    }\n\n    function h(e, t, n) {\n      return t && u(e.prototype, t), n && u(e, n), e;\n    }\n\n    n.r(t), n.d(t, \"Channel\", function () {\n      return _;\n    }), n.d(t, \"Serializer\", function () {\n      return H;\n    }), n.d(t, \"Socket\", function () {\n      return U;\n    }), n.d(t, \"LongPoll\", function () {\n      return D;\n    }), n.d(t, \"Ajax\", function () {\n      return M;\n    }), n.d(t, \"Presence\", function () {\n      return N;\n    });\n\n    var l = \"undefined\" != typeof self ? self : null,\n        f = \"undefined\" != typeof window ? window : null,\n        d = l || f || void 0,\n        p = 0,\n        v = 1,\n        y = 2,\n        m = 3,\n        g = \"closed\",\n        k = \"errored\",\n        b = \"joined\",\n        j = \"joining\",\n        C = \"leaving\",\n        E = \"phx_close\",\n        R = \"phx_error\",\n        T = \"phx_join\",\n        S = \"phx_reply\",\n        w = \"phx_leave\",\n        A = [E, R, T, S, w],\n        L = \"longpoll\",\n        x = \"websocket\",\n        O = function (e) {\n      if (\"function\" == typeof e) return e;\n      return function () {\n        return e;\n      };\n    },\n        P = function () {\n      function e(t, n, i, o) {\n        c(this, e), this.channel = t, this.event = n, this.payload = i || function () {\n          return {};\n        }, this.receivedResp = null, this.timeout = o, this.timeoutTimer = null, this.recHooks = [], this.sent = !1;\n      }\n\n      return h(e, [{\n        key: \"resend\",\n        value: function (e) {\n          this.timeout = e, this.reset(), this.send();\n        }\n      }, {\n        key: \"send\",\n        value: function () {\n          this.hasReceived(\"timeout\") || (this.startTimeout(), this.sent = !0, this.channel.socket.push({\n            topic: this.channel.topic,\n            event: this.event,\n            payload: this.payload(),\n            ref: this.ref,\n            join_ref: this.channel.joinRef()\n          }));\n        }\n      }, {\n        key: \"receive\",\n        value: function (e, t) {\n          return this.hasReceived(e) && t(this.receivedResp.response), this.recHooks.push({\n            status: e,\n            callback: t\n          }), this;\n        }\n      }, {\n        key: \"reset\",\n        value: function () {\n          this.cancelRefEvent(), this.ref = null, this.refEvent = null, this.receivedResp = null, this.sent = !1;\n        }\n      }, {\n        key: \"matchReceive\",\n        value: function (e) {\n          var t = e.status,\n              n = e.response;\n          e.ref;\n          this.recHooks.filter(function (e) {\n            return e.status === t;\n          }).forEach(function (e) {\n            return e.callback(n);\n          });\n        }\n      }, {\n        key: \"cancelRefEvent\",\n        value: function () {\n          this.refEvent && this.channel.off(this.refEvent);\n        }\n      }, {\n        key: \"cancelTimeout\",\n        value: function () {\n          clearTimeout(this.timeoutTimer), this.timeoutTimer = null;\n        }\n      }, {\n        key: \"startTimeout\",\n        value: function () {\n          var e = this;\n          this.timeoutTimer && this.cancelTimeout(), this.ref = this.channel.socket.makeRef(), this.refEvent = this.channel.replyEventName(this.ref), this.channel.on(this.refEvent, function (t) {\n            e.cancelRefEvent(), e.cancelTimeout(), e.receivedResp = t, e.matchReceive(t);\n          }), this.timeoutTimer = setTimeout(function () {\n            e.trigger(\"timeout\", {});\n          }, this.timeout);\n        }\n      }, {\n        key: \"hasReceived\",\n        value: function (e) {\n          return this.receivedResp && this.receivedResp.status === e;\n        }\n      }, {\n        key: \"trigger\",\n        value: function (e, t) {\n          this.channel.trigger(this.refEvent, {\n            status: e,\n            response: t\n          });\n        }\n      }]), e;\n    }(),\n        _ = function () {\n      function e(t, n, i) {\n        var o = this;\n        c(this, e), this.state = g, this.topic = t, this.params = O(n || {}), this.socket = i, this.bindings = [], this.bindingRef = 0, this.timeout = this.socket.timeout, this.joinedOnce = !1, this.joinPush = new P(this, T, this.params, this.timeout), this.pushBuffer = [], this.stateChangeRefs = [], this.rejoinTimer = new J(function () {\n          o.socket.isConnected() && o.rejoin();\n        }, this.socket.rejoinAfterMs), this.stateChangeRefs.push(this.socket.onError(function () {\n          return o.rejoinTimer.reset();\n        })), this.stateChangeRefs.push(this.socket.onOpen(function () {\n          o.rejoinTimer.reset(), o.isErrored() && o.rejoin();\n        })), this.joinPush.receive(\"ok\", function () {\n          o.state = b, o.rejoinTimer.reset(), o.pushBuffer.forEach(function (e) {\n            return e.send();\n          }), o.pushBuffer = [];\n        }), this.joinPush.receive(\"error\", function () {\n          o.state = k, o.socket.isConnected() && o.rejoinTimer.scheduleTimeout();\n        }), this.onClose(function () {\n          o.rejoinTimer.reset(), o.socket.hasLogger() && o.socket.log(\"channel\", \"close \".concat(o.topic, \" \").concat(o.joinRef())), o.state = g, o.socket.remove(o);\n        }), this.onError(function (e) {\n          o.socket.hasLogger() && o.socket.log(\"channel\", \"error \".concat(o.topic), e), o.isJoining() && o.joinPush.reset(), o.state = k, o.socket.isConnected() && o.rejoinTimer.scheduleTimeout();\n        }), this.joinPush.receive(\"timeout\", function () {\n          o.socket.hasLogger() && o.socket.log(\"channel\", \"timeout \".concat(o.topic, \" (\").concat(o.joinRef(), \")\"), o.joinPush.timeout), new P(o, w, O({}), o.timeout).send(), o.state = k, o.joinPush.reset(), o.socket.isConnected() && o.rejoinTimer.scheduleTimeout();\n        }), this.on(S, function (e, t) {\n          o.trigger(o.replyEventName(t), e);\n        });\n      }\n\n      return h(e, [{\n        key: \"join\",\n        value: function () {\n          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.timeout;\n          if (this.joinedOnce) throw new Error(\"tried to join multiple times. 'join' can only be called a single time per channel instance\");\n          return this.timeout = e, this.joinedOnce = !0, this.rejoin(), this.joinPush;\n        }\n      }, {\n        key: \"onClose\",\n        value: function (e) {\n          this.on(E, e);\n        }\n      }, {\n        key: \"onError\",\n        value: function (e) {\n          return this.on(R, function (t) {\n            return e(t);\n          });\n        }\n      }, {\n        key: \"on\",\n        value: function (e, t) {\n          var n = this.bindingRef++;\n          return this.bindings.push({\n            event: e,\n            ref: n,\n            callback: t\n          }), n;\n        }\n      }, {\n        key: \"off\",\n        value: function (e, t) {\n          this.bindings = this.bindings.filter(function (n) {\n            return !(n.event === e && (void 0 === t || t === n.ref));\n          });\n        }\n      }, {\n        key: \"canPush\",\n        value: function () {\n          return this.socket.isConnected() && this.isJoined();\n        }\n      }, {\n        key: \"push\",\n        value: function (e, t) {\n          var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.timeout;\n          if (!this.joinedOnce) throw new Error(\"tried to push '\".concat(e, \"' to '\").concat(this.topic, \"' before joining. Use channel.join() before pushing events\"));\n          var i = new P(this, e, function () {\n            return t;\n          }, n);\n          return this.canPush() ? i.send() : (i.startTimeout(), this.pushBuffer.push(i)), i;\n        }\n      }, {\n        key: \"leave\",\n        value: function () {\n          var e = this,\n              t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.timeout;\n          this.rejoinTimer.reset(), this.joinPush.cancelTimeout(), this.state = C;\n\n          var n = function () {\n            e.socket.hasLogger() && e.socket.log(\"channel\", \"leave \".concat(e.topic)), e.trigger(E, \"leave\");\n          },\n              i = new P(this, w, O({}), t);\n\n          return i.receive(\"ok\", function () {\n            return n();\n          }).receive(\"timeout\", function () {\n            return n();\n          }), i.send(), this.canPush() || i.trigger(\"ok\", {}), i;\n        }\n      }, {\n        key: \"onMessage\",\n        value: function (e, t, n) {\n          return t;\n        }\n      }, {\n        key: \"isLifecycleEvent\",\n        value: function (e) {\n          return A.indexOf(e) >= 0;\n        }\n      }, {\n        key: \"isMember\",\n        value: function (e, t, n, i) {\n          return this.topic === e && (!i || i === this.joinRef() || !this.isLifecycleEvent(t) || (this.socket.hasLogger() && this.socket.log(\"channel\", \"dropping outdated message\", {\n            topic: e,\n            event: t,\n            payload: n,\n            joinRef: i\n          }), !1));\n        }\n      }, {\n        key: \"joinRef\",\n        value: function () {\n          return this.joinPush.ref;\n        }\n      }, {\n        key: \"rejoin\",\n        value: function () {\n          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.timeout;\n          this.isLeaving() || (this.socket.leaveOpenTopic(this.topic), this.state = j, this.joinPush.resend(e));\n        }\n      }, {\n        key: \"trigger\",\n        value: function (e, t, n, i) {\n          var o = this.onMessage(e, t, n, i);\n          if (t && !o) throw new Error(\"channel onMessage callbacks must return the payload, modified or unmodified\");\n\n          for (var r = this.bindings.filter(function (t) {\n            return t.event === e;\n          }), s = 0; s < r.length; s++) {\n            r[s].callback(o, n, i || this.joinRef());\n          }\n        }\n      }, {\n        key: \"replyEventName\",\n        value: function (e) {\n          return \"chan_reply_\".concat(e);\n        }\n      }, {\n        key: \"isClosed\",\n        value: function () {\n          return this.state === g;\n        }\n      }, {\n        key: \"isErrored\",\n        value: function () {\n          return this.state === k;\n        }\n      }, {\n        key: \"isJoined\",\n        value: function () {\n          return this.state === b;\n        }\n      }, {\n        key: \"isJoining\",\n        value: function () {\n          return this.state === j;\n        }\n      }, {\n        key: \"isLeaving\",\n        value: function () {\n          return this.state === C;\n        }\n      }]), e;\n    }(),\n        H = {\n      HEADER_LENGTH: 1,\n      META_LENGTH: 4,\n      KINDS: {\n        push: 0,\n        reply: 1,\n        broadcast: 2\n      },\n      encode: function (e, t) {\n        if (e.payload.constructor === ArrayBuffer) return t(this.binaryEncode(e));\n        var n = [e.join_ref, e.ref, e.topic, e.event, e.payload];\n        return t(JSON.stringify(n));\n      },\n      decode: function (e, t) {\n        if (e.constructor === ArrayBuffer) return t(this.binaryDecode(e));\n        var n = r(JSON.parse(e), 5);\n        return t({\n          join_ref: n[0],\n          ref: n[1],\n          topic: n[2],\n          event: n[3],\n          payload: n[4]\n        });\n      },\n      binaryEncode: function (e) {\n        var t = e.join_ref,\n            n = e.ref,\n            i = e.event,\n            o = e.topic,\n            r = e.payload,\n            s = this.META_LENGTH + t.length + n.length + o.length + i.length,\n            a = new ArrayBuffer(this.HEADER_LENGTH + s),\n            c = new DataView(a),\n            u = 0;\n        c.setUint8(u++, this.KINDS.push), c.setUint8(u++, t.length), c.setUint8(u++, n.length), c.setUint8(u++, o.length), c.setUint8(u++, i.length), Array.from(t, function (e) {\n          return c.setUint8(u++, e.charCodeAt(0));\n        }), Array.from(n, function (e) {\n          return c.setUint8(u++, e.charCodeAt(0));\n        }), Array.from(o, function (e) {\n          return c.setUint8(u++, e.charCodeAt(0));\n        }), Array.from(i, function (e) {\n          return c.setUint8(u++, e.charCodeAt(0));\n        });\n        var h = new Uint8Array(a.byteLength + r.byteLength);\n        return h.set(new Uint8Array(a), 0), h.set(new Uint8Array(r), a.byteLength), h.buffer;\n      },\n      binaryDecode: function (e) {\n        var t = new DataView(e),\n            n = t.getUint8(0),\n            i = new TextDecoder();\n\n        switch (n) {\n          case this.KINDS.push:\n            return this.decodePush(e, t, i);\n\n          case this.KINDS.reply:\n            return this.decodeReply(e, t, i);\n\n          case this.KINDS.broadcast:\n            return this.decodeBroadcast(e, t, i);\n        }\n      },\n      decodePush: function (e, t, n) {\n        var i = t.getUint8(1),\n            o = t.getUint8(2),\n            r = t.getUint8(3),\n            s = this.HEADER_LENGTH + this.META_LENGTH - 1,\n            a = n.decode(e.slice(s, s + i));\n        s += i;\n        var c = n.decode(e.slice(s, s + o));\n        s += o;\n        var u = n.decode(e.slice(s, s + r));\n        return s += r, {\n          join_ref: a,\n          ref: null,\n          topic: c,\n          event: u,\n          payload: e.slice(s, e.byteLength)\n        };\n      },\n      decodeReply: function (e, t, n) {\n        var i = t.getUint8(1),\n            o = t.getUint8(2),\n            r = t.getUint8(3),\n            s = t.getUint8(4),\n            a = this.HEADER_LENGTH + this.META_LENGTH,\n            c = n.decode(e.slice(a, a + i));\n        a += i;\n        var u = n.decode(e.slice(a, a + o));\n        a += o;\n        var h = n.decode(e.slice(a, a + r));\n        a += r;\n        var l = n.decode(e.slice(a, a + s));\n        a += s;\n        var f = e.slice(a, e.byteLength);\n        return {\n          join_ref: c,\n          ref: u,\n          topic: h,\n          event: S,\n          payload: {\n            status: l,\n            response: f\n          }\n        };\n      },\n      decodeBroadcast: function (e, t, n) {\n        var i = t.getUint8(1),\n            o = t.getUint8(2),\n            r = this.HEADER_LENGTH + 2,\n            s = n.decode(e.slice(r, r + i));\n        r += i;\n        var a = n.decode(e.slice(r, r + o));\n        return r += o, {\n          join_ref: null,\n          ref: null,\n          topic: s,\n          event: a,\n          payload: e.slice(r, e.byteLength)\n        };\n      }\n    },\n        U = function () {\n      function e(t) {\n        var n = this,\n            i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        c(this, e), this.stateChangeCallbacks = {\n          open: [],\n          close: [],\n          error: [],\n          message: []\n        }, this.channels = [], this.sendBuffer = [], this.ref = 0, this.timeout = i.timeout || 1e4, this.transport = i.transport || d.WebSocket || D, this.defaultEncoder = H.encode.bind(H), this.defaultDecoder = H.decode.bind(H), this.closeWasClean = !1, this.unloaded = !1, this.binaryType = i.binaryType || \"arraybuffer\", this.transport !== D ? (this.encode = i.encode || this.defaultEncoder, this.decode = i.decode || this.defaultDecoder) : (this.encode = this.defaultEncoder, this.decode = this.defaultDecoder), f && f.addEventListener && f.addEventListener(\"unload\", function (e) {\n          n.conn && (n.unloaded = !0, n.abnormalClose(\"unloaded\"));\n        }), this.heartbeatIntervalMs = i.heartbeatIntervalMs || 3e4, this.rejoinAfterMs = function (e) {\n          return i.rejoinAfterMs ? i.rejoinAfterMs(e) : [1e3, 2e3, 5e3][e - 1] || 1e4;\n        }, this.reconnectAfterMs = function (e) {\n          return n.unloaded ? 100 : i.reconnectAfterMs ? i.reconnectAfterMs(e) : [10, 50, 100, 150, 200, 250, 500, 1e3, 2e3][e - 1] || 5e3;\n        }, this.logger = i.logger || null, this.longpollerTimeout = i.longpollerTimeout || 2e4, this.params = O(i.params || {}), this.endPoint = \"\".concat(t, \"/\").concat(x), this.vsn = i.vsn || \"2.0.0\", this.heartbeatTimer = null, this.pendingHeartbeatRef = null, this.reconnectTimer = new J(function () {\n          n.teardown(function () {\n            return n.connect();\n          });\n        }, this.reconnectAfterMs);\n      }\n\n      return h(e, [{\n        key: \"protocol\",\n        value: function () {\n          return location.protocol.match(/^https/) ? \"wss\" : \"ws\";\n        }\n      }, {\n        key: \"endPointURL\",\n        value: function () {\n          var e = M.appendParams(M.appendParams(this.endPoint, this.params()), {\n            vsn: this.vsn\n          });\n          return \"/\" !== e.charAt(0) ? e : \"/\" === e.charAt(1) ? \"\".concat(this.protocol(), \":\").concat(e) : \"\".concat(this.protocol(), \"://\").concat(location.host).concat(e);\n        }\n      }, {\n        key: \"disconnect\",\n        value: function (e, t, n) {\n          this.closeWasClean = !0, this.reconnectTimer.reset(), this.teardown(e, t, n);\n        }\n      }, {\n        key: \"connect\",\n        value: function (e) {\n          var t = this;\n          e && (console && console.log(\"passing params to connect is deprecated. Instead pass :params to the Socket constructor\"), this.params = O(e)), this.conn || (this.closeWasClean = !1, this.conn = new this.transport(this.endPointURL()), this.conn.binaryType = this.binaryType, this.conn.timeout = this.longpollerTimeout, this.conn.onopen = function () {\n            return t.onConnOpen();\n          }, this.conn.onerror = function (e) {\n            return t.onConnError(e);\n          }, this.conn.onmessage = function (e) {\n            return t.onConnMessage(e);\n          }, this.conn.onclose = function (e) {\n            return t.onConnClose(e);\n          });\n        }\n      }, {\n        key: \"log\",\n        value: function (e, t, n) {\n          this.logger(e, t, n);\n        }\n      }, {\n        key: \"hasLogger\",\n        value: function () {\n          return null !== this.logger;\n        }\n      }, {\n        key: \"onOpen\",\n        value: function (e) {\n          var t = this.makeRef();\n          return this.stateChangeCallbacks.open.push([t, e]), t;\n        }\n      }, {\n        key: \"onClose\",\n        value: function (e) {\n          var t = this.makeRef();\n          return this.stateChangeCallbacks.close.push([t, e]), t;\n        }\n      }, {\n        key: \"onError\",\n        value: function (e) {\n          var t = this.makeRef();\n          return this.stateChangeCallbacks.error.push([t, e]), t;\n        }\n      }, {\n        key: \"onMessage\",\n        value: function (e) {\n          var t = this.makeRef();\n          return this.stateChangeCallbacks.message.push([t, e]), t;\n        }\n      }, {\n        key: \"onConnOpen\",\n        value: function () {\n          this.hasLogger() && this.log(\"transport\", \"connected to \".concat(this.endPointURL())), this.unloaded = !1, this.closeWasClean = !1, this.flushSendBuffer(), this.reconnectTimer.reset(), this.resetHeartbeat(), this.stateChangeCallbacks.open.forEach(function (e) {\n            return (0, r(e, 2)[1])();\n          });\n        }\n      }, {\n        key: \"resetHeartbeat\",\n        value: function () {\n          var e = this;\n          this.conn && this.conn.skipHeartbeat || (this.pendingHeartbeatRef = null, clearInterval(this.heartbeatTimer), this.heartbeatTimer = setInterval(function () {\n            return e.sendHeartbeat();\n          }, this.heartbeatIntervalMs));\n        }\n      }, {\n        key: \"teardown\",\n        value: function (e, t, n) {\n          var i = this;\n          if (!this.conn) return e && e();\n          this.waitForBufferDone(function () {\n            i.conn && (t ? i.conn.close(t, n || \"\") : i.conn.close()), i.waitForSocketClosed(function () {\n              i.conn && (i.conn.onclose = function () {}, i.conn = null), e && e();\n            });\n          });\n        }\n      }, {\n        key: \"waitForBufferDone\",\n        value: function (e) {\n          var t = this,\n              n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;\n          5 !== n && this.conn && this.conn.bufferedAmount ? setTimeout(function () {\n            t.waitForBufferDone(e, n + 1);\n          }, 150 * n) : e();\n        }\n      }, {\n        key: \"waitForSocketClosed\",\n        value: function (e) {\n          var t = this,\n              n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;\n          5 !== n && this.conn && this.conn.readyState !== m ? setTimeout(function () {\n            t.waitForSocketClosed(e, n + 1);\n          }, 150 * n) : e();\n        }\n      }, {\n        key: \"onConnClose\",\n        value: function (e) {\n          this.hasLogger() && this.log(\"transport\", \"close\", e), this.triggerChanError(), clearInterval(this.heartbeatTimer), this.closeWasClean || this.reconnectTimer.scheduleTimeout(), this.stateChangeCallbacks.close.forEach(function (t) {\n            return (0, r(t, 2)[1])(e);\n          });\n        }\n      }, {\n        key: \"onConnError\",\n        value: function (e) {\n          this.hasLogger() && this.log(\"transport\", e), this.triggerChanError(), this.stateChangeCallbacks.error.forEach(function (t) {\n            return (0, r(t, 2)[1])(e);\n          });\n        }\n      }, {\n        key: \"triggerChanError\",\n        value: function () {\n          this.channels.forEach(function (e) {\n            e.isErrored() || e.isLeaving() || e.isClosed() || e.trigger(R);\n          });\n        }\n      }, {\n        key: \"connectionState\",\n        value: function () {\n          switch (this.conn && this.conn.readyState) {\n            case p:\n              return \"connecting\";\n\n            case v:\n              return \"open\";\n\n            case y:\n              return \"closing\";\n\n            default:\n              return \"closed\";\n          }\n        }\n      }, {\n        key: \"isConnected\",\n        value: function () {\n          return \"open\" === this.connectionState();\n        }\n      }, {\n        key: \"remove\",\n        value: function (e) {\n          this.off(e.stateChangeRefs), this.channels = this.channels.filter(function (t) {\n            return t.joinRef() !== e.joinRef();\n          });\n        }\n      }, {\n        key: \"off\",\n        value: function (e) {\n          for (var t in this.stateChangeCallbacks) this.stateChangeCallbacks[t] = this.stateChangeCallbacks[t].filter(function (t) {\n            var n = r(t, 1)[0];\n            return -1 === e.indexOf(n);\n          });\n        }\n      }, {\n        key: \"channel\",\n        value: function (e) {\n          var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n              n = new _(e, t, this);\n          return this.channels.push(n), n;\n        }\n      }, {\n        key: \"push\",\n        value: function (e) {\n          var t = this;\n\n          if (this.hasLogger()) {\n            var n = e.topic,\n                i = e.event,\n                o = e.payload,\n                r = e.ref,\n                s = e.join_ref;\n            this.log(\"push\", \"\".concat(n, \" \").concat(i, \" (\").concat(s, \", \").concat(r, \")\"), o);\n          }\n\n          this.isConnected() ? this.encode(e, function (e) {\n            return t.conn.send(e);\n          }) : this.sendBuffer.push(function () {\n            return t.encode(e, function (e) {\n              return t.conn.send(e);\n            });\n          });\n        }\n      }, {\n        key: \"makeRef\",\n        value: function () {\n          var e = this.ref + 1;\n          return e === this.ref ? this.ref = 0 : this.ref = e, this.ref.toString();\n        }\n      }, {\n        key: \"sendHeartbeat\",\n        value: function () {\n          if (this.isConnected()) {\n            if (this.pendingHeartbeatRef) return this.pendingHeartbeatRef = null, this.hasLogger() && this.log(\"transport\", \"heartbeat timeout. Attempting to re-establish connection\"), void this.abnormalClose(\"heartbeat timeout\");\n            this.pendingHeartbeatRef = this.makeRef(), this.push({\n              topic: \"phoenix\",\n              event: \"heartbeat\",\n              payload: {},\n              ref: this.pendingHeartbeatRef\n            });\n          }\n        }\n      }, {\n        key: \"abnormalClose\",\n        value: function (e) {\n          this.closeWasClean = !1, this.conn.readyState === v && this.conn.close(1e3, e);\n        }\n      }, {\n        key: \"flushSendBuffer\",\n        value: function () {\n          this.isConnected() && this.sendBuffer.length > 0 && (this.sendBuffer.forEach(function (e) {\n            return e();\n          }), this.sendBuffer = []);\n        }\n      }, {\n        key: \"onConnMessage\",\n        value: function (e) {\n          var t = this;\n          this.decode(e.data, function (e) {\n            var n = e.topic,\n                i = e.event,\n                o = e.payload,\n                s = e.ref,\n                a = e.join_ref;\n            s && s === t.pendingHeartbeatRef && (t.pendingHeartbeatRef = null), t.hasLogger() && t.log(\"receive\", \"\".concat(o.status || \"\", \" \").concat(n, \" \").concat(i, \" \").concat(s && \"(\" + s + \")\" || \"\"), o);\n\n            for (var c = 0; c < t.channels.length; c++) {\n              var u = t.channels[c];\n              u.isMember(n, i, o, a) && u.trigger(i, o, s, a);\n            }\n\n            for (var h = 0; h < t.stateChangeCallbacks.message.length; h++) {\n              (0, r(t.stateChangeCallbacks.message[h], 2)[1])(e);\n            }\n          });\n        }\n      }, {\n        key: \"leaveOpenTopic\",\n        value: function (e) {\n          var t = this.channels.find(function (t) {\n            return t.topic === e && (t.isJoined() || t.isJoining());\n          });\n          t && (this.hasLogger() && this.log(\"transport\", 'leaving duplicate topic \"'.concat(e, '\"')), t.leave());\n        }\n      }]), e;\n    }(),\n        D = function () {\n      function e(t) {\n        c(this, e), this.endPoint = null, this.token = null, this.skipHeartbeat = !0, this.onopen = function () {}, this.onerror = function () {}, this.onmessage = function () {}, this.onclose = function () {}, this.pollEndpoint = this.normalizeEndpoint(t), this.readyState = p, this.poll();\n      }\n\n      return h(e, [{\n        key: \"normalizeEndpoint\",\n        value: function (e) {\n          return e.replace(\"ws://\", \"http://\").replace(\"wss://\", \"https://\").replace(new RegExp(\"(.*)/\" + x), \"$1/\" + L);\n        }\n      }, {\n        key: \"endpointURL\",\n        value: function () {\n          return M.appendParams(this.pollEndpoint, {\n            token: this.token\n          });\n        }\n      }, {\n        key: \"closeAndRetry\",\n        value: function () {\n          this.close(), this.readyState = p;\n        }\n      }, {\n        key: \"ontimeout\",\n        value: function () {\n          this.onerror(\"timeout\"), this.closeAndRetry();\n        }\n      }, {\n        key: \"poll\",\n        value: function () {\n          var e = this;\n          this.readyState !== v && this.readyState !== p || M.request(\"GET\", this.endpointURL(), \"application/json\", null, this.timeout, this.ontimeout.bind(this), function (t) {\n            if (t) {\n              var n = t.status,\n                  i = t.token,\n                  o = t.messages;\n              e.token = i;\n            } else n = 0;\n\n            switch (n) {\n              case 200:\n                o.forEach(function (t) {\n                  return e.onmessage({\n                    data: t\n                  });\n                }), e.poll();\n                break;\n\n              case 204:\n                e.poll();\n                break;\n\n              case 410:\n                e.readyState = v, e.onopen(), e.poll();\n                break;\n\n              case 403:\n                e.onerror(), e.close();\n                break;\n\n              case 0:\n              case 500:\n                e.onerror(), e.closeAndRetry();\n                break;\n\n              default:\n                throw new Error(\"unhandled poll status \".concat(n));\n            }\n          });\n        }\n      }, {\n        key: \"send\",\n        value: function (e) {\n          var t = this;\n          M.request(\"POST\", this.endpointURL(), \"application/json\", e, this.timeout, this.onerror.bind(this, \"timeout\"), function (e) {\n            e && 200 === e.status || (t.onerror(e && e.status), t.closeAndRetry());\n          });\n        }\n      }, {\n        key: \"close\",\n        value: function (e, t) {\n          this.readyState = m, this.onclose();\n        }\n      }]), e;\n    }(),\n        M = function () {\n      function e() {\n        c(this, e);\n      }\n\n      return h(e, null, [{\n        key: \"request\",\n        value: function (e, t, n, i, o, r, s) {\n          if (d.XDomainRequest) {\n            var a = new XDomainRequest();\n            this.xdomainRequest(a, e, t, i, o, r, s);\n          } else {\n            var c = new d.XMLHttpRequest();\n            this.xhrRequest(c, e, t, n, i, o, r, s);\n          }\n        }\n      }, {\n        key: \"xdomainRequest\",\n        value: function (e, t, n, i, o, r, s) {\n          var a = this;\n          e.timeout = o, e.open(t, n), e.onload = function () {\n            var t = a.parseJSON(e.responseText);\n            s && s(t);\n          }, r && (e.ontimeout = r), e.onprogress = function () {}, e.send(i);\n        }\n      }, {\n        key: \"xhrRequest\",\n        value: function (e, t, n, i, o, r, s, a) {\n          var c = this;\n          e.open(t, n, !0), e.timeout = r, e.setRequestHeader(\"Content-Type\", i), e.onerror = function () {\n            a && a(null);\n          }, e.onreadystatechange = function () {\n            if (e.readyState === c.states.complete && a) {\n              var t = c.parseJSON(e.responseText);\n              a(t);\n            }\n          }, s && (e.ontimeout = s), e.send(o);\n        }\n      }, {\n        key: \"parseJSON\",\n        value: function (e) {\n          if (!e || \"\" === e) return null;\n\n          try {\n            return JSON.parse(e);\n          } catch (t) {\n            return console && console.log(\"failed to parse JSON response\", e), null;\n          }\n        }\n      }, {\n        key: \"serialize\",\n        value: function (e, t) {\n          var n = [];\n\n          for (var i in e) if (e.hasOwnProperty(i)) {\n            var r = t ? \"\".concat(t, \"[\").concat(i, \"]\") : i,\n                s = e[i];\n            \"object\" === o(s) ? n.push(this.serialize(s, r)) : n.push(encodeURIComponent(r) + \"=\" + encodeURIComponent(s));\n          }\n\n          return n.join(\"&\");\n        }\n      }, {\n        key: \"appendParams\",\n        value: function (e, t) {\n          if (0 === Object.keys(t).length) return e;\n          var n = e.match(/\\?/) ? \"&\" : \"?\";\n          return \"\".concat(e).concat(n).concat(this.serialize(t));\n        }\n      }]), e;\n    }();\n\n    M.states = {\n      complete: 4\n    };\n\n    var N = function () {\n      function e(t) {\n        var n = this,\n            i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        c(this, e);\n        var o = i.events || {\n          state: \"presence_state\",\n          diff: \"presence_diff\"\n        };\n        this.state = {}, this.pendingDiffs = [], this.channel = t, this.joinRef = null, this.caller = {\n          onJoin: function () {},\n          onLeave: function () {},\n          onSync: function () {}\n        }, this.channel.on(o.state, function (t) {\n          var i = n.caller,\n              o = i.onJoin,\n              r = i.onLeave,\n              s = i.onSync;\n          n.joinRef = n.channel.joinRef(), n.state = e.syncState(n.state, t, o, r), n.pendingDiffs.forEach(function (t) {\n            n.state = e.syncDiff(n.state, t, o, r);\n          }), n.pendingDiffs = [], s();\n        }), this.channel.on(o.diff, function (t) {\n          var i = n.caller,\n              o = i.onJoin,\n              r = i.onLeave,\n              s = i.onSync;\n          n.inPendingSyncState() ? n.pendingDiffs.push(t) : (n.state = e.syncDiff(n.state, t, o, r), s());\n        });\n      }\n\n      return h(e, [{\n        key: \"onJoin\",\n        value: function (e) {\n          this.caller.onJoin = e;\n        }\n      }, {\n        key: \"onLeave\",\n        value: function (e) {\n          this.caller.onLeave = e;\n        }\n      }, {\n        key: \"onSync\",\n        value: function (e) {\n          this.caller.onSync = e;\n        }\n      }, {\n        key: \"list\",\n        value: function (t) {\n          return e.list(this.state, t);\n        }\n      }, {\n        key: \"inPendingSyncState\",\n        value: function () {\n          return !this.joinRef || this.joinRef !== this.channel.joinRef();\n        }\n      }], [{\n        key: \"syncState\",\n        value: function (e, t, n, i) {\n          var o = this,\n              r = this.clone(e),\n              s = {},\n              a = {};\n          return this.map(r, function (e, n) {\n            t[e] || (a[e] = n);\n          }), this.map(t, function (e, t) {\n            var n = r[e];\n\n            if (n) {\n              var i = t.metas.map(function (e) {\n                return e.phx_ref;\n              }),\n                  c = n.metas.map(function (e) {\n                return e.phx_ref;\n              }),\n                  u = t.metas.filter(function (e) {\n                return c.indexOf(e.phx_ref) < 0;\n              }),\n                  h = n.metas.filter(function (e) {\n                return i.indexOf(e.phx_ref) < 0;\n              });\n              u.length > 0 && (s[e] = t, s[e].metas = u), h.length > 0 && (a[e] = o.clone(n), a[e].metas = h);\n            } else s[e] = t;\n          }), this.syncDiff(r, {\n            joins: s,\n            leaves: a\n          }, n, i);\n        }\n      }, {\n        key: \"syncDiff\",\n        value: function (e, t, n, o) {\n          var r = t.joins,\n              s = t.leaves,\n              a = this.clone(e);\n          return n || (n = function () {}), o || (o = function () {}), this.map(r, function (e, t) {\n            var o = a[e];\n\n            if (a[e] = t, o) {\n              var r,\n                  s = a[e].metas.map(function (e) {\n                return e.phx_ref;\n              }),\n                  c = o.metas.filter(function (e) {\n                return s.indexOf(e.phx_ref) < 0;\n              });\n              (r = a[e].metas).unshift.apply(r, i(c));\n            }\n\n            n(e, o, t);\n          }), this.map(s, function (e, t) {\n            var n = a[e];\n\n            if (n) {\n              var i = t.metas.map(function (e) {\n                return e.phx_ref;\n              });\n              n.metas = n.metas.filter(function (e) {\n                return i.indexOf(e.phx_ref) < 0;\n              }), o(e, n, t), 0 === n.metas.length && delete a[e];\n            }\n          }), a;\n        }\n      }, {\n        key: \"list\",\n        value: function (e, t) {\n          return t || (t = function (e, t) {\n            return t;\n          }), this.map(e, function (e, n) {\n            return t(e, n);\n          });\n        }\n      }, {\n        key: \"map\",\n        value: function (e, t) {\n          return Object.getOwnPropertyNames(e).map(function (n) {\n            return t(n, e[n]);\n          });\n        }\n      }, {\n        key: \"clone\",\n        value: function (e) {\n          return JSON.parse(JSON.stringify(e));\n        }\n      }]), e;\n    }(),\n        J = function () {\n      function e(t, n) {\n        c(this, e), this.callback = t, this.timerCalc = n, this.timer = null, this.tries = 0;\n      }\n\n      return h(e, [{\n        key: \"reset\",\n        value: function () {\n          this.tries = 0, clearTimeout(this.timer);\n        }\n      }, {\n        key: \"scheduleTimeout\",\n        value: function () {\n          var e = this;\n          clearTimeout(this.timer), this.timer = setTimeout(function () {\n            e.tries = e.tries + 1, e.callback();\n          }, this.timerCalc(this.tries + 1));\n        }\n      }]), e;\n    }();\n  }]);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vZGVwcy9waG9lbml4L3ByaXYvc3RhdGljL3Bob2VuaXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL2FsYW53aWxkZXIvQ29kZXMvZWxpeGlyL3RyaWJlMV91bWJyZWxsYS9kZXBzL3Bob2VuaXgvcHJpdi9zdGF0aWMvcGhvZW5peC5qcz8zNTkwIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuUGhvZW5peD10KCk6ZS5QaG9lbml4PXQoKX0odGhpcywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gbihpKXtpZih0W2ldKXJldHVybiB0W2ldLmV4cG9ydHM7dmFyIG89dFtpXT17aTppLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbaV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsbiksby5sPSEwLG8uZXhwb3J0c31yZXR1cm4gbi5tPWUsbi5jPXQsbi5kPWZ1bmN0aW9uKGUsdCxpKXtuLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6aX0pfSxuLnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1uKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYobi5yKGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgbyBpbiBlKW4uZChpLG8sZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxvKSk7cmV0dXJuIGl9LG4ubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gbi5kKHQsXCJhXCIsdCksdH0sbi5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxuLnA9XCJcIixuKG4ucz0wKX0oW2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7ZS5leHBvcnRzPXQuUGhvZW5peD1uKDIpfSkuY2FsbCh0aGlzLG4oMSkpfSxmdW5jdGlvbihlLHQpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKGUpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBhKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fHMoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4obz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gcihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgU3ltYm9sfHwhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpKXJldHVybjt2YXIgbj1bXSxpPSEwLG89ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgcyxhPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEoaT0ocz1hLm5leHQoKSkuZG9uZSkmJihuLnB1c2gocy52YWx1ZSksIXR8fG4ubGVuZ3RoIT09dCk7aT0hMCk7fWNhdGNoKGUpe289ITAscj1lfWZpbmFsbHl7dHJ5e2l8fG51bGw9PWEucmV0dXJufHxhLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyByfX1yZXR1cm4gbn0oZSx0KXx8cyhlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gcyhlLHQpe2lmKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBhKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKG4pOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9hKGUsdCk6dm9pZCAwfX1mdW5jdGlvbiBhKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAsaT1uZXcgQXJyYXkodCk7bjx0O24rKylpW25dPWVbbl07cmV0dXJuIGl9ZnVuY3Rpb24gYyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19ZnVuY3Rpb24gaChlLHQsbil7cmV0dXJuIHQmJnUoZS5wcm90b3R5cGUsdCksbiYmdShlLG4pLGV9bi5yKHQpLG4uZCh0LFwiQ2hhbm5lbFwiLChmdW5jdGlvbigpe3JldHVybiBffSkpLG4uZCh0LFwiU2VyaWFsaXplclwiLChmdW5jdGlvbigpe3JldHVybiBIfSkpLG4uZCh0LFwiU29ja2V0XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFV9KSksbi5kKHQsXCJMb25nUG9sbFwiLChmdW5jdGlvbigpe3JldHVybiBEfSkpLG4uZCh0LFwiQWpheFwiLChmdW5jdGlvbigpe3JldHVybiBNfSkpLG4uZCh0LFwiUHJlc2VuY2VcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKTt2YXIgbD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOm51bGwsZj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpudWxsLGQ9bHx8Znx8dm9pZCAwLHA9MCx2PTEseT0yLG09MyxnPVwiY2xvc2VkXCIsaz1cImVycm9yZWRcIixiPVwiam9pbmVkXCIsaj1cImpvaW5pbmdcIixDPVwibGVhdmluZ1wiLEU9XCJwaHhfY2xvc2VcIixSPVwicGh4X2Vycm9yXCIsVD1cInBoeF9qb2luXCIsUz1cInBoeF9yZXBseVwiLHc9XCJwaHhfbGVhdmVcIixBPVtFLFIsVCxTLHddLEw9XCJsb25ncG9sbFwiLHg9XCJ3ZWJzb2NrZXRcIixPPWZ1bmN0aW9uKGUpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpcmV0dXJuIGU7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fSxQPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4saSxvKXtjKHRoaXMsZSksdGhpcy5jaGFubmVsPXQsdGhpcy5ldmVudD1uLHRoaXMucGF5bG9hZD1pfHxmdW5jdGlvbigpe3JldHVybnt9fSx0aGlzLnJlY2VpdmVkUmVzcD1udWxsLHRoaXMudGltZW91dD1vLHRoaXMudGltZW91dFRpbWVyPW51bGwsdGhpcy5yZWNIb29rcz1bXSx0aGlzLnNlbnQ9ITF9cmV0dXJuIGgoZSxbe2tleTpcInJlc2VuZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudGltZW91dD1lLHRoaXMucmVzZXQoKSx0aGlzLnNlbmQoKX19LHtrZXk6XCJzZW5kXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmhhc1JlY2VpdmVkKFwidGltZW91dFwiKXx8KHRoaXMuc3RhcnRUaW1lb3V0KCksdGhpcy5zZW50PSEwLHRoaXMuY2hhbm5lbC5zb2NrZXQucHVzaCh7dG9waWM6dGhpcy5jaGFubmVsLnRvcGljLGV2ZW50OnRoaXMuZXZlbnQscGF5bG9hZDp0aGlzLnBheWxvYWQoKSxyZWY6dGhpcy5yZWYsam9pbl9yZWY6dGhpcy5jaGFubmVsLmpvaW5SZWYoKX0pKX19LHtrZXk6XCJyZWNlaXZlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5oYXNSZWNlaXZlZChlKSYmdCh0aGlzLnJlY2VpdmVkUmVzcC5yZXNwb25zZSksdGhpcy5yZWNIb29rcy5wdXNoKHtzdGF0dXM6ZSxjYWxsYmFjazp0fSksdGhpc319LHtrZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxSZWZFdmVudCgpLHRoaXMucmVmPW51bGwsdGhpcy5yZWZFdmVudD1udWxsLHRoaXMucmVjZWl2ZWRSZXNwPW51bGwsdGhpcy5zZW50PSExfX0se2tleTpcIm1hdGNoUmVjZWl2ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhdHVzLG49ZS5yZXNwb25zZTtlLnJlZjt0aGlzLnJlY0hvb2tzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdHVzPT09dH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jYWxsYmFjayhuKX0pKX19LHtrZXk6XCJjYW5jZWxSZWZFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5yZWZFdmVudCYmdGhpcy5jaGFubmVsLm9mZih0aGlzLnJlZkV2ZW50KX19LHtrZXk6XCJjYW5jZWxUaW1lb3V0XCIsdmFsdWU6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0VGltZXIpLHRoaXMudGltZW91dFRpbWVyPW51bGx9fSx7a2V5Olwic3RhcnRUaW1lb3V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMudGltZW91dFRpbWVyJiZ0aGlzLmNhbmNlbFRpbWVvdXQoKSx0aGlzLnJlZj10aGlzLmNoYW5uZWwuc29ja2V0Lm1ha2VSZWYoKSx0aGlzLnJlZkV2ZW50PXRoaXMuY2hhbm5lbC5yZXBseUV2ZW50TmFtZSh0aGlzLnJlZiksdGhpcy5jaGFubmVsLm9uKHRoaXMucmVmRXZlbnQsKGZ1bmN0aW9uKHQpe2UuY2FuY2VsUmVmRXZlbnQoKSxlLmNhbmNlbFRpbWVvdXQoKSxlLnJlY2VpdmVkUmVzcD10LGUubWF0Y2hSZWNlaXZlKHQpfSkpLHRoaXMudGltZW91dFRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS50cmlnZ2VyKFwidGltZW91dFwiLHt9KX0pLHRoaXMudGltZW91dCl9fSx7a2V5OlwiaGFzUmVjZWl2ZWRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZWNlaXZlZFJlc3AmJnRoaXMucmVjZWl2ZWRSZXNwLnN0YXR1cz09PWV9fSx7a2V5OlwidHJpZ2dlclwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5jaGFubmVsLnRyaWdnZXIodGhpcy5yZWZFdmVudCx7c3RhdHVzOmUscmVzcG9uc2U6dH0pfX1dKSxlfSgpLF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixpKXt2YXIgbz10aGlzO2ModGhpcyxlKSx0aGlzLnN0YXRlPWcsdGhpcy50b3BpYz10LHRoaXMucGFyYW1zPU8obnx8e30pLHRoaXMuc29ja2V0PWksdGhpcy5iaW5kaW5ncz1bXSx0aGlzLmJpbmRpbmdSZWY9MCx0aGlzLnRpbWVvdXQ9dGhpcy5zb2NrZXQudGltZW91dCx0aGlzLmpvaW5lZE9uY2U9ITEsdGhpcy5qb2luUHVzaD1uZXcgUCh0aGlzLFQsdGhpcy5wYXJhbXMsdGhpcy50aW1lb3V0KSx0aGlzLnB1c2hCdWZmZXI9W10sdGhpcy5zdGF0ZUNoYW5nZVJlZnM9W10sdGhpcy5yZWpvaW5UaW1lcj1uZXcgSigoZnVuY3Rpb24oKXtvLnNvY2tldC5pc0Nvbm5lY3RlZCgpJiZvLnJlam9pbigpfSksdGhpcy5zb2NrZXQucmVqb2luQWZ0ZXJNcyksdGhpcy5zdGF0ZUNoYW5nZVJlZnMucHVzaCh0aGlzLnNvY2tldC5vbkVycm9yKChmdW5jdGlvbigpe3JldHVybiBvLnJlam9pblRpbWVyLnJlc2V0KCl9KSkpLHRoaXMuc3RhdGVDaGFuZ2VSZWZzLnB1c2godGhpcy5zb2NrZXQub25PcGVuKChmdW5jdGlvbigpe28ucmVqb2luVGltZXIucmVzZXQoKSxvLmlzRXJyb3JlZCgpJiZvLnJlam9pbigpfSkpKSx0aGlzLmpvaW5QdXNoLnJlY2VpdmUoXCJva1wiLChmdW5jdGlvbigpe28uc3RhdGU9YixvLnJlam9pblRpbWVyLnJlc2V0KCksby5wdXNoQnVmZmVyLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlbmQoKX0pKSxvLnB1c2hCdWZmZXI9W119KSksdGhpcy5qb2luUHVzaC5yZWNlaXZlKFwiZXJyb3JcIiwoZnVuY3Rpb24oKXtvLnN0YXRlPWssby5zb2NrZXQuaXNDb25uZWN0ZWQoKSYmby5yZWpvaW5UaW1lci5zY2hlZHVsZVRpbWVvdXQoKX0pKSx0aGlzLm9uQ2xvc2UoKGZ1bmN0aW9uKCl7by5yZWpvaW5UaW1lci5yZXNldCgpLG8uc29ja2V0Lmhhc0xvZ2dlcigpJiZvLnNvY2tldC5sb2coXCJjaGFubmVsXCIsXCJjbG9zZSBcIi5jb25jYXQoby50b3BpYyxcIiBcIikuY29uY2F0KG8uam9pblJlZigpKSksby5zdGF0ZT1nLG8uc29ja2V0LnJlbW92ZShvKX0pKSx0aGlzLm9uRXJyb3IoKGZ1bmN0aW9uKGUpe28uc29ja2V0Lmhhc0xvZ2dlcigpJiZvLnNvY2tldC5sb2coXCJjaGFubmVsXCIsXCJlcnJvciBcIi5jb25jYXQoby50b3BpYyksZSksby5pc0pvaW5pbmcoKSYmby5qb2luUHVzaC5yZXNldCgpLG8uc3RhdGU9ayxvLnNvY2tldC5pc0Nvbm5lY3RlZCgpJiZvLnJlam9pblRpbWVyLnNjaGVkdWxlVGltZW91dCgpfSkpLHRoaXMuam9pblB1c2gucmVjZWl2ZShcInRpbWVvdXRcIiwoZnVuY3Rpb24oKXtvLnNvY2tldC5oYXNMb2dnZXIoKSYmby5zb2NrZXQubG9nKFwiY2hhbm5lbFwiLFwidGltZW91dCBcIi5jb25jYXQoby50b3BpYyxcIiAoXCIpLmNvbmNhdChvLmpvaW5SZWYoKSxcIilcIiksby5qb2luUHVzaC50aW1lb3V0KSxuZXcgUChvLHcsTyh7fSksby50aW1lb3V0KS5zZW5kKCksby5zdGF0ZT1rLG8uam9pblB1c2gucmVzZXQoKSxvLnNvY2tldC5pc0Nvbm5lY3RlZCgpJiZvLnJlam9pblRpbWVyLnNjaGVkdWxlVGltZW91dCgpfSkpLHRoaXMub24oUywoZnVuY3Rpb24oZSx0KXtvLnRyaWdnZXIoby5yZXBseUV2ZW50TmFtZSh0KSxlKX0pKX1yZXR1cm4gaChlLFt7a2V5Olwiam9pblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMudGltZW91dDtpZih0aGlzLmpvaW5lZE9uY2UpdGhyb3cgbmV3IEVycm9yKFwidHJpZWQgdG8gam9pbiBtdWx0aXBsZSB0aW1lcy4gJ2pvaW4nIGNhbiBvbmx5IGJlIGNhbGxlZCBhIHNpbmdsZSB0aW1lIHBlciBjaGFubmVsIGluc3RhbmNlXCIpO3JldHVybiB0aGlzLnRpbWVvdXQ9ZSx0aGlzLmpvaW5lZE9uY2U9ITAsdGhpcy5yZWpvaW4oKSx0aGlzLmpvaW5QdXNofX0se2tleTpcIm9uQ2xvc2VcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm9uKEUsZSl9fSx7a2V5Olwib25FcnJvclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9uKFIsKGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSkpfX0se2tleTpcIm9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmJpbmRpbmdSZWYrKztyZXR1cm4gdGhpcy5iaW5kaW5ncy5wdXNoKHtldmVudDplLHJlZjpuLGNhbGxiYWNrOnR9KSxufX0se2tleTpcIm9mZlwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzLmZpbHRlcigoZnVuY3Rpb24obil7cmV0dXJuIShuLmV2ZW50PT09ZSYmKHZvaWQgMD09PXR8fHQ9PT1uLnJlZikpfSkpfX0se2tleTpcImNhblB1c2hcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvY2tldC5pc0Nvbm5lY3RlZCgpJiZ0aGlzLmlzSm9pbmVkKCl9fSx7a2V5OlwicHVzaFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnRoaXMudGltZW91dDtpZighdGhpcy5qb2luZWRPbmNlKXRocm93IG5ldyBFcnJvcihcInRyaWVkIHRvIHB1c2ggJ1wiLmNvbmNhdChlLFwiJyB0byAnXCIpLmNvbmNhdCh0aGlzLnRvcGljLFwiJyBiZWZvcmUgam9pbmluZy4gVXNlIGNoYW5uZWwuam9pbigpIGJlZm9yZSBwdXNoaW5nIGV2ZW50c1wiKSk7dmFyIGk9bmV3IFAodGhpcyxlLChmdW5jdGlvbigpe3JldHVybiB0fSksbik7cmV0dXJuIHRoaXMuY2FuUHVzaCgpP2kuc2VuZCgpOihpLnN0YXJ0VGltZW91dCgpLHRoaXMucHVzaEJ1ZmZlci5wdXNoKGkpKSxpfX0se2tleTpcImxlYXZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMudGltZW91dDt0aGlzLnJlam9pblRpbWVyLnJlc2V0KCksdGhpcy5qb2luUHVzaC5jYW5jZWxUaW1lb3V0KCksdGhpcy5zdGF0ZT1DO3ZhciBuPWZ1bmN0aW9uKCl7ZS5zb2NrZXQuaGFzTG9nZ2VyKCkmJmUuc29ja2V0LmxvZyhcImNoYW5uZWxcIixcImxlYXZlIFwiLmNvbmNhdChlLnRvcGljKSksZS50cmlnZ2VyKEUsXCJsZWF2ZVwiKX0saT1uZXcgUCh0aGlzLHcsTyh7fSksdCk7cmV0dXJuIGkucmVjZWl2ZShcIm9rXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG4oKX0pKS5yZWNlaXZlKFwidGltZW91dFwiLChmdW5jdGlvbigpe3JldHVybiBuKCl9KSksaS5zZW5kKCksdGhpcy5jYW5QdXNoKCl8fGkudHJpZ2dlcihcIm9rXCIse30pLGl9fSx7a2V5Olwib25NZXNzYWdlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0fX0se2tleTpcImlzTGlmZWN5Y2xlRXZlbnRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gQS5pbmRleE9mKGUpPj0wfX0se2tleTpcImlzTWVtYmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIHRoaXMudG9waWM9PT1lJiYoIWl8fGk9PT10aGlzLmpvaW5SZWYoKXx8IXRoaXMuaXNMaWZlY3ljbGVFdmVudCh0KXx8KHRoaXMuc29ja2V0Lmhhc0xvZ2dlcigpJiZ0aGlzLnNvY2tldC5sb2coXCJjaGFubmVsXCIsXCJkcm9wcGluZyBvdXRkYXRlZCBtZXNzYWdlXCIse3RvcGljOmUsZXZlbnQ6dCxwYXlsb2FkOm4sam9pblJlZjppfSksITEpKX19LHtrZXk6XCJqb2luUmVmXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qb2luUHVzaC5yZWZ9fSx7a2V5OlwicmVqb2luXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy50aW1lb3V0O3RoaXMuaXNMZWF2aW5nKCl8fCh0aGlzLnNvY2tldC5sZWF2ZU9wZW5Ub3BpYyh0aGlzLnRvcGljKSx0aGlzLnN0YXRlPWosdGhpcy5qb2luUHVzaC5yZXNlbmQoZSkpfX0se2tleTpcInRyaWdnZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQsbixpKXt2YXIgbz10aGlzLm9uTWVzc2FnZShlLHQsbixpKTtpZih0JiYhbyl0aHJvdyBuZXcgRXJyb3IoXCJjaGFubmVsIG9uTWVzc2FnZSBjYWxsYmFja3MgbXVzdCByZXR1cm4gdGhlIHBheWxvYWQsIG1vZGlmaWVkIG9yIHVubW9kaWZpZWRcIik7Zm9yKHZhciByPXRoaXMuYmluZGluZ3MuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5ldmVudD09PWV9KSkscz0wO3M8ci5sZW5ndGg7cysrKXtyW3NdLmNhbGxiYWNrKG8sbixpfHx0aGlzLmpvaW5SZWYoKSl9fX0se2tleTpcInJlcGx5RXZlbnROYW1lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJjaGFuX3JlcGx5X1wiLmNvbmNhdChlKX19LHtrZXk6XCJpc0Nsb3NlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGU9PT1nfX0se2tleTpcImlzRXJyb3JlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGU9PT1rfX0se2tleTpcImlzSm9pbmVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZT09PWJ9fSx7a2V5OlwiaXNKb2luaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZT09PWp9fSx7a2V5OlwiaXNMZWF2aW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZT09PUN9fV0pLGV9KCksSD17SEVBREVSX0xFTkdUSDoxLE1FVEFfTEVOR1RIOjQsS0lORFM6e3B1c2g6MCxyZXBseToxLGJyb2FkY2FzdDoyfSxlbmNvZGU6ZnVuY3Rpb24oZSx0KXtpZihlLnBheWxvYWQuY29uc3RydWN0b3I9PT1BcnJheUJ1ZmZlcilyZXR1cm4gdCh0aGlzLmJpbmFyeUVuY29kZShlKSk7dmFyIG49W2Uuam9pbl9yZWYsZS5yZWYsZS50b3BpYyxlLmV2ZW50LGUucGF5bG9hZF07cmV0dXJuIHQoSlNPTi5zdHJpbmdpZnkobikpfSxkZWNvZGU6ZnVuY3Rpb24oZSx0KXtpZihlLmNvbnN0cnVjdG9yPT09QXJyYXlCdWZmZXIpcmV0dXJuIHQodGhpcy5iaW5hcnlEZWNvZGUoZSkpO3ZhciBuPXIoSlNPTi5wYXJzZShlKSw1KTtyZXR1cm4gdCh7am9pbl9yZWY6blswXSxyZWY6blsxXSx0b3BpYzpuWzJdLGV2ZW50Om5bM10scGF5bG9hZDpuWzRdfSl9LGJpbmFyeUVuY29kZTpmdW5jdGlvbihlKXt2YXIgdD1lLmpvaW5fcmVmLG49ZS5yZWYsaT1lLmV2ZW50LG89ZS50b3BpYyxyPWUucGF5bG9hZCxzPXRoaXMuTUVUQV9MRU5HVEgrdC5sZW5ndGgrbi5sZW5ndGgrby5sZW5ndGgraS5sZW5ndGgsYT1uZXcgQXJyYXlCdWZmZXIodGhpcy5IRUFERVJfTEVOR1RIK3MpLGM9bmV3IERhdGFWaWV3KGEpLHU9MDtjLnNldFVpbnQ4KHUrKyx0aGlzLktJTkRTLnB1c2gpLGMuc2V0VWludDgodSsrLHQubGVuZ3RoKSxjLnNldFVpbnQ4KHUrKyxuLmxlbmd0aCksYy5zZXRVaW50OCh1Kyssby5sZW5ndGgpLGMuc2V0VWludDgodSsrLGkubGVuZ3RoKSxBcnJheS5mcm9tKHQsKGZ1bmN0aW9uKGUpe3JldHVybiBjLnNldFVpbnQ4KHUrKyxlLmNoYXJDb2RlQXQoMCkpfSkpLEFycmF5LmZyb20obiwoZnVuY3Rpb24oZSl7cmV0dXJuIGMuc2V0VWludDgodSsrLGUuY2hhckNvZGVBdCgwKSl9KSksQXJyYXkuZnJvbShvLChmdW5jdGlvbihlKXtyZXR1cm4gYy5zZXRVaW50OCh1KyssZS5jaGFyQ29kZUF0KDApKX0pKSxBcnJheS5mcm9tKGksKGZ1bmN0aW9uKGUpe3JldHVybiBjLnNldFVpbnQ4KHUrKyxlLmNoYXJDb2RlQXQoMCkpfSkpO3ZhciBoPW5ldyBVaW50OEFycmF5KGEuYnl0ZUxlbmd0aCtyLmJ5dGVMZW5ndGgpO3JldHVybiBoLnNldChuZXcgVWludDhBcnJheShhKSwwKSxoLnNldChuZXcgVWludDhBcnJheShyKSxhLmJ5dGVMZW5ndGgpLGguYnVmZmVyfSxiaW5hcnlEZWNvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IERhdGFWaWV3KGUpLG49dC5nZXRVaW50OCgwKSxpPW5ldyBUZXh0RGVjb2Rlcjtzd2l0Y2gobil7Y2FzZSB0aGlzLktJTkRTLnB1c2g6cmV0dXJuIHRoaXMuZGVjb2RlUHVzaChlLHQsaSk7Y2FzZSB0aGlzLktJTkRTLnJlcGx5OnJldHVybiB0aGlzLmRlY29kZVJlcGx5KGUsdCxpKTtjYXNlIHRoaXMuS0lORFMuYnJvYWRjYXN0OnJldHVybiB0aGlzLmRlY29kZUJyb2FkY2FzdChlLHQsaSl9fSxkZWNvZGVQdXNoOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10LmdldFVpbnQ4KDEpLG89dC5nZXRVaW50OCgyKSxyPXQuZ2V0VWludDgoMykscz10aGlzLkhFQURFUl9MRU5HVEgrdGhpcy5NRVRBX0xFTkdUSC0xLGE9bi5kZWNvZGUoZS5zbGljZShzLHMraSkpO3MrPWk7dmFyIGM9bi5kZWNvZGUoZS5zbGljZShzLHMrbykpO3MrPW87dmFyIHU9bi5kZWNvZGUoZS5zbGljZShzLHMrcikpO3JldHVybiBzKz1yLHtqb2luX3JlZjphLHJlZjpudWxsLHRvcGljOmMsZXZlbnQ6dSxwYXlsb2FkOmUuc2xpY2UocyxlLmJ5dGVMZW5ndGgpfX0sZGVjb2RlUmVwbHk6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXQuZ2V0VWludDgoMSksbz10LmdldFVpbnQ4KDIpLHI9dC5nZXRVaW50OCgzKSxzPXQuZ2V0VWludDgoNCksYT10aGlzLkhFQURFUl9MRU5HVEgrdGhpcy5NRVRBX0xFTkdUSCxjPW4uZGVjb2RlKGUuc2xpY2UoYSxhK2kpKTthKz1pO3ZhciB1PW4uZGVjb2RlKGUuc2xpY2UoYSxhK28pKTthKz1vO3ZhciBoPW4uZGVjb2RlKGUuc2xpY2UoYSxhK3IpKTthKz1yO3ZhciBsPW4uZGVjb2RlKGUuc2xpY2UoYSxhK3MpKTthKz1zO3ZhciBmPWUuc2xpY2UoYSxlLmJ5dGVMZW5ndGgpO3JldHVybntqb2luX3JlZjpjLHJlZjp1LHRvcGljOmgsZXZlbnQ6UyxwYXlsb2FkOntzdGF0dXM6bCxyZXNwb25zZTpmfX19LGRlY29kZUJyb2FkY2FzdDpmdW5jdGlvbihlLHQsbil7dmFyIGk9dC5nZXRVaW50OCgxKSxvPXQuZ2V0VWludDgoMikscj10aGlzLkhFQURFUl9MRU5HVEgrMixzPW4uZGVjb2RlKGUuc2xpY2UocixyK2kpKTtyKz1pO3ZhciBhPW4uZGVjb2RlKGUuc2xpY2UocixyK28pKTtyZXR1cm4gcis9byx7am9pbl9yZWY6bnVsbCxyZWY6bnVsbCx0b3BpYzpzLGV2ZW50OmEscGF5bG9hZDplLnNsaWNlKHIsZS5ieXRlTGVuZ3RoKX19fSxVPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj10aGlzLGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2ModGhpcyxlKSx0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzPXtvcGVuOltdLGNsb3NlOltdLGVycm9yOltdLG1lc3NhZ2U6W119LHRoaXMuY2hhbm5lbHM9W10sdGhpcy5zZW5kQnVmZmVyPVtdLHRoaXMucmVmPTAsdGhpcy50aW1lb3V0PWkudGltZW91dHx8MWU0LHRoaXMudHJhbnNwb3J0PWkudHJhbnNwb3J0fHxkLldlYlNvY2tldHx8RCx0aGlzLmRlZmF1bHRFbmNvZGVyPUguZW5jb2RlLmJpbmQoSCksdGhpcy5kZWZhdWx0RGVjb2Rlcj1ILmRlY29kZS5iaW5kKEgpLHRoaXMuY2xvc2VXYXNDbGVhbj0hMSx0aGlzLnVubG9hZGVkPSExLHRoaXMuYmluYXJ5VHlwZT1pLmJpbmFyeVR5cGV8fFwiYXJyYXlidWZmZXJcIix0aGlzLnRyYW5zcG9ydCE9PUQ/KHRoaXMuZW5jb2RlPWkuZW5jb2RlfHx0aGlzLmRlZmF1bHRFbmNvZGVyLHRoaXMuZGVjb2RlPWkuZGVjb2RlfHx0aGlzLmRlZmF1bHREZWNvZGVyKToodGhpcy5lbmNvZGU9dGhpcy5kZWZhdWx0RW5jb2Rlcix0aGlzLmRlY29kZT10aGlzLmRlZmF1bHREZWNvZGVyKSxmJiZmLmFkZEV2ZW50TGlzdGVuZXImJmYuYWRkRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLChmdW5jdGlvbihlKXtuLmNvbm4mJihuLnVubG9hZGVkPSEwLG4uYWJub3JtYWxDbG9zZShcInVubG9hZGVkXCIpKX0pKSx0aGlzLmhlYXJ0YmVhdEludGVydmFsTXM9aS5oZWFydGJlYXRJbnRlcnZhbE1zfHwzZTQsdGhpcy5yZWpvaW5BZnRlck1zPWZ1bmN0aW9uKGUpe3JldHVybiBpLnJlam9pbkFmdGVyTXM/aS5yZWpvaW5BZnRlck1zKGUpOlsxZTMsMmUzLDVlM11bZS0xXXx8MWU0fSx0aGlzLnJlY29ubmVjdEFmdGVyTXM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4udW5sb2FkZWQ/MTAwOmkucmVjb25uZWN0QWZ0ZXJNcz9pLnJlY29ubmVjdEFmdGVyTXMoZSk6WzEwLDUwLDEwMCwxNTAsMjAwLDI1MCw1MDAsMWUzLDJlM11bZS0xXXx8NWUzfSx0aGlzLmxvZ2dlcj1pLmxvZ2dlcnx8bnVsbCx0aGlzLmxvbmdwb2xsZXJUaW1lb3V0PWkubG9uZ3BvbGxlclRpbWVvdXR8fDJlNCx0aGlzLnBhcmFtcz1PKGkucGFyYW1zfHx7fSksdGhpcy5lbmRQb2ludD1cIlwiLmNvbmNhdCh0LFwiL1wiKS5jb25jYXQoeCksdGhpcy52c249aS52c258fFwiMi4wLjBcIix0aGlzLmhlYXJ0YmVhdFRpbWVyPW51bGwsdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmPW51bGwsdGhpcy5yZWNvbm5lY3RUaW1lcj1uZXcgSigoZnVuY3Rpb24oKXtuLnRlYXJkb3duKChmdW5jdGlvbigpe3JldHVybiBuLmNvbm5lY3QoKX0pKX0pLHRoaXMucmVjb25uZWN0QWZ0ZXJNcyl9cmV0dXJuIGgoZSxbe2tleTpcInByb3RvY29sXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbG9jYXRpb24ucHJvdG9jb2wubWF0Y2goL15odHRwcy8pP1wid3NzXCI6XCJ3c1wifX0se2tleTpcImVuZFBvaW50VVJMXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1NLmFwcGVuZFBhcmFtcyhNLmFwcGVuZFBhcmFtcyh0aGlzLmVuZFBvaW50LHRoaXMucGFyYW1zKCkpLHt2c246dGhpcy52c259KTtyZXR1cm5cIi9cIiE9PWUuY2hhckF0KDApP2U6XCIvXCI9PT1lLmNoYXJBdCgxKT9cIlwiLmNvbmNhdCh0aGlzLnByb3RvY29sKCksXCI6XCIpLmNvbmNhdChlKTpcIlwiLmNvbmNhdCh0aGlzLnByb3RvY29sKCksXCI6Ly9cIikuY29uY2F0KGxvY2F0aW9uLmhvc3QpLmNvbmNhdChlKX19LHtrZXk6XCJkaXNjb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuY2xvc2VXYXNDbGVhbj0hMCx0aGlzLnJlY29ubmVjdFRpbWVyLnJlc2V0KCksdGhpcy50ZWFyZG93bihlLHQsbil9fSx7a2V5OlwiY29ubmVjdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZSYmKGNvbnNvbGUmJmNvbnNvbGUubG9nKFwicGFzc2luZyBwYXJhbXMgdG8gY29ubmVjdCBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkIHBhc3MgOnBhcmFtcyB0byB0aGUgU29ja2V0IGNvbnN0cnVjdG9yXCIpLHRoaXMucGFyYW1zPU8oZSkpLHRoaXMuY29ubnx8KHRoaXMuY2xvc2VXYXNDbGVhbj0hMSx0aGlzLmNvbm49bmV3IHRoaXMudHJhbnNwb3J0KHRoaXMuZW5kUG9pbnRVUkwoKSksdGhpcy5jb25uLmJpbmFyeVR5cGU9dGhpcy5iaW5hcnlUeXBlLHRoaXMuY29ubi50aW1lb3V0PXRoaXMubG9uZ3BvbGxlclRpbWVvdXQsdGhpcy5jb25uLm9ub3Blbj1mdW5jdGlvbigpe3JldHVybiB0Lm9uQ29ubk9wZW4oKX0sdGhpcy5jb25uLm9uZXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Db25uRXJyb3IoZSl9LHRoaXMuY29ubi5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Db25uTWVzc2FnZShlKX0sdGhpcy5jb25uLm9uY2xvc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Db25uQ2xvc2UoZSl9KX19LHtrZXk6XCJsb2dcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dGhpcy5sb2dnZXIoZSx0LG4pfX0se2tleTpcImhhc0xvZ2dlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmxvZ2dlcn19LHtrZXk6XCJvbk9wZW5cIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm1ha2VSZWYoKTtyZXR1cm4gdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5vcGVuLnB1c2goW3QsZV0pLHR9fSx7a2V5Olwib25DbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWFrZVJlZigpO3JldHVybiB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLmNsb3NlLnB1c2goW3QsZV0pLHR9fSx7a2V5Olwib25FcnJvclwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWFrZVJlZigpO3JldHVybiB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLmVycm9yLnB1c2goW3QsZV0pLHR9fSx7a2V5Olwib25NZXNzYWdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tYWtlUmVmKCk7cmV0dXJuIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MubWVzc2FnZS5wdXNoKFt0LGVdKSx0fX0se2tleTpcIm9uQ29ubk9wZW5cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaGFzTG9nZ2VyKCkmJnRoaXMubG9nKFwidHJhbnNwb3J0XCIsXCJjb25uZWN0ZWQgdG8gXCIuY29uY2F0KHRoaXMuZW5kUG9pbnRVUkwoKSkpLHRoaXMudW5sb2FkZWQ9ITEsdGhpcy5jbG9zZVdhc0NsZWFuPSExLHRoaXMuZmx1c2hTZW5kQnVmZmVyKCksdGhpcy5yZWNvbm5lY3RUaW1lci5yZXNldCgpLHRoaXMucmVzZXRIZWFydGJlYXQoKSx0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLm9wZW4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuKDAscihlLDIpWzFdKSgpfSkpfX0se2tleTpcInJlc2V0SGVhcnRiZWF0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuY29ubiYmdGhpcy5jb25uLnNraXBIZWFydGJlYXR8fCh0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWY9bnVsbCxjbGVhckludGVydmFsKHRoaXMuaGVhcnRiZWF0VGltZXIpLHRoaXMuaGVhcnRiZWF0VGltZXI9c2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7cmV0dXJuIGUuc2VuZEhlYXJ0YmVhdCgpfSksdGhpcy5oZWFydGJlYXRJbnRlcnZhbE1zKSl9fSx7a2V5OlwidGVhcmRvd25cIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcztpZighdGhpcy5jb25uKXJldHVybiBlJiZlKCk7dGhpcy53YWl0Rm9yQnVmZmVyRG9uZSgoZnVuY3Rpb24oKXtpLmNvbm4mJih0P2kuY29ubi5jbG9zZSh0LG58fFwiXCIpOmkuY29ubi5jbG9zZSgpKSxpLndhaXRGb3JTb2NrZXRDbG9zZWQoKGZ1bmN0aW9uKCl7aS5jb25uJiYoaS5jb25uLm9uY2xvc2U9ZnVuY3Rpb24oKXt9LGkuY29ubj1udWxsKSxlJiZlKCl9KSl9KSl9fSx7a2V5Olwid2FpdEZvckJ1ZmZlckRvbmVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjE7NSE9PW4mJnRoaXMuY29ubiYmdGhpcy5jb25uLmJ1ZmZlcmVkQW1vdW50P3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC53YWl0Rm9yQnVmZmVyRG9uZShlLG4rMSl9KSwxNTAqbik6ZSgpfX0se2tleTpcIndhaXRGb3JTb2NrZXRDbG9zZWRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjE7NSE9PW4mJnRoaXMuY29ubiYmdGhpcy5jb25uLnJlYWR5U3RhdGUhPT1tP3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC53YWl0Rm9yU29ja2V0Q2xvc2VkKGUsbisxKX0pLDE1MCpuKTplKCl9fSx7a2V5Olwib25Db25uQ2xvc2VcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmhhc0xvZ2dlcigpJiZ0aGlzLmxvZyhcInRyYW5zcG9ydFwiLFwiY2xvc2VcIixlKSx0aGlzLnRyaWdnZXJDaGFuRXJyb3IoKSxjbGVhckludGVydmFsKHRoaXMuaGVhcnRiZWF0VGltZXIpLHRoaXMuY2xvc2VXYXNDbGVhbnx8dGhpcy5yZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKSx0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLmNsb3NlLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybigwLHIodCwyKVsxXSkoZSl9KSl9fSx7a2V5Olwib25Db25uRXJyb3JcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmhhc0xvZ2dlcigpJiZ0aGlzLmxvZyhcInRyYW5zcG9ydFwiLGUpLHRoaXMudHJpZ2dlckNoYW5FcnJvcigpLHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MuZXJyb3IuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuKDAscih0LDIpWzFdKShlKX0pKX19LHtrZXk6XCJ0cmlnZ2VyQ2hhbkVycm9yXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNoYW5uZWxzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuaXNFcnJvcmVkKCl8fGUuaXNMZWF2aW5nKCl8fGUuaXNDbG9zZWQoKXx8ZS50cmlnZ2VyKFIpfSkpfX0se2tleTpcImNvbm5lY3Rpb25TdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuY29ubiYmdGhpcy5jb25uLnJlYWR5U3RhdGUpe2Nhc2UgcDpyZXR1cm5cImNvbm5lY3RpbmdcIjtjYXNlIHY6cmV0dXJuXCJvcGVuXCI7Y2FzZSB5OnJldHVyblwiY2xvc2luZ1wiO2RlZmF1bHQ6cmV0dXJuXCJjbG9zZWRcIn19fSx7a2V5OlwiaXNDb25uZWN0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwib3BlblwiPT09dGhpcy5jb25uZWN0aW9uU3RhdGUoKX19LHtrZXk6XCJyZW1vdmVcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLm9mZihlLnN0YXRlQ2hhbmdlUmVmcyksdGhpcy5jaGFubmVscz10aGlzLmNoYW5uZWxzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuam9pblJlZigpIT09ZS5qb2luUmVmKCl9KSl9fSx7a2V5Olwib2ZmXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MpdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrc1t0XT10aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzW3RdLmZpbHRlcigoZnVuY3Rpb24odCl7dmFyIG49cih0LDEpWzBdO3JldHVybi0xPT09ZS5pbmRleE9mKG4pfSkpfX0se2tleTpcImNoYW5uZWxcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sbj1uZXcgXyhlLHQsdGhpcyk7cmV0dXJuIHRoaXMuY2hhbm5lbHMucHVzaChuKSxufX0se2tleTpcInB1c2hcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuaGFzTG9nZ2VyKCkpe3ZhciBuPWUudG9waWMsaT1lLmV2ZW50LG89ZS5wYXlsb2FkLHI9ZS5yZWYscz1lLmpvaW5fcmVmO3RoaXMubG9nKFwicHVzaFwiLFwiXCIuY29uY2F0KG4sXCIgXCIpLmNvbmNhdChpLFwiIChcIikuY29uY2F0KHMsXCIsIFwiKS5jb25jYXQocixcIilcIiksbyl9dGhpcy5pc0Nvbm5lY3RlZCgpP3RoaXMuZW5jb2RlKGUsKGZ1bmN0aW9uKGUpe3JldHVybiB0LmNvbm4uc2VuZChlKX0pKTp0aGlzLnNlbmRCdWZmZXIucHVzaCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5lbmNvZGUoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuY29ubi5zZW5kKGUpfSkpfSkpfX0se2tleTpcIm1ha2VSZWZcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVmKzE7cmV0dXJuIGU9PT10aGlzLnJlZj90aGlzLnJlZj0wOnRoaXMucmVmPWUsdGhpcy5yZWYudG9TdHJpbmcoKX19LHtrZXk6XCJzZW5kSGVhcnRiZWF0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmlzQ29ubmVjdGVkKCkpe2lmKHRoaXMucGVuZGluZ0hlYXJ0YmVhdFJlZilyZXR1cm4gdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmPW51bGwsdGhpcy5oYXNMb2dnZXIoKSYmdGhpcy5sb2coXCJ0cmFuc3BvcnRcIixcImhlYXJ0YmVhdCB0aW1lb3V0LiBBdHRlbXB0aW5nIHRvIHJlLWVzdGFibGlzaCBjb25uZWN0aW9uXCIpLHZvaWQgdGhpcy5hYm5vcm1hbENsb3NlKFwiaGVhcnRiZWF0IHRpbWVvdXRcIik7dGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmPXRoaXMubWFrZVJlZigpLHRoaXMucHVzaCh7dG9waWM6XCJwaG9lbml4XCIsZXZlbnQ6XCJoZWFydGJlYXRcIixwYXlsb2FkOnt9LHJlZjp0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWZ9KX19fSx7a2V5OlwiYWJub3JtYWxDbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY2xvc2VXYXNDbGVhbj0hMSx0aGlzLmNvbm4ucmVhZHlTdGF0ZT09PXYmJnRoaXMuY29ubi5jbG9zZSgxZTMsZSl9fSx7a2V5OlwiZmx1c2hTZW5kQnVmZmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzQ29ubmVjdGVkKCkmJnRoaXMuc2VuZEJ1ZmZlci5sZW5ndGg+MCYmKHRoaXMuc2VuZEJ1ZmZlci5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSkpLHRoaXMuc2VuZEJ1ZmZlcj1bXSl9fSx7a2V5Olwib25Db25uTWVzc2FnZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5kZWNvZGUoZS5kYXRhLChmdW5jdGlvbihlKXt2YXIgbj1lLnRvcGljLGk9ZS5ldmVudCxvPWUucGF5bG9hZCxzPWUucmVmLGE9ZS5qb2luX3JlZjtzJiZzPT09dC5wZW5kaW5nSGVhcnRiZWF0UmVmJiYodC5wZW5kaW5nSGVhcnRiZWF0UmVmPW51bGwpLHQuaGFzTG9nZ2VyKCkmJnQubG9nKFwicmVjZWl2ZVwiLFwiXCIuY29uY2F0KG8uc3RhdHVzfHxcIlwiLFwiIFwiKS5jb25jYXQobixcIiBcIikuY29uY2F0KGksXCIgXCIpLmNvbmNhdChzJiZcIihcIitzK1wiKVwifHxcIlwiKSxvKTtmb3IodmFyIGM9MDtjPHQuY2hhbm5lbHMubGVuZ3RoO2MrKyl7dmFyIHU9dC5jaGFubmVsc1tjXTt1LmlzTWVtYmVyKG4saSxvLGEpJiZ1LnRyaWdnZXIoaSxvLHMsYSl9Zm9yKHZhciBoPTA7aDx0LnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLm1lc3NhZ2UubGVuZ3RoO2grKyl7KDAscih0LnN0YXRlQ2hhbmdlQ2FsbGJhY2tzLm1lc3NhZ2VbaF0sMilbMV0pKGUpfX0pKX19LHtrZXk6XCJsZWF2ZU9wZW5Ub3BpY1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY2hhbm5lbHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9waWM9PT1lJiYodC5pc0pvaW5lZCgpfHx0LmlzSm9pbmluZygpKX0pKTt0JiYodGhpcy5oYXNMb2dnZXIoKSYmdGhpcy5sb2coXCJ0cmFuc3BvcnRcIiwnbGVhdmluZyBkdXBsaWNhdGUgdG9waWMgXCInLmNvbmNhdChlLCdcIicpKSx0LmxlYXZlKCkpfX1dKSxlfSgpLEQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2ModGhpcyxlKSx0aGlzLmVuZFBvaW50PW51bGwsdGhpcy50b2tlbj1udWxsLHRoaXMuc2tpcEhlYXJ0YmVhdD0hMCx0aGlzLm9ub3Blbj1mdW5jdGlvbigpe30sdGhpcy5vbmVycm9yPWZ1bmN0aW9uKCl7fSx0aGlzLm9ubWVzc2FnZT1mdW5jdGlvbigpe30sdGhpcy5vbmNsb3NlPWZ1bmN0aW9uKCl7fSx0aGlzLnBvbGxFbmRwb2ludD10aGlzLm5vcm1hbGl6ZUVuZHBvaW50KHQpLHRoaXMucmVhZHlTdGF0ZT1wLHRoaXMucG9sbCgpfXJldHVybiBoKGUsW3trZXk6XCJub3JtYWxpemVFbmRwb2ludFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoXCJ3czovL1wiLFwiaHR0cDovL1wiKS5yZXBsYWNlKFwid3NzOi8vXCIsXCJodHRwczovL1wiKS5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoLiopL1wiK3gpLFwiJDEvXCIrTCl9fSx7a2V5OlwiZW5kcG9pbnRVUkxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBNLmFwcGVuZFBhcmFtcyh0aGlzLnBvbGxFbmRwb2ludCx7dG9rZW46dGhpcy50b2tlbn0pfX0se2tleTpcImNsb3NlQW5kUmV0cnlcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2xvc2UoKSx0aGlzLnJlYWR5U3RhdGU9cH19LHtrZXk6XCJvbnRpbWVvdXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMub25lcnJvcihcInRpbWVvdXRcIiksdGhpcy5jbG9zZUFuZFJldHJ5KCl9fSx7a2V5OlwicG9sbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnJlYWR5U3RhdGUhPT12JiZ0aGlzLnJlYWR5U3RhdGUhPT1wfHxNLnJlcXVlc3QoXCJHRVRcIix0aGlzLmVuZHBvaW50VVJMKCksXCJhcHBsaWNhdGlvbi9qc29uXCIsbnVsbCx0aGlzLnRpbWVvdXQsdGhpcy5vbnRpbWVvdXQuYmluZCh0aGlzKSwoZnVuY3Rpb24odCl7aWYodCl7dmFyIG49dC5zdGF0dXMsaT10LnRva2VuLG89dC5tZXNzYWdlcztlLnRva2VuPWl9ZWxzZSBuPTA7c3dpdGNoKG4pe2Nhc2UgMjAwOm8uZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGUub25tZXNzYWdlKHtkYXRhOnR9KX0pKSxlLnBvbGwoKTticmVhaztjYXNlIDIwNDplLnBvbGwoKTticmVhaztjYXNlIDQxMDplLnJlYWR5U3RhdGU9dixlLm9ub3BlbigpLGUucG9sbCgpO2JyZWFrO2Nhc2UgNDAzOmUub25lcnJvcigpLGUuY2xvc2UoKTticmVhaztjYXNlIDA6Y2FzZSA1MDA6ZS5vbmVycm9yKCksZS5jbG9zZUFuZFJldHJ5KCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJ1bmhhbmRsZWQgcG9sbCBzdGF0dXMgXCIuY29uY2F0KG4pKX19KSl9fSx7a2V5Olwic2VuZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7TS5yZXF1ZXN0KFwiUE9TVFwiLHRoaXMuZW5kcG9pbnRVUkwoKSxcImFwcGxpY2F0aW9uL2pzb25cIixlLHRoaXMudGltZW91dCx0aGlzLm9uZXJyb3IuYmluZCh0aGlzLFwidGltZW91dFwiKSwoZnVuY3Rpb24oZSl7ZSYmMjAwPT09ZS5zdGF0dXN8fCh0Lm9uZXJyb3IoZSYmZS5zdGF0dXMpLHQuY2xvc2VBbmRSZXRyeSgpKX0pKX19LHtrZXk6XCJjbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5yZWFkeVN0YXRlPW0sdGhpcy5vbmNsb3NlKCl9fV0pLGV9KCksTT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtjKHRoaXMsZSl9cmV0dXJuIGgoZSxudWxsLFt7a2V5OlwicmVxdWVzdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGksbyxyLHMpe2lmKGQuWERvbWFpblJlcXVlc3Qpe3ZhciBhPW5ldyBYRG9tYWluUmVxdWVzdDt0aGlzLnhkb21haW5SZXF1ZXN0KGEsZSx0LGksbyxyLHMpfWVsc2V7dmFyIGM9bmV3IGQuWE1MSHR0cFJlcXVlc3Q7dGhpcy54aHJSZXF1ZXN0KGMsZSx0LG4saSxvLHIscyl9fX0se2tleTpcInhkb21haW5SZXF1ZXN0XCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSxvLHIscyl7dmFyIGE9dGhpcztlLnRpbWVvdXQ9byxlLm9wZW4odCxuKSxlLm9ubG9hZD1mdW5jdGlvbigpe3ZhciB0PWEucGFyc2VKU09OKGUucmVzcG9uc2VUZXh0KTtzJiZzKHQpfSxyJiYoZS5vbnRpbWVvdXQ9ciksZS5vbnByb2dyZXNzPWZ1bmN0aW9uKCl7fSxlLnNlbmQoaSl9fSx7a2V5OlwieGhyUmVxdWVzdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLGksbyxyLHMsYSl7dmFyIGM9dGhpcztlLm9wZW4odCxuLCEwKSxlLnRpbWVvdXQ9cixlLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixpKSxlLm9uZXJyb3I9ZnVuY3Rpb24oKXthJiZhKG51bGwpfSxlLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKGUucmVhZHlTdGF0ZT09PWMuc3RhdGVzLmNvbXBsZXRlJiZhKXt2YXIgdD1jLnBhcnNlSlNPTihlLnJlc3BvbnNlVGV4dCk7YSh0KX19LHMmJihlLm9udGltZW91dD1zKSxlLnNlbmQobyl9fSx7a2V5OlwicGFyc2VKU09OXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWV8fFwiXCI9PT1lKXJldHVybiBudWxsO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaCh0KXtyZXR1cm4gY29uc29sZSYmY29uc29sZS5sb2coXCJmYWlsZWQgdG8gcGFyc2UgSlNPTiByZXNwb25zZVwiLGUpLG51bGx9fX0se2tleTpcInNlcmlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49W107Zm9yKHZhciBpIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShpKSl7dmFyIHI9dD9cIlwiLmNvbmNhdCh0LFwiW1wiKS5jb25jYXQoaSxcIl1cIik6aSxzPWVbaV07XCJvYmplY3RcIj09PW8ocyk/bi5wdXNoKHRoaXMuc2VyaWFsaXplKHMscikpOm4ucHVzaChlbmNvZGVVUklDb21wb25lbnQocikrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHMpKX1yZXR1cm4gbi5qb2luKFwiJlwiKX19LHtrZXk6XCJhcHBlbmRQYXJhbXNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKDA9PT1PYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIGU7dmFyIG49ZS5tYXRjaCgvXFw/Lyk/XCImXCI6XCI/XCI7cmV0dXJuXCJcIi5jb25jYXQoZSkuY29uY2F0KG4pLmNvbmNhdCh0aGlzLnNlcmlhbGl6ZSh0KSl9fV0pLGV9KCk7TS5zdGF0ZXM9e2NvbXBsZXRlOjR9O3ZhciBOPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgbj10aGlzLGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2ModGhpcyxlKTt2YXIgbz1pLmV2ZW50c3x8e3N0YXRlOlwicHJlc2VuY2Vfc3RhdGVcIixkaWZmOlwicHJlc2VuY2VfZGlmZlwifTt0aGlzLnN0YXRlPXt9LHRoaXMucGVuZGluZ0RpZmZzPVtdLHRoaXMuY2hhbm5lbD10LHRoaXMuam9pblJlZj1udWxsLHRoaXMuY2FsbGVyPXtvbkpvaW46ZnVuY3Rpb24oKXt9LG9uTGVhdmU6ZnVuY3Rpb24oKXt9LG9uU3luYzpmdW5jdGlvbigpe319LHRoaXMuY2hhbm5lbC5vbihvLnN0YXRlLChmdW5jdGlvbih0KXt2YXIgaT1uLmNhbGxlcixvPWkub25Kb2luLHI9aS5vbkxlYXZlLHM9aS5vblN5bmM7bi5qb2luUmVmPW4uY2hhbm5lbC5qb2luUmVmKCksbi5zdGF0ZT1lLnN5bmNTdGF0ZShuLnN0YXRlLHQsbyxyKSxuLnBlbmRpbmdEaWZmcy5mb3JFYWNoKChmdW5jdGlvbih0KXtuLnN0YXRlPWUuc3luY0RpZmYobi5zdGF0ZSx0LG8scil9KSksbi5wZW5kaW5nRGlmZnM9W10scygpfSkpLHRoaXMuY2hhbm5lbC5vbihvLmRpZmYsKGZ1bmN0aW9uKHQpe3ZhciBpPW4uY2FsbGVyLG89aS5vbkpvaW4scj1pLm9uTGVhdmUscz1pLm9uU3luYztuLmluUGVuZGluZ1N5bmNTdGF0ZSgpP24ucGVuZGluZ0RpZmZzLnB1c2godCk6KG4uc3RhdGU9ZS5zeW5jRGlmZihuLnN0YXRlLHQsbyxyKSxzKCkpfSkpfXJldHVybiBoKGUsW3trZXk6XCJvbkpvaW5cIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmNhbGxlci5vbkpvaW49ZX19LHtrZXk6XCJvbkxlYXZlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5jYWxsZXIub25MZWF2ZT1lfX0se2tleTpcIm9uU3luY1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuY2FsbGVyLm9uU3luYz1lfX0se2tleTpcImxpc3RcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5saXN0KHRoaXMuc3RhdGUsdCl9fSx7a2V5OlwiaW5QZW5kaW5nU3luY1N0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5qb2luUmVmfHx0aGlzLmpvaW5SZWYhPT10aGlzLmNoYW5uZWwuam9pblJlZigpfX1dLFt7a2V5Olwic3luY1N0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIG89dGhpcyxyPXRoaXMuY2xvbmUoZSkscz17fSxhPXt9O3JldHVybiB0aGlzLm1hcChyLChmdW5jdGlvbihlLG4pe3RbZV18fChhW2VdPW4pfSkpLHRoaXMubWFwKHQsKGZ1bmN0aW9uKGUsdCl7dmFyIG49cltlXTtpZihuKXt2YXIgaT10Lm1ldGFzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGh4X3JlZn0pKSxjPW4ubWV0YXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5waHhfcmVmfSkpLHU9dC5tZXRhcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBjLmluZGV4T2YoZS5waHhfcmVmKTwwfSkpLGg9bi5tZXRhcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmluZGV4T2YoZS5waHhfcmVmKTwwfSkpO3UubGVuZ3RoPjAmJihzW2VdPXQsc1tlXS5tZXRhcz11KSxoLmxlbmd0aD4wJiYoYVtlXT1vLmNsb25lKG4pLGFbZV0ubWV0YXM9aCl9ZWxzZSBzW2VdPXR9KSksdGhpcy5zeW5jRGlmZihyLHtqb2luczpzLGxlYXZlczphfSxuLGkpfX0se2tleTpcInN5bmNEaWZmXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIHI9dC5qb2lucyxzPXQubGVhdmVzLGE9dGhpcy5jbG9uZShlKTtyZXR1cm4gbnx8KG49ZnVuY3Rpb24oKXt9KSxvfHwobz1mdW5jdGlvbigpe30pLHRoaXMubWFwKHIsKGZ1bmN0aW9uKGUsdCl7dmFyIG89YVtlXTtpZihhW2VdPXQsbyl7dmFyIHIscz1hW2VdLm1ldGFzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGh4X3JlZn0pKSxjPW8ubWV0YXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gcy5pbmRleE9mKGUucGh4X3JlZik8MH0pKTsocj1hW2VdLm1ldGFzKS51bnNoaWZ0LmFwcGx5KHIsaShjKSl9bihlLG8sdCl9KSksdGhpcy5tYXAocywoZnVuY3Rpb24oZSx0KXt2YXIgbj1hW2VdO2lmKG4pe3ZhciBpPXQubWV0YXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5waHhfcmVmfSkpO24ubWV0YXM9bi5tZXRhcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmluZGV4T2YoZS5waHhfcmVmKTwwfSkpLG8oZSxuLHQpLDA9PT1uLm1ldGFzLmxlbmd0aCYmZGVsZXRlIGFbZV19fSkpLGF9fSx7a2V5OlwibGlzdFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KSx0aGlzLm1hcChlLChmdW5jdGlvbihlLG4pe3JldHVybiB0KGUsbil9KSl9fSx7a2V5OlwibWFwXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkubWFwKChmdW5jdGlvbihuKXtyZXR1cm4gdChuLGVbbl0pfSkpfX0se2tleTpcImNsb25lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpfX1dKSxlfSgpLEo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbil7Yyh0aGlzLGUpLHRoaXMuY2FsbGJhY2s9dCx0aGlzLnRpbWVyQ2FsYz1uLHRoaXMudGltZXI9bnVsbCx0aGlzLnRyaWVzPTB9cmV0dXJuIGgoZSxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnRyaWVzPTAsY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpfX0se2tleTpcInNjaGVkdWxlVGltZW91dFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztjbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy50aW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2UudHJpZXM9ZS50cmllcysxLGUuY2FsbGJhY2soKX0pLHRoaXMudGltZXJDYWxjKHRoaXMudHJpZXMrMSkpfX1dKSxlfSgpfV0pfSkpOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../deps/phoenix/priv/static/phoenix.js\n");

/***/ }),

/***/ "./js/audio.js":
/*!*********************!*\
  !*** ./js/audio.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _audio_socket_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./audio_socket.js */ \"./js/audio_socket.js\");\n\nvar Audio = {\n  init: function init() {\n    Audio.addEventListeners();\n  },\n  addEventListeners: function addEventListeners() {\n    var joinAudioChat = document.getElementById('joinAudioChat');\n\n    if (joinAudioChat) {\n      if (!joinAudioChat.classList.contains('listening')) {\n        joinAudioChat.classList.add('listening');\n        joinAudioChat.addEventListener('click', Audio.joinAudioChat);\n      }\n    }\n\n    var listenIn = document.getElementById('listenIn');\n\n    if (listenIn) {\n      if (!listenIn.classList.contains('listening')) {\n        listenIn.classList.add('listening');\n        listenIn.addEventListener('click', Audio.listenIn);\n      }\n    }\n\n    var startTheDiscussion = document.getElementById('startTheDiscussion');\n\n    if (startTheDiscussion) {\n      if (!startTheDiscussion.classList.contains('listening')) {\n        startTheDiscussion.classList.add('listening');\n        startTheDiscussion.addEventListener('click', Audio.startTheDiscussion);\n      }\n    }\n\n    var stopStream = document.getElementById('stopStream');\n\n    if (stopStream) {\n      if (!stopStream.classList.contains('listening')) {\n        stopStream.classList.add('listening');\n        stopStream.addEventListener('click', Audio.stopStream);\n      }\n    }\n  },\n  listenIn: function listenIn(e) {\n    var camp = e.target.dataset.camp;\n    var audioSocket = new _audio_socket_js__WEBPACK_IMPORTED_MODULE_0__[\"AudioSocket\"](window.userToken, camp, \"listening\");\n    audioSocket.connect();\n\n    window[\"audioSocket\"].onmessage = function (messageEvent) {\n      console.log(messageEvent.data);\n    };\n\n    var player = new WSAudioAPI.Player({}, window[\"audioSocket\"]);\n    player.start();\n    window[\"audioPlayer\"] = player;\n    console.log(player.getVolume());\n  },\n  joinAudioChat: function joinAudioChat(e) {\n    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n    navigator.getUserMedia({\n      audio: true\n    }, function () {}, function () {});\n    var camp = e.target.dataset.camp;\n    var audioSocket = new _audio_socket_js__WEBPACK_IMPORTED_MODULE_0__[\"AudioSocket\"](window.userToken, camp, \"streaming\");\n    audioSocket.connect();\n    var streamer = new WSAudioAPI.Streamer({}, window[\"audioSocket\"]);\n    streamer.start(); //   window[\"audioStreamer\"].audioInput.context.resume()\n    // })\n\n    window[\"audioStreamer\"] = streamer;\n  },\n  sendMessageAudioChat: function sendMessageAudioChat(e) {\n    var target = e.target;\n    var audioSocket = window[\"audioSocket\"];\n    audioSocket.send(JSON.stringify({\n      action: \"join\",\n      camp_id: target.dataset\n    }));\n  },\n  stopStream: function stopStream() {\n    window[\"audioStreamer\"].stop();\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Audio);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9hdWRpby5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL2F1ZGlvLmpzPzM2ODkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXVkaW9Tb2NrZXQgfSBmcm9tIFwiLi9hdWRpb19zb2NrZXQuanNcIlxubGV0IEF1ZGlvID0ge1xuICBpbml0KCkge1xuICAgIEF1ZGlvLmFkZEV2ZW50TGlzdGVuZXJzKClcbiAgfSxcbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgbGV0IGpvaW5BdWRpb0NoYXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnam9pbkF1ZGlvQ2hhdCcpXG4gICAgaWYgKGpvaW5BdWRpb0NoYXQpIHtcbiAgICAgIGlmICgham9pbkF1ZGlvQ2hhdC5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKSB7XG4gICAgICAgIGpvaW5BdWRpb0NoYXQuY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgam9pbkF1ZGlvQ2hhdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIEF1ZGlvLmpvaW5BdWRpb0NoYXQpXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBsaXN0ZW5JbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXN0ZW5JbicpXG4gICAgaWYgKGxpc3RlbkluKSB7XG4gICAgICBpZiAoIWxpc3RlbkluLmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpIHtcbiAgICAgICAgbGlzdGVuSW4uY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgbGlzdGVuSW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBBdWRpby5saXN0ZW5JbilcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHN0YXJ0VGhlRGlzY3Vzc2lvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydFRoZURpc2N1c3Npb24nKVxuICAgIGlmIChzdGFydFRoZURpc2N1c3Npb24pIHtcbiAgICAgIGlmICghc3RhcnRUaGVEaXNjdXNzaW9uLmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpIHtcbiAgICAgICAgc3RhcnRUaGVEaXNjdXNzaW9uLmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgIHN0YXJ0VGhlRGlzY3Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIEF1ZGlvLnN0YXJ0VGhlRGlzY3Vzc2lvbilcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHN0b3BTdHJlYW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RvcFN0cmVhbScpXG4gICAgaWYgKHN0b3BTdHJlYW0pIHtcbiAgICAgIGlmICghc3RvcFN0cmVhbS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKSB7XG4gICAgICAgIHN0b3BTdHJlYW0uY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgc3RvcFN0cmVhbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIEF1ZGlvLnN0b3BTdHJlYW0pXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBsaXN0ZW5JbihlKSB7XG4gICAgbGV0IGNhbXAgPSBlLnRhcmdldC5kYXRhc2V0LmNhbXBcbiAgICBsZXQgYXVkaW9Tb2NrZXQgPSBuZXcgQXVkaW9Tb2NrZXQod2luZG93LnVzZXJUb2tlbiwgY2FtcCwgXCJsaXN0ZW5pbmdcIilcbiAgICBhdWRpb1NvY2tldC5jb25uZWN0KClcbiAgICB3aW5kb3dbXCJhdWRpb1NvY2tldFwiXS5vbm1lc3NhZ2UgPSAobWVzc2FnZUV2ZW50KSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhtZXNzYWdlRXZlbnQuZGF0YSk7XG4gICAgfVxuICAgIGxldCBwbGF5ZXIgPSBuZXcgV1NBdWRpb0FQSS5QbGF5ZXIoe30sIHdpbmRvd1tcImF1ZGlvU29ja2V0XCJdKVxuICAgIHBsYXllci5zdGFydCgpXG4gICAgd2luZG93W1wiYXVkaW9QbGF5ZXJcIl0gPSBwbGF5ZXJcbiAgICBjb25zb2xlLmxvZyhwbGF5ZXIuZ2V0Vm9sdW1lKCkpO1xuICB9LFxuICBqb2luQXVkaW9DaGF0KGUpIHtcbiAgICBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhID0gKG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgfHxcbiAgICAgIG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEgfHxcbiAgICAgIG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEgfHxcbiAgICAgIG5hdmlnYXRvci5tc0dldFVzZXJNZWRpYSk7XG4gICAgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0sICgpID0+IHt9LCAoKSA9PiB7fSlcbiAgICBsZXQgY2FtcCA9IGUudGFyZ2V0LmRhdGFzZXQuY2FtcFxuICAgIGxldCBhdWRpb1NvY2tldCA9IG5ldyBBdWRpb1NvY2tldCh3aW5kb3cudXNlclRva2VuLCBjYW1wLCBcInN0cmVhbWluZ1wiKVxuICAgIGF1ZGlvU29ja2V0LmNvbm5lY3QoKVxuICAgIGxldCBzdHJlYW1lciA9IG5ldyBXU0F1ZGlvQVBJLlN0cmVhbWVyKHt9LCB3aW5kb3dbXCJhdWRpb1NvY2tldFwiXSlcbiAgICBzdHJlYW1lci5zdGFydCgpXG4gICAgLy8gICB3aW5kb3dbXCJhdWRpb1N0cmVhbWVyXCJdLmF1ZGlvSW5wdXQuY29udGV4dC5yZXN1bWUoKVxuICAgIC8vIH0pXG4gICAgd2luZG93W1wiYXVkaW9TdHJlYW1lclwiXSA9IHN0cmVhbWVyXG4gIH0sXG4gIHNlbmRNZXNzYWdlQXVkaW9DaGF0KGUpIHtcbiAgICBsZXQgdGFyZ2V0ID0gZS50YXJnZXRcbiAgICBsZXQgYXVkaW9Tb2NrZXQgPSB3aW5kb3dbXCJhdWRpb1NvY2tldFwiXVxuICAgIGF1ZGlvU29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoe2FjdGlvbjogXCJqb2luXCIsIGNhbXBfaWQ6IHRhcmdldC5kYXRhc2V0fSkpXG4gIH0sXG4gIHN0b3BTdHJlYW0oKSB7XG4gICAgd2luZG93W1wiYXVkaW9TdHJlYW1lclwiXS5zdG9wKClcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgQXVkaW9cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXBFQTtBQXNFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/audio.js\n");

/***/ }),

/***/ "./js/audio_socket.js":
/*!****************************!*\
  !*** ./js/audio_socket.js ***!
  \****************************/
/*! exports provided: AudioSocket */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AudioSocket\", function() { return AudioSocket; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar AudioSocket = /*#__PURE__*/function () {\n  function AudioSocket(token, camp, action) {\n    _classCallCheck(this, AudioSocket);\n\n    if (window[\"audioSocket\"]) {\n      window[\"audioSocket\"].close();\n    }\n\n    console.log(\"new audio socket\");\n    this.action = action;\n    this.ws_url = \"ws://localhost:4000/audio/\".concat(token, \"/\").concat(camp, \"/websocket\");\n    this.scheduleHeartBeat();\n  }\n\n  _createClass(AudioSocket, [{\n    key: \"updated\",\n    value: function updated() {\n      this.ws_url = this.img.dataset.binaryWsUrl;\n    }\n  }, {\n    key: \"connect\",\n    value: function connect() {\n      console.log(\"audio socket connect\");\n      this.hasErrored = false;\n      this.socket = new WebSocket(this.ws_url);\n      var that = this;\n\n      this.socket.onopen = function () {\n        that.onOpen();\n      };\n\n      this.socket.onclose = function () {\n        that.onClose();\n      };\n\n      this.socket.onerror = function (errorEvent) {\n        that.onError(errorEvent);\n      }; // this.socket.onmessage = messageEvent => { that.onMessage(messageEvent); };\n\n\n      this.attemptReopen = true;\n      window[\"audioSocket\"] = this.socket;\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.attemptReopen = false;\n      if (this.socket) this.socket.close();\n      this.socket = null;\n      clearTimeout(this.heartBeatId);\n    }\n  }, {\n    key: \"onOpen\",\n    value: function onOpen() {\n      console.log(\"audio socket ws opened\");\n      var audioSocket = window[\"audioSocket\"];\n\n      if (this.action == \"listening\") {\n        audioSocket.send(\"listen_in\");\n      }\n\n      if (this.action == \"streaming\") {\n        audioSocket.send(\"streaming\");\n      }\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose() {\n      this.maybeReopen();\n      console.log(\"audio socket ws closed\", this);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(errorEvent) {\n      this.hasErrored = true;\n      console.log(\"audio socket error\", errorEvent);\n    } // onMessage(messageEvent) {\n    //   if (typeof messageEvent.data != \"string\") {\n    //       this.binaryMessage(messageEvent.data);\n    //   }\n    // }\n    //\n    // binaryMessage(content) {\n    //   let oldImageUrl = this.img.src;\n    //   this.imageUrl = URL.createObjectURL(content);\n    //   this.img.src = this.imageUrl;\n    //\n    //   if (oldImageUrl.startsWith(\"blob:\")) {\n    //       URL.revokeObjectURL(oldImageUrl);\n    //   }\n    // }\n\n  }, {\n    key: \"isSocketClosed\",\n    value: function isSocketClosed() {\n      return this.socket == null || this.socket.readyState == 3;\n    }\n  }, {\n    key: \"maybeReopen\",\n    value: function maybeReopen() {\n      var _this = this;\n\n      var after = this.hasErrored ? 2000 : 0;\n      setTimeout(function () {\n        if (_this.isSocketClosed() && _this.attemptReopen) _this.connect();\n      }, after);\n    }\n  }, {\n    key: \"scheduleHeartBeat\",\n    value: function scheduleHeartBeat() {\n      var that = this;\n      this.heartBeatId = setTimeout(function () {\n        that.sendHeartBeat();\n      }, 30000);\n    }\n  }, {\n    key: \"sendHeartBeat\",\n    value: function sendHeartBeat() {\n      if (this.socket) {\n        // Send a heartbeat message to the server to let it know\n        // we're still alive, avoiding timeout.\n        this.socket.send(\"heartbeat\");\n      }\n\n      this.scheduleHeartBeat();\n    }\n  }]);\n\n  return AudioSocket;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9hdWRpb19zb2NrZXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9hdWRpb19zb2NrZXQuanM/OGRmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQXVkaW9Tb2NrZXQge1xuICBjb25zdHJ1Y3Rvcih0b2tlbiwgY2FtcCwgYWN0aW9uKSB7XG4gICAgaWYgKHdpbmRvd1tcImF1ZGlvU29ja2V0XCJdKSB7XG4gICAgICB3aW5kb3dbXCJhdWRpb1NvY2tldFwiXS5jbG9zZSgpXG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwibmV3IGF1ZGlvIHNvY2tldFwiKTtcbiAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbjtcbiAgICB0aGlzLndzX3VybCA9IGB3czovL2xvY2FsaG9zdDo0MDAwL2F1ZGlvLyR7dG9rZW59LyR7Y2FtcH0vd2Vic29ja2V0YFxuICAgIHRoaXMuc2NoZWR1bGVIZWFydEJlYXQoKTtcbiAgfVxuXG4gIHVwZGF0ZWQoKSB7XG4gICAgdGhpcy53c191cmwgPSB0aGlzLmltZy5kYXRhc2V0LmJpbmFyeVdzVXJsO1xuICB9XG5cbiAgY29ubmVjdCgpIHtcbiAgICBjb25zb2xlLmxvZyhcImF1ZGlvIHNvY2tldCBjb25uZWN0XCIpO1xuICAgIHRoaXMuaGFzRXJyb3JlZCA9IGZhbHNlO1xuICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldCh0aGlzLndzX3VybCk7XG4gICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgIHRoaXMuc29ja2V0Lm9ub3BlbiA9ICgpID0+IHsgdGhhdC5vbk9wZW4oKTsgfVxuICAgIHRoaXMuc29ja2V0Lm9uY2xvc2UgPSAoKSA9PiB7IHRoYXQub25DbG9zZSgpOyB9XG4gICAgdGhpcy5zb2NrZXQub25lcnJvciA9IGVycm9yRXZlbnQgPT4geyB0aGF0Lm9uRXJyb3IoZXJyb3JFdmVudCk7IH07XG4gICAgLy8gdGhpcy5zb2NrZXQub25tZXNzYWdlID0gbWVzc2FnZUV2ZW50ID0+IHsgdGhhdC5vbk1lc3NhZ2UobWVzc2FnZUV2ZW50KTsgfTtcbiAgICB0aGlzLmF0dGVtcHRSZW9wZW4gPSB0cnVlO1xuICAgIHdpbmRvd1tcImF1ZGlvU29ja2V0XCJdID0gdGhpcy5zb2NrZXRcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuYXR0ZW1wdFJlb3BlbiA9IGZhbHNlO1xuICAgIGlmICh0aGlzLnNvY2tldCkgdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgICB0aGlzLnNvY2tldCA9IG51bGw7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuaGVhcnRCZWF0SWQpO1xuICB9XG5cbiAgb25PcGVuKCkge1xuICAgIGNvbnNvbGUubG9nKFwiYXVkaW8gc29ja2V0IHdzIG9wZW5lZFwiKTtcbiAgICBsZXQgYXVkaW9Tb2NrZXQgPSB3aW5kb3dbXCJhdWRpb1NvY2tldFwiXVxuICAgIGlmICh0aGlzLmFjdGlvbiA9PSBcImxpc3RlbmluZ1wiKSB7XG4gICAgICBhdWRpb1NvY2tldC5zZW5kKFwibGlzdGVuX2luXCIpXG4gICAgfVxuICAgIGlmICh0aGlzLmFjdGlvbiA9PSBcInN0cmVhbWluZ1wiKSB7XG4gICAgICBhdWRpb1NvY2tldC5zZW5kKFwic3RyZWFtaW5nXCIpXG4gICAgfVxuICB9XG5cbiAgb25DbG9zZSgpIHtcbiAgICB0aGlzLm1heWJlUmVvcGVuKCk7XG4gICAgY29uc29sZS5sb2coXCJhdWRpbyBzb2NrZXQgd3MgY2xvc2VkXCIsIHRoaXMpO1xuICB9XG5cbiAgb25FcnJvcihlcnJvckV2ZW50KSB7XG4gICAgdGhpcy5oYXNFcnJvcmVkID0gdHJ1ZTtcbiAgICBjb25zb2xlLmxvZyhcImF1ZGlvIHNvY2tldCBlcnJvclwiLCBlcnJvckV2ZW50KTtcbiAgfVxuXG4gIC8vIG9uTWVzc2FnZShtZXNzYWdlRXZlbnQpIHtcbiAgLy8gICBpZiAodHlwZW9mIG1lc3NhZ2VFdmVudC5kYXRhICE9IFwic3RyaW5nXCIpIHtcbiAgLy8gICAgICAgdGhpcy5iaW5hcnlNZXNzYWdlKG1lc3NhZ2VFdmVudC5kYXRhKTtcbiAgLy8gICB9XG4gIC8vIH1cbiAgLy9cbiAgLy8gYmluYXJ5TWVzc2FnZShjb250ZW50KSB7XG4gIC8vICAgbGV0IG9sZEltYWdlVXJsID0gdGhpcy5pbWcuc3JjO1xuICAvLyAgIHRoaXMuaW1hZ2VVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGNvbnRlbnQpO1xuICAvLyAgIHRoaXMuaW1nLnNyYyA9IHRoaXMuaW1hZ2VVcmw7XG4gIC8vXG4gIC8vICAgaWYgKG9sZEltYWdlVXJsLnN0YXJ0c1dpdGgoXCJibG9iOlwiKSkge1xuICAvLyAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZEltYWdlVXJsKTtcbiAgLy8gICB9XG4gIC8vIH1cblxuICBpc1NvY2tldENsb3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5zb2NrZXQgPT0gbnVsbCB8fCB0aGlzLnNvY2tldC5yZWFkeVN0YXRlID09IDM7XG4gIH07XG5cbiAgbWF5YmVSZW9wZW4oKSB7XG4gICAgbGV0IGFmdGVyID0gdGhpcy5oYXNFcnJvcmVkID8gMjAwMCA6IDA7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlzU29ja2V0Q2xvc2VkKCkgJiYgdGhpcy5hdHRlbXB0UmVvcGVuKSB0aGlzLmNvbm5lY3QoKTtcbiAgICB9LCBhZnRlcik7XG4gIH07XG5cbiAgc2NoZWR1bGVIZWFydEJlYXQoKSB7XG4gICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgIHRoaXMuaGVhcnRCZWF0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhhdC5zZW5kSGVhcnRCZWF0KCk7IH0sIDMwMDAwKTtcbiAgfVxuXG4gIHNlbmRIZWFydEJlYXQoKSB7XG4gICAgaWYgKHRoaXMuc29ja2V0KSB7XG4gICAgICAvLyBTZW5kIGEgaGVhcnRiZWF0IG1lc3NhZ2UgdG8gdGhlIHNlcnZlciB0byBsZXQgaXQga25vd1xuICAgICAgLy8gd2UncmUgc3RpbGwgYWxpdmUsIGF2b2lkaW5nIHRpbWVvdXQuXG4gICAgICB0aGlzLnNvY2tldC5zZW5kKFwiaGVhcnRiZWF0XCIpO1xuICAgIH1cbiAgICB0aGlzLnNjaGVkdWxlSGVhcnRCZWF0KCk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFBQTtBQUFBO0FBWUE7QUFDQTtBQWJBO0FBQUE7QUFBQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUExQkE7QUFBQTtBQUFBO0FBNkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqQ0E7QUFBQTtBQUFBO0FBb0NBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUE1Q0E7QUFBQTtBQUFBO0FBK0NBO0FBQ0E7QUFDQTtBQWpEQTtBQUFBO0FBQUE7QUFvREE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdkVBO0FBQUE7QUFBQTtBQXlFQTtBQUNBO0FBMUVBO0FBQUE7QUFBQTtBQTRFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpGQTtBQUFBO0FBQUE7QUFvRkE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQXRGQTtBQUFBO0FBQUE7QUF5RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQS9GQTtBQUNBO0FBREE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/audio_socket.js\n");

/***/ }),

/***/ "./js/board.js":
/*!*********************!*\
  !*** ./js/board.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _user_camp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user_camp */ \"./js/user_camp.js\");\n\nvar Board = {\n  init: function init() {\n    Board.addBoardEventListeners();\n  },\n  addBoardEventListeners: function addBoardEventListeners() {\n    var messageBoardSelectType = document.getElementById('messageBoardSelectType');\n\n    if (messageBoardSelectType) {\n      if (!messageBoardSelectType.classList.contains('listening')) {\n        messageBoardSelectType.classList.add('listening');\n        messageBoardSelectType.addEventListener('change', Board.messageBoardSelect);\n      }\n    }\n\n    var messageBoardSelectRange = document.getElementById('messageBoardSelectRange');\n\n    if (messageBoardSelectRange) {\n      if (!messageBoardSelectRange.classList.contains('listening')) {\n        messageBoardSelectRange.classList.add('listening');\n        messageBoardSelectRange.addEventListener('change', Board.messageBoardSelect);\n      }\n    }\n\n    var documentBoardCreatePost = document.getElementById('documentBoardCreatePost');\n\n    if (documentBoardCreatePost) {\n      if (!documentBoardCreatePost.classList.contains('listening')) {\n        documentBoardCreatePost.classList.add('listening');\n        documentBoardCreatePost.addEventListener('click', function (e) {\n          Board.toggleDocumentForm(e, \"documentBoardPostForm\");\n        });\n      }\n    }\n\n    var imageBoardCreatePost = document.getElementById('imageBoardCreatePost');\n\n    if (imageBoardCreatePost) {\n      if (!imageBoardCreatePost.classList.contains('listening')) {\n        imageBoardCreatePost.classList.add('listening');\n        imageBoardCreatePost.addEventListener('click', function (e) {\n          Board.toggleImageForm(e, \"imageBoardPostForm\");\n        });\n      }\n    }\n\n    var boardRangeDateInput = document.getElementById('boardRangeDateInput');\n\n    if (boardRangeDateInput) {\n      if (!boardRangeDateInput.classList.contains('listening')) {\n        boardRangeDateInput.classList.add('listening');\n        boardRangeDateInput.addEventListener('change', Board.messageBoardSelect);\n      }\n    }\n\n    var messageBoardCreatePost = document.getElementById('messageBoardCreatePost');\n\n    if (messageBoardCreatePost) {\n      if (!messageBoardCreatePost.classList.contains('listening')) {\n        messageBoardCreatePost.classList.add('listening');\n        messageBoardCreatePost.addEventListener('click', function (e) {\n          Board.togglePostForm(e, \"messageBoardPostForm\");\n        });\n      }\n    }\n\n    var messageBoardCreateComment = document.querySelectorAll('.messageBoardCreateComment');\n\n    if (messageBoardCreateComment) {\n      for (var i = 0; i < messageBoardCreateComment.length; i++) {\n        if (!messageBoardCreateComment[i].classList.contains('listening')) {\n          messageBoardCreateComment[i].classList.add('listening');\n          messageBoardCreateComment[i].addEventListener('click', function (e) {\n            var id = e.target.dataset.postId;\n            var target = \"messageBoardPostForm\".concat(id);\n            Board.togglePostForm(e, target, id);\n          });\n        }\n      }\n    }\n\n    var messageBoardDisplayImage = document.querySelectorAll('.messageBoardDisplayImage');\n\n    if (messageBoardDisplayImage) {\n      for (var i = 0; i < messageBoardDisplayImage.length; i++) {\n        if (!messageBoardDisplayImage[i].classList.contains('listening')) {\n          messageBoardDisplayImage[i].classList.add('listening');\n          messageBoardDisplayImage[i].addEventListener('click', function (e) {\n            Board.showImage(e.target);\n          });\n        }\n      }\n    }\n\n    var messageBoardComments = document.querySelectorAll('.messageBoardComments');\n\n    if (messageBoardComments) {\n      for (var i = 0; i < messageBoardComments.length; i++) {\n        if (!messageBoardComments[i].classList.contains('listening')) {\n          messageBoardComments[i].classList.add('listening');\n          messageBoardComments[i].addEventListener('click', function (e) {\n            Board.loadComments(e.target);\n          });\n        }\n      }\n    }\n\n    var loadMoreComments = document.querySelectorAll('.loadMoreComments');\n\n    if (loadMoreComments) {\n      for (var i = 0; i < loadMoreComments.length; i++) {\n        if (!loadMoreComments[i].classList.contains('listening')) {\n          loadMoreComments[i].classList.add('listening');\n          loadMoreComments[i].addEventListener('click', function (e) {\n            Board.loadMoreComments(e.target);\n          });\n        }\n      }\n    }\n\n    var loadMorePosts = document.querySelectorAll('.loadMorePosts');\n\n    if (loadMorePosts) {\n      for (var i = 0; i < loadMorePosts.length; i++) {\n        if (!loadMorePosts[i].classList.contains('listening')) {\n          loadMorePosts[i].classList.add('listening');\n          loadMorePosts[i].addEventListener('click', Board.loadMorePosts);\n        }\n      }\n    }\n\n    var messageBoardVotes = document.querySelectorAll('.messageBoardVote');\n\n    if (messageBoardVotes) {\n      for (var i = 0; i < messageBoardVotes.length; i++) {\n        if (!messageBoardVotes[i].classList.contains('listening')) {\n          messageBoardVotes[i].classList.add('listening');\n          messageBoardVotes[i].addEventListener('click', function (e) {\n            Board.vote(e.target);\n          });\n        }\n      }\n    }\n  },\n  messageBoardSelect: function messageBoardSelect() {\n    var messageBoardSelectType = document.getElementById('messageBoardSelectType');\n    var post_type = messageBoardSelectType.value;\n    var board_type = messageBoardSelectType.dataset.board_type;\n    var range = document.getElementById('messageBoardSelectRange').value;\n    var date = document.getElementById('boardRangeDateInput').value;\n    Board.makeDateSelectVisible(range);\n    Board.makeRangeSelectVisible(post_type);\n\n    if (post_type != \"recent\" && (range == \"day\" || range == \"week\") && date == \"\") {\n      document.getElementById(\"campBoardPosts\").innerHTML = \"Select Date\";\n    } else {\n      var channel = window.userCampChannel;\n      channel.push(\"board_select\", {\n        post_type: post_type,\n        board_type: board_type,\n        range: range,\n        date: date\n      }).receive(\"ok\", function (resp) {\n        console.log(resp);\n        _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"campBoardPosts\");\n        Board.addBoardEventListeners();\n      }).receive(\"error\", function (resp) {\n        console.log(resp);\n      });\n    }\n  },\n  makeRangeSelectVisible: function makeRangeSelectVisible(type) {\n    var messageBoardSelectRangeDiv = document.getElementById('messageBoardSelectRangeDiv');\n\n    if (type == \"top\" || type == \"controversial\") {\n      messageBoardSelectRangeDiv.classList.add('active');\n    } else {\n      messageBoardSelectRangeDiv.classList.remove('active');\n    }\n  },\n  makeDateSelectVisible: function makeDateSelectVisible(range) {\n    var boardRangeDateInput = document.getElementById('boardRangeDateInput');\n\n    if (range == \"day\" || range == \"week\") {\n      boardRangeDateInput.classList.add('active');\n    } else {\n      boardRangeDateInput.classList.remove('active');\n    }\n  },\n  loadNewPostRange: function loadNewPostRange(time_period) {\n    switch (time_period) {\n      case \"another_day\":\n        Board.activateDateInput('day');\n        break;\n\n      case \"another_week\":\n        Board.activateDateInput('week');\n        break;\n\n      default:\n        Board.deactivateDateInput();\n        var channel = window.userCampChannel;\n        channel.push(\"change_board_range\", {\n          time_period: time_period,\n          page: 0\n        }).receive(\"ok\", function (resp) {\n          console.log(resp);\n          _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"tribeBoardPosts\");\n          Board.addBoardEventListeners();\n        }).receive(\"error\", function (resp) {\n          console.log(resp);\n        });\n    }\n  },\n  loadMorePosts: function loadMorePosts(e) {\n    var target = e.target;\n    var page = target.dataset.page;\n    var date = target.dataset.date;\n    var order_by = target.dataset.order_by;\n    var board_type = target.dataset.board_type;\n    console.log(target.dataset);\n    var channel = window.userCampChannel;\n    channel.push(\"load_more_posts\", {\n      order_by: order_by,\n      board_type: board_type,\n      date: date,\n      page: page\n    }).receive(\"ok\", function (resp) {\n      console.log(resp);\n      _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"loadMorePosts\");\n      Board.addBoardEventListeners();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  activateDateInput: function activateDateInput(range) {\n    var anotherDateInput = document.getElementById('anotherDateInput');\n    anotherDateInput.value = null;\n\n    if (anotherDateInput) {\n      anotherDateInput.classList.add('active');\n      anotherDateInput.addEventListener('input', function (e) {\n        Board.loadBoardPostsInRange(range, e.target.value);\n      });\n    }\n\n    var tribeBoardPosts = document.getElementById('tribeBoardPosts');\n\n    if (tribeBoardPosts) {\n      tribeBoardPosts.innerHTML = \"Select \" + range;\n    }\n  },\n  deactivateDateInput: function deactivateDateInput() {\n    var anotherDateInput = document.getElementById('anotherDateInput');\n\n    if (anotherDateInput) {\n      anotherDateInput.classList.remove('active');\n    }\n  },\n  loadBoardPostsInRange: function loadBoardPostsInRange(range, date) {\n    var page = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var channel = window.userCampChannel;\n    channel.push(\"change_board_range\", {\n      time_period: range,\n      page: page,\n      date: date\n    }).receive(\"ok\", function (resp) {\n      console.log(resp);\n      _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"tribeBoardPosts\");\n      Board.addBoardEventListeners();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  loadComments: function loadComments(target) {\n    Board.replaceButtonWithHide(target);\n    var channel = window.userCampChannel;\n    channel.push(\"load_comments\", {\n      post_id: target.dataset.postId,\n      board_type: target.dataset.board_type,\n      page: 0\n    }).receive(\"ok\", function (resp) {\n      _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].appendRespToDom(resp, \"tribeBoardPost\".concat(target.dataset.postId));\n      Board.addBoardEventListeners();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  loadMoreComments: function loadMoreComments(target) {\n    var page = parseInt(target.dataset.page);\n    var channel = window.userCampChannel;\n    channel.push(\"load_comments\", {\n      post_id: target.dataset.post,\n      board_type: target.dataset.board_type,\n      page: page\n    }).receive(\"ok\", function (resp) {\n      _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"loadMoreComments\".concat(target.dataset.post));\n      Board.addBoardEventListeners();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  replaceButtonWithHide: function replaceButtonWithHide(button) {\n    var count = button.innerHTML.match(/\\d+/g);\n\n    if (count) {\n      count = count[0];\n    } else {\n      count = \"\";\n    }\n\n    var newButton = document.createElement('button');\n    newButton.classList.add(\"button-small\");\n    newButton.innerHTML = \"Hide \".concat(count, \" Comments\");\n    newButton.dataset.postId = button.dataset.postId;\n    button.replaceWith(newButton);\n    newButton.addEventListener('click', function (e) {\n      Board.hideComments(e.target);\n    });\n  },\n  hideComments: function hideComments(button) {\n    var count = button.innerHTML.match(/\\d+/g);\n\n    if (count) {\n      count = count[0];\n    } else {\n      count = \"\";\n    }\n\n    var id = button.dataset.postId;\n    var commentDivs = document.querySelectorAll(\".tribeBoardComments\".concat(id));\n\n    for (var i = 0; i < commentDivs.length; i++) {\n      commentDivs[i].classList.add('hidden');\n    }\n\n    var newButton = document.createElement('button');\n    newButton.classList.add(\"button-small\");\n    newButton.innerHTML = \"Show \".concat(count, \" Comments\");\n    newButton.dataset.postId = button.dataset.postId;\n    button.replaceWith(newButton);\n    newButton.addEventListener('click', function (e) {\n      Board.showComments(e.target);\n    });\n  },\n  showComments: function showComments(button) {\n    var count = button.innerHTML.match(/\\d+/g);\n\n    if (count) {\n      count = count[0];\n    } else {\n      count = \"\";\n    }\n\n    var id = button.dataset.postId;\n    var commentDivs = document.querySelectorAll(\".tribeBoardComments\".concat(id));\n\n    for (var i = 0; i < commentDivs.length; i++) {\n      commentDivs[i].classList.remove('hidden');\n    }\n\n    var newButton = document.createElement('button');\n    newButton.classList.add(\"button-small\");\n    newButton.innerHTML = \"Hide \".concat(count, \" Comments\");\n    newButton.dataset.postId = button.dataset.postId;\n    button.replaceWith(newButton);\n    newButton.addEventListener('click', function (e) {\n      Board.hideComments(e.target);\n    });\n  },\n  togglePostForm: function togglePostForm(e, target) {\n    var id = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    Board.replacePostButton(e.target);\n    var channel = window.userCampChannel;\n    channel.push(\"load_form\", {\n      id: id,\n      image: false\n    }).receive(\"ok\", function (resp) {\n      _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, target);\n      var logOutLink = document.getElementById('logOutLink');\n      var inputs = document.querySelectorAll('input[name=\"_csrf_token\"]');\n\n      for (var i = 0; i < inputs.length; i++) {\n        inputs[i].value = logOutLink.dataset.csrf;\n      }\n    });\n  },\n  toggleImageForm: function toggleImageForm(e, target) {\n    Board.replacePostButton(e.target);\n    var channel = window.userCampChannel;\n    channel.push(\"load_image_form\", {}).receive(\"ok\", function (resp) {\n      _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, target);\n      var logOutLink = document.getElementById('logOutLink');\n      var inputs = document.querySelectorAll('input[name=\"_csrf_token\"]');\n\n      for (var i = 0; i < inputs.length; i++) {\n        inputs[i].value = logOutLink.dataset.csrf;\n      }\n    });\n  },\n  toggleDocumentForm: function toggleDocumentForm(e, target) {\n    Board.replacePostButton(e.target);\n    var channel = window.userCampChannel;\n    channel.push(\"load_document_form\", {}).receive(\"ok\", function (resp) {\n      _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, target);\n      var logOutLink = document.getElementById('logOutLink');\n      var inputs = document.querySelectorAll('input[name=\"_csrf_token\"]');\n\n      for (var i = 0; i < inputs.length; i++) {\n        inputs[i].value = logOutLink.dataset.csrf;\n      }\n    });\n  },\n  replacePostButton: function replacePostButton(button) {\n    var newButton = document.createElement('button');\n    newButton.innerHTML = \"Cancel\";\n\n    for (var i = 0; i < button.classList.length; i++) {\n      newButton.classList.add(button.classList[i]);\n    }\n\n    if (button.dataset.postId) {\n      newButton.dataset.postId = button.dataset.postId;\n      newButton.innerHTML = \"Cancel Comment\";\n    }\n\n    button.replaceWith(newButton);\n    newButton.addEventListener('click', function (e) {\n      Board.hideForm(e.target, button.dataset.board_type);\n    });\n  },\n  hideForm: function hideForm(button, boardType) {\n    var id = button.dataset.postId;\n\n    if (!id) {\n      id = \"\";\n    }\n\n    var messageBoardCreatePost = document.getElementById(\"boardForm\".concat(id));\n\n    if (messageBoardCreatePost) {\n      messageBoardCreatePost.classList.add('hidden');\n    }\n\n    var newButton = document.createElement('button');\n\n    for (var i = 0; i < button.classList.length; i++) {\n      newButton.classList.add(button.classList[i]);\n    }\n\n    if (boardType == \"posts\") {\n      newButton.innerHTML = \"Post To This Board\";\n    } else if (boardType == \"images\") {\n      newButton.innerHTML = \"Upload Image\";\n    } else if (boardType == \"documents\") {\n      newButton.innerHTML = \"Upload Document\";\n    }\n\n    newButton.dataset.board_type = boardType;\n\n    if (button.dataset.postId) {\n      newButton.dataset.postId = button.dataset.postId;\n      newButton.innerHTML = \"Comment\";\n    }\n\n    button.replaceWith(newButton);\n    newButton.addEventListener('click', function (e) {\n      Board.showForm(e.target, boardType);\n    });\n  },\n  showForm: function showForm(button, boardType) {\n    var id = button.dataset.postId;\n\n    if (!id) {\n      id = \"\";\n    }\n\n    var messageBoardCreatePost = document.getElementById(\"boardForm\".concat(id));\n\n    if (messageBoardCreatePost) {\n      messageBoardCreatePost.classList.remove('hidden');\n    }\n\n    var newButton = document.createElement('button');\n\n    for (var i = 0; i < button.classList.length; i++) {\n      newButton.classList.add(button.classList[i]);\n    }\n\n    newButton.innerHTML = \"Cancel\";\n    newButton.dataset.board_type = boardType;\n\n    if (button.dataset.postId) {\n      newButton.dataset.postId = button.dataset.postId;\n      newButton.innerHTML = \"Cancel Comment\";\n    }\n\n    button.replaceWith(newButton);\n    newButton.addEventListener('click', function (e) {\n      Board.hideForm(e.target, button.dataset.board_type);\n    });\n  },\n  showImage: function showImage(target) {\n    var image = document.getElementById(\"imageBoardImage\".concat(target.dataset.imageid));\n\n    if (image) {\n      if (image.classList.contains('hidden')) {\n        image.classList.remove('hidden');\n        image.scrollIntoViewIfNeeded();\n        document.getElementById(\"messageBoardDisplayImage\".concat(target.dataset.imageid)).innerHTML = \"Hide Image\";\n      } else {\n        image.classList.add('hidden');\n        document.getElementById(\"messageBoardDisplayImage\".concat(target.dataset.imageid)).innerHTML = \"Show Image\";\n      }\n    } else if (window[\"imageBoardImage\".concat(target.dataset.imageid)]) {} else {\n      window[\"imageBoardImage\".concat(target.dataset.imageid)] = true;\n      var channel = window.userCampChannel;\n      channel.push(\"load_image\", {\n        image_id: target.dataset.imageid\n      }).receive(\"ok\", function (resp) {\n        _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"imageBoardImage\".concat(target.dataset.postid), \"imageBoardImage\".concat(target.dataset.imageid));\n        Board.addBoardEventListeners();\n        window[\"imageBoardImage\".concat(target.dataset.imageid)] = false;\n\n        if (target.innerHTML == \"Show Image\") {\n          target.innerHTML = \"Hide Image\";\n        } else {\n          document.getElementById(\"messageBoardDisplayImage\".concat(target.dataset.imageid)).innerHTML = \"Hide Image\";\n        }\n      }).receive(\"error\", function (resp) {\n        console.log(resp);\n      });\n    }\n  },\n  vote: function vote(target) {\n    if (!target.classList.contains(\"in_progress\")) {\n      var update = target.classList.contains(\"voted\");\n      var old_vote = target.classList.contains(\"old_vote\");\n      var flip_vote = Board.isFlipVote(target.dataset.value, target.dataset.postId);\n      Board.changeVoteButtons(target);\n      var channel = window.userCampChannel;\n      channel.push('new_vote', {\n        id: target.dataset.postId,\n        value: target.dataset.value,\n        update: update,\n        old_vote: old_vote,\n        flip_vote: flip_vote\n      }).receive(\"ok\", function (resp) {\n        console.log(resp);\n        target.classList.remove(\"in_progress\");\n      }).receive(\"error\", function (resp) {\n        console.log(resp);\n      });\n    }\n  },\n  isFlipVote: function isFlipVote(value, id) {\n    if (value == 1) {\n      return document.getElementById(\"disagree\".concat(id)).classList.contains(\"voted\");\n    } else {\n      return document.getElementById(\"agree\".concat(id)).classList.contains(\"voted\");\n    }\n  },\n  changeVoteButtons: function changeVoteButtons(target) {\n    if (target.dataset.value == \"1\") {\n      if (target.classList.contains(\"voted\")) {\n        Board.changePointsOnComment(target.dataset.postId, -1);\n        target.classList.remove(\"voted\");\n        target.innerHTML = \"Agree\";\n        var opposite = document.getElementById(\"disagree\".concat(target.dataset.postId));\n        opposite.classList.remove('disabled-button');\n      } else {\n        target.classList.remove(\"disabled-button\");\n        target.classList.add(\"voted\");\n        target.innerHTML = \"Agreed\";\n\n        var _opposite = document.getElementById(\"disagree\".concat(target.dataset.postId));\n\n        _opposite.classList.add('disabled-button');\n\n        if (_opposite.classList.contains('voted')) {\n          _opposite.classList.remove('voted');\n\n          Board.changePointsOnComment(target.dataset.postId, 2);\n        } else {\n          Board.changePointsOnComment(target.dataset.postId, 1);\n        }\n\n        _opposite.innerHTML = \"Disagree\";\n      }\n    } else {\n      if (target.classList.contains(\"voted\")) {\n        Board.changePointsOnComment(target.dataset.postId, 1);\n        target.classList.remove(\"voted\");\n        target.innerHTML = \"Disagree\";\n\n        var _opposite2 = document.getElementById(\"agree\".concat(target.dataset.postId));\n\n        _opposite2.classList.remove('disabled-button');\n      } else {\n        target.classList.remove(\"disabled-button\");\n        target.classList.add(\"voted\");\n        target.innerHTML = \"Disagreed\";\n\n        var _opposite3 = document.getElementById(\"agree\".concat(target.dataset.postId));\n\n        _opposite3.classList.add('disabled-button');\n\n        if (_opposite3.classList.contains('voted')) {\n          _opposite3.classList.remove('voted');\n\n          Board.changePointsOnComment(target.dataset.postId, -2);\n        } else {\n          Board.changePointsOnComment(target.dataset.postId, -1);\n        }\n\n        _opposite3.innerHTML = \"Agree\";\n      }\n    }\n\n    target.classList.add('in_progress');\n    target.blur();\n  },\n  changePointsOnComment: function changePointsOnComment(comment_id, value) {\n    var tribeBoardPoints = document.getElementById(\"tribeBoardPoints\".concat(comment_id));\n\n    if (tribeBoardPoints) {\n      var points = tribeBoardPoints.innerHTML;\n      points = parseInt(points);\n      points += value;\n      tribeBoardPoints.innerHTML = points;\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Board);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9ib2FyZC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL2JvYXJkLmpzP2YxZTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXJDYW1wIGZyb20gXCIuL3VzZXJfY2FtcFwiXG5sZXQgQm9hcmQgPSB7XG4gIGluaXQoKSB7XG4gICAgQm9hcmQuYWRkQm9hcmRFdmVudExpc3RlbmVycygpXG4gIH0sXG4gIGFkZEJvYXJkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgbGV0IG1lc3NhZ2VCb2FyZFNlbGVjdFR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZUJvYXJkU2VsZWN0VHlwZScpXG4gICAgaWYgKG1lc3NhZ2VCb2FyZFNlbGVjdFR5cGUpIHtcbiAgICAgIGlmICghbWVzc2FnZUJvYXJkU2VsZWN0VHlwZS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKXtcbiAgICAgICAgbWVzc2FnZUJvYXJkU2VsZWN0VHlwZS5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICBtZXNzYWdlQm9hcmRTZWxlY3RUeXBlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIEJvYXJkLm1lc3NhZ2VCb2FyZFNlbGVjdClcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IG1lc3NhZ2VCb2FyZFNlbGVjdFJhbmdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2VCb2FyZFNlbGVjdFJhbmdlJylcbiAgICBpZiAobWVzc2FnZUJvYXJkU2VsZWN0UmFuZ2UpIHtcbiAgICAgIGlmICghbWVzc2FnZUJvYXJkU2VsZWN0UmFuZ2UuY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSl7XG4gICAgICAgIG1lc3NhZ2VCb2FyZFNlbGVjdFJhbmdlLmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgIG1lc3NhZ2VCb2FyZFNlbGVjdFJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIEJvYXJkLm1lc3NhZ2VCb2FyZFNlbGVjdClcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGRvY3VtZW50Qm9hcmRDcmVhdGVQb3N0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RvY3VtZW50Qm9hcmRDcmVhdGVQb3N0JylcbiAgICBpZiAoZG9jdW1lbnRCb2FyZENyZWF0ZVBvc3QpIHtcbiAgICAgIGlmICghZG9jdW1lbnRCb2FyZENyZWF0ZVBvc3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSl7XG4gICAgICAgIGRvY3VtZW50Qm9hcmRDcmVhdGVQb3N0LmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgIGRvY3VtZW50Qm9hcmRDcmVhdGVQb3N0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICBCb2FyZC50b2dnbGVEb2N1bWVudEZvcm0oZSwgXCJkb2N1bWVudEJvYXJkUG9zdEZvcm1cIik7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpbWFnZUJvYXJkQ3JlYXRlUG9zdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWFnZUJvYXJkQ3JlYXRlUG9zdCcpXG4gICAgaWYgKGltYWdlQm9hcmRDcmVhdGVQb3N0KSB7XG4gICAgICBpZiAoIWltYWdlQm9hcmRDcmVhdGVQb3N0LmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpe1xuICAgICAgICBpbWFnZUJvYXJkQ3JlYXRlUG9zdC5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICBpbWFnZUJvYXJkQ3JlYXRlUG9zdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgQm9hcmQudG9nZ2xlSW1hZ2VGb3JtKGUsIFwiaW1hZ2VCb2FyZFBvc3RGb3JtXCIpO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgYm9hcmRSYW5nZURhdGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib2FyZFJhbmdlRGF0ZUlucHV0JylcbiAgICBpZiAoYm9hcmRSYW5nZURhdGVJbnB1dCkge1xuICAgICAgaWYgKCFib2FyZFJhbmdlRGF0ZUlucHV0LmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpe1xuICAgICAgICBib2FyZFJhbmdlRGF0ZUlucHV0LmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgIGJvYXJkUmFuZ2VEYXRlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgQm9hcmQubWVzc2FnZUJvYXJkU2VsZWN0KVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbWVzc2FnZUJvYXJkQ3JlYXRlUG9zdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlQm9hcmRDcmVhdGVQb3N0JylcbiAgICBpZiAobWVzc2FnZUJvYXJkQ3JlYXRlUG9zdCkge1xuICAgICAgaWYgKCFtZXNzYWdlQm9hcmRDcmVhdGVQb3N0LmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpe1xuICAgICAgICBtZXNzYWdlQm9hcmRDcmVhdGVQb3N0LmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgIG1lc3NhZ2VCb2FyZENyZWF0ZVBvc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgIEJvYXJkLnRvZ2dsZVBvc3RGb3JtKGUsIFwibWVzc2FnZUJvYXJkUG9zdEZvcm1cIik7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBtZXNzYWdlQm9hcmRDcmVhdGVDb21tZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1lc3NhZ2VCb2FyZENyZWF0ZUNvbW1lbnQnKVxuICAgIGlmIChtZXNzYWdlQm9hcmRDcmVhdGVDb21tZW50KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2VCb2FyZENyZWF0ZUNvbW1lbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFtZXNzYWdlQm9hcmRDcmVhdGVDb21tZW50W2ldLmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpe1xuICAgICAgICAgIG1lc3NhZ2VCb2FyZENyZWF0ZUNvbW1lbnRbaV0uY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgICBtZXNzYWdlQm9hcmRDcmVhdGVDb21tZW50W2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGxldCBpZCA9IGUudGFyZ2V0LmRhdGFzZXQucG9zdElkXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gYG1lc3NhZ2VCb2FyZFBvc3RGb3JtJHtpZH1gXG4gICAgICAgICAgICBCb2FyZC50b2dnbGVQb3N0Rm9ybShlLCB0YXJnZXQsIGlkKTtcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBtZXNzYWdlQm9hcmREaXNwbGF5SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWVzc2FnZUJvYXJkRGlzcGxheUltYWdlJylcbiAgICBpZiAobWVzc2FnZUJvYXJkRGlzcGxheUltYWdlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2VCb2FyZERpc3BsYXlJbWFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIW1lc3NhZ2VCb2FyZERpc3BsYXlJbWFnZVtpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKXtcbiAgICAgICAgICBtZXNzYWdlQm9hcmREaXNwbGF5SW1hZ2VbaV0uY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgICBtZXNzYWdlQm9hcmREaXNwbGF5SW1hZ2VbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgQm9hcmQuc2hvd0ltYWdlKGUudGFyZ2V0KTtcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBtZXNzYWdlQm9hcmRDb21tZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZXNzYWdlQm9hcmRDb21tZW50cycpXG4gICAgaWYgKG1lc3NhZ2VCb2FyZENvbW1lbnRzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lc3NhZ2VCb2FyZENvbW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghbWVzc2FnZUJvYXJkQ29tbWVudHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSl7XG4gICAgICAgICAgbWVzc2FnZUJvYXJkQ29tbWVudHNbaV0uY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgICBtZXNzYWdlQm9hcmRDb21tZW50c1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBCb2FyZC5sb2FkQ29tbWVudHMoZS50YXJnZXQpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbG9hZE1vcmVDb21tZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sb2FkTW9yZUNvbW1lbnRzJylcbiAgICBpZiAobG9hZE1vcmVDb21tZW50cykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2FkTW9yZUNvbW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghbG9hZE1vcmVDb21tZW50c1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKXtcbiAgICAgICAgICBsb2FkTW9yZUNvbW1lbnRzW2ldLmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgICAgbG9hZE1vcmVDb21tZW50c1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBCb2FyZC5sb2FkTW9yZUNvbW1lbnRzKGUudGFyZ2V0KVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGxvYWRNb3JlUG9zdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubG9hZE1vcmVQb3N0cycpXG4gICAgaWYgKGxvYWRNb3JlUG9zdHMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9hZE1vcmVQb3N0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWxvYWRNb3JlUG9zdHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSl7XG4gICAgICAgICAgbG9hZE1vcmVQb3N0c1tpXS5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICAgIGxvYWRNb3JlUG9zdHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBCb2FyZC5sb2FkTW9yZVBvc3RzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBtZXNzYWdlQm9hcmRWb3RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZXNzYWdlQm9hcmRWb3RlJylcbiAgICBpZiAobWVzc2FnZUJvYXJkVm90ZXMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZUJvYXJkVm90ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFtZXNzYWdlQm9hcmRWb3Rlc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKXtcbiAgICAgICAgICBtZXNzYWdlQm9hcmRWb3Rlc1tpXS5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICAgIG1lc3NhZ2VCb2FyZFZvdGVzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIEJvYXJkLnZvdGUoZS50YXJnZXQpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbWVzc2FnZUJvYXJkU2VsZWN0KCkge1xuICAgIGxldCBtZXNzYWdlQm9hcmRTZWxlY3RUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2VCb2FyZFNlbGVjdFR5cGUnKVxuICAgIGxldCBwb3N0X3R5cGUgPSBtZXNzYWdlQm9hcmRTZWxlY3RUeXBlLnZhbHVlXG4gICAgbGV0IGJvYXJkX3R5cGUgPSBtZXNzYWdlQm9hcmRTZWxlY3RUeXBlLmRhdGFzZXQuYm9hcmRfdHlwZVxuICAgIGxldCByYW5nZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlQm9hcmRTZWxlY3RSYW5nZScpLnZhbHVlXG4gICAgbGV0IGRhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm9hcmRSYW5nZURhdGVJbnB1dCcpLnZhbHVlXG5cbiAgICBCb2FyZC5tYWtlRGF0ZVNlbGVjdFZpc2libGUocmFuZ2UpXG4gICAgQm9hcmQubWFrZVJhbmdlU2VsZWN0VmlzaWJsZShwb3N0X3R5cGUpXG4gICAgaWYgKHBvc3RfdHlwZSAhPSBcInJlY2VudFwiICYmICgocmFuZ2UgPT0gXCJkYXlcIiB8fCByYW5nZSA9PSBcIndlZWtcIikgJiYgKGRhdGUgPT0gXCJcIikpKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbXBCb2FyZFBvc3RzXCIpLmlubmVySFRNTCA9IFwiU2VsZWN0IERhdGVcIlxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyQ2FtcENoYW5uZWxcbiAgICAgIGNoYW5uZWwucHVzaChcImJvYXJkX3NlbGVjdFwiLCB7cG9zdF90eXBlOiBwb3N0X3R5cGUsIGJvYXJkX3R5cGU6IGJvYXJkX3R5cGUsIHJhbmdlOiByYW5nZSwgZGF0ZTogZGF0ZX0pXG4gICAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKVxuICAgICAgICAgIFVzZXJDYW1wLnB1dFJlc3BUb0RvbShyZXNwLCBcImNhbXBCb2FyZFBvc3RzXCIpXG4gICAgICAgICAgQm9hcmQuYWRkQm9hcmRFdmVudExpc3RlbmVycygpXG4gICAgICAgIH0pXG4gICAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtjb25zb2xlLmxvZyhyZXNwKX0pXG4gICAgfVxuICB9LFxuICBtYWtlUmFuZ2VTZWxlY3RWaXNpYmxlKHR5cGUpIHtcbiAgICBsZXQgbWVzc2FnZUJvYXJkU2VsZWN0UmFuZ2VEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZUJvYXJkU2VsZWN0UmFuZ2VEaXYnKVxuICAgIGlmICh0eXBlID09IFwidG9wXCIgfHwgdHlwZSA9PSBcImNvbnRyb3ZlcnNpYWxcIikge1xuICAgICAgbWVzc2FnZUJvYXJkU2VsZWN0UmFuZ2VEaXYuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZUJvYXJkU2VsZWN0UmFuZ2VEaXYuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICB9XG4gIH0sXG4gIG1ha2VEYXRlU2VsZWN0VmlzaWJsZShyYW5nZSkge1xuICAgIGxldCBib2FyZFJhbmdlRGF0ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JvYXJkUmFuZ2VEYXRlSW5wdXQnKVxuICAgIGlmIChyYW5nZSA9PSBcImRheVwiIHx8IHJhbmdlID09IFwid2Vla1wiKSB7XG4gICAgICBib2FyZFJhbmdlRGF0ZUlucHV0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgfSBlbHNlIHtcbiAgICAgIGJvYXJkUmFuZ2VEYXRlSW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICB9XG4gIH0sXG4gIGxvYWROZXdQb3N0UmFuZ2UodGltZV9wZXJpb2QpIHtcbiAgICBzd2l0Y2godGltZV9wZXJpb2Qpe1xuICAgICAgY2FzZSBcImFub3RoZXJfZGF5XCI6XG4gICAgICAgIEJvYXJkLmFjdGl2YXRlRGF0ZUlucHV0KCdkYXknKVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhbm90aGVyX3dlZWtcIjpcbiAgICAgICAgQm9hcmQuYWN0aXZhdGVEYXRlSW5wdXQoJ3dlZWsnKVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIEJvYXJkLmRlYWN0aXZhdGVEYXRlSW5wdXQoKVxuICAgICAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyQ2FtcENoYW5uZWxcbiAgICAgICAgY2hhbm5lbC5wdXNoKFwiY2hhbmdlX2JvYXJkX3JhbmdlXCIsIHt0aW1lX3BlcmlvZDogdGltZV9wZXJpb2QsIHBhZ2U6IDB9KVxuICAgICAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3ApXG4gICAgICAgICAgICBVc2VyQ2FtcC5wdXRSZXNwVG9Eb20ocmVzcCwgXCJ0cmliZUJvYXJkUG9zdHNcIilcbiAgICAgICAgICAgIEJvYXJkLmFkZEJvYXJkRXZlbnRMaXN0ZW5lcnMoKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzcCkgPT4ge2NvbnNvbGUubG9nKHJlc3ApfSlcbiAgICB9XG4gIH0sXG4gIGxvYWRNb3JlUG9zdHMoZSkge1xuICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldFxuICAgIGxldCBwYWdlID0gdGFyZ2V0LmRhdGFzZXQucGFnZVxuICAgIGxldCBkYXRlID0gdGFyZ2V0LmRhdGFzZXQuZGF0ZVxuICAgIGxldCBvcmRlcl9ieSA9IHRhcmdldC5kYXRhc2V0Lm9yZGVyX2J5XG4gICAgbGV0IGJvYXJkX3R5cGUgPSB0YXJnZXQuZGF0YXNldC5ib2FyZF90eXBlXG4gICAgY29uc29sZS5sb2codGFyZ2V0LmRhdGFzZXQpO1xuICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJDYW1wQ2hhbm5lbFxuICAgIGNoYW5uZWwucHVzaChcImxvYWRfbW9yZV9wb3N0c1wiLCB7b3JkZXJfYnk6IG9yZGVyX2J5LCBib2FyZF90eXBlOiBib2FyZF90eXBlLCBkYXRlOiBkYXRlLCBwYWdlOiBwYWdlfSlcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcClcbiAgICAgICAgVXNlckNhbXAucHV0UmVzcFRvRG9tKHJlc3AsIFwibG9hZE1vcmVQb3N0c1wiKVxuICAgICAgICBCb2FyZC5hZGRCb2FyZEV2ZW50TGlzdGVuZXJzKClcbiAgICAgIH0pXG4gICAgICAucmVjZWl2ZShcImVycm9yXCIsIChyZXNwKSA9PiB7Y29uc29sZS5sb2cocmVzcCl9KVxuXG4gIH0sXG4gIGFjdGl2YXRlRGF0ZUlucHV0KHJhbmdlKSB7XG4gICAgbGV0IGFub3RoZXJEYXRlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW5vdGhlckRhdGVJbnB1dCcpXG4gICAgYW5vdGhlckRhdGVJbnB1dC52YWx1ZSA9IG51bGxcbiAgICBpZiAoYW5vdGhlckRhdGVJbnB1dCkge1xuICAgICAgYW5vdGhlckRhdGVJbnB1dC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgYW5vdGhlckRhdGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XG4gICAgICAgIEJvYXJkLmxvYWRCb2FyZFBvc3RzSW5SYW5nZShyYW5nZSwgZS50YXJnZXQudmFsdWUpXG4gICAgICB9KVxuICAgIH1cbiAgICBsZXQgdHJpYmVCb2FyZFBvc3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RyaWJlQm9hcmRQb3N0cycpXG4gICAgaWYgKHRyaWJlQm9hcmRQb3N0cykge1xuICAgICAgdHJpYmVCb2FyZFBvc3RzLmlubmVySFRNTCA9IFwiU2VsZWN0IFwiICsgcmFuZ2VcbiAgICB9XG4gIH0sXG4gIGRlYWN0aXZhdGVEYXRlSW5wdXQoKSB7XG4gICAgbGV0IGFub3RoZXJEYXRlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW5vdGhlckRhdGVJbnB1dCcpXG4gICAgaWYgKGFub3RoZXJEYXRlSW5wdXQpIHtcbiAgICAgIGFub3RoZXJEYXRlSW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICB9XG4gIH0sXG4gIGxvYWRCb2FyZFBvc3RzSW5SYW5nZShyYW5nZSwgZGF0ZSwgcGFnZSA9IDApIHtcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyQ2FtcENoYW5uZWxcbiAgICBjaGFubmVsLnB1c2goXCJjaGFuZ2VfYm9hcmRfcmFuZ2VcIiwge3RpbWVfcGVyaW9kOiByYW5nZSwgcGFnZTogcGFnZSwgZGF0ZTogZGF0ZX0pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3ApXG4gICAgICAgIFVzZXJDYW1wLnB1dFJlc3BUb0RvbShyZXNwLCBcInRyaWJlQm9hcmRQb3N0c1wiKVxuICAgICAgICBCb2FyZC5hZGRCb2FyZEV2ZW50TGlzdGVuZXJzKClcbiAgICAgIH0pXG4gICAgICAucmVjZWl2ZShcImVycm9yXCIsIChyZXNwKSA9PiB7Y29uc29sZS5sb2cocmVzcCl9KVxuICB9LFxuICBsb2FkQ29tbWVudHModGFyZ2V0KSB7XG4gICAgQm9hcmQucmVwbGFjZUJ1dHRvbldpdGhIaWRlKHRhcmdldClcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyQ2FtcENoYW5uZWxcbiAgICBjaGFubmVsLnB1c2goXCJsb2FkX2NvbW1lbnRzXCIsIHtwb3N0X2lkOiB0YXJnZXQuZGF0YXNldC5wb3N0SWQsIGJvYXJkX3R5cGU6IHRhcmdldC5kYXRhc2V0LmJvYXJkX3R5cGUsIHBhZ2U6IDB9KVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICBVc2VyQ2FtcC5hcHBlbmRSZXNwVG9Eb20ocmVzcCwgYHRyaWJlQm9hcmRQb3N0JHt0YXJnZXQuZGF0YXNldC5wb3N0SWR9YClcbiAgICAgICAgQm9hcmQuYWRkQm9hcmRFdmVudExpc3RlbmVycygpXG4gICAgICB9KVxuICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzcCkgPT4ge2NvbnNvbGUubG9nKHJlc3ApfSlcbiAgfSxcbiAgbG9hZE1vcmVDb21tZW50cyh0YXJnZXQpIHtcbiAgICBsZXQgcGFnZSA9IHBhcnNlSW50KHRhcmdldC5kYXRhc2V0LnBhZ2UpXG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckNhbXBDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwibG9hZF9jb21tZW50c1wiLCB7cG9zdF9pZDogdGFyZ2V0LmRhdGFzZXQucG9zdCwgYm9hcmRfdHlwZTogdGFyZ2V0LmRhdGFzZXQuYm9hcmRfdHlwZSwgcGFnZTogcGFnZX0pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIFVzZXJDYW1wLnB1dFJlc3BUb0RvbShyZXNwLCBgbG9hZE1vcmVDb21tZW50cyR7dGFyZ2V0LmRhdGFzZXQucG9zdH1gKVxuICAgICAgICBCb2FyZC5hZGRCb2FyZEV2ZW50TGlzdGVuZXJzKClcbiAgICAgIH0pXG4gICAgICAucmVjZWl2ZShcImVycm9yXCIsIChyZXNwKSA9PiB7Y29uc29sZS5sb2cocmVzcCl9KVxuICB9LFxuICByZXBsYWNlQnV0dG9uV2l0aEhpZGUoYnV0dG9uKSB7XG4gICAgbGV0IGNvdW50ID0gYnV0dG9uLmlubmVySFRNTC5tYXRjaCgvXFxkKy9nKVxuICAgIGlmIChjb3VudCkge1xuICAgICAgY291bnQgPSBjb3VudFswXVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IFwiXCJcbiAgICB9XG4gICAgbGV0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgbmV3QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJidXR0b24tc21hbGxcIilcbiAgICBuZXdCdXR0b24uaW5uZXJIVE1MID0gYEhpZGUgJHtjb3VudH0gQ29tbWVudHNgXG4gICAgbmV3QnV0dG9uLmRhdGFzZXQucG9zdElkID0gYnV0dG9uLmRhdGFzZXQucG9zdElkXG4gICAgYnV0dG9uLnJlcGxhY2VXaXRoKG5ld0J1dHRvbilcbiAgICBuZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBCb2FyZC5oaWRlQ29tbWVudHMoZS50YXJnZXQpXG4gICAgfSlcbiAgfSxcbiAgaGlkZUNvbW1lbnRzKGJ1dHRvbikge1xuICAgIGxldCBjb3VudCA9IGJ1dHRvbi5pbm5lckhUTUwubWF0Y2goL1xcZCsvZylcbiAgICBpZiAoY291bnQpIHtcbiAgICAgIGNvdW50ID0gY291bnRbMF1cbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSBcIlwiXG4gICAgfVxuICAgIGxldCBpZCA9IGJ1dHRvbi5kYXRhc2V0LnBvc3RJZFxuICAgIGxldCBjb21tZW50RGl2cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC50cmliZUJvYXJkQ29tbWVudHMke2lkfWApXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21tZW50RGl2cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29tbWVudERpdnNbaV0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICB9XG4gICAgbGV0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgbmV3QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJidXR0b24tc21hbGxcIilcbiAgICBuZXdCdXR0b24uaW5uZXJIVE1MID0gYFNob3cgJHtjb3VudH0gQ29tbWVudHNgXG4gICAgbmV3QnV0dG9uLmRhdGFzZXQucG9zdElkID0gYnV0dG9uLmRhdGFzZXQucG9zdElkXG4gICAgYnV0dG9uLnJlcGxhY2VXaXRoKG5ld0J1dHRvbilcbiAgICBuZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgQm9hcmQuc2hvd0NvbW1lbnRzKGUudGFyZ2V0KVxuICAgIH0pXG4gIH0sXG4gIHNob3dDb21tZW50cyhidXR0b24pIHtcbiAgICBsZXQgY291bnQgPSBidXR0b24uaW5uZXJIVE1MLm1hdGNoKC9cXGQrL2cpXG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBjb3VudCA9IGNvdW50WzBdXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ID0gXCJcIlxuICAgIH1cbiAgICBsZXQgaWQgPSBidXR0b24uZGF0YXNldC5wb3N0SWRcbiAgICBsZXQgY29tbWVudERpdnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAudHJpYmVCb2FyZENvbW1lbnRzJHtpZH1gKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tbWVudERpdnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbW1lbnREaXZzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgfVxuICAgIGxldCBuZXdCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgIG5ld0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYnV0dG9uLXNtYWxsXCIpXG4gICAgbmV3QnV0dG9uLmlubmVySFRNTCA9IGBIaWRlICR7Y291bnR9IENvbW1lbnRzYFxuICAgIG5ld0J1dHRvbi5kYXRhc2V0LnBvc3RJZCA9IGJ1dHRvbi5kYXRhc2V0LnBvc3RJZFxuICAgIGJ1dHRvbi5yZXBsYWNlV2l0aChuZXdCdXR0b24pXG4gICAgbmV3QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIEJvYXJkLmhpZGVDb21tZW50cyhlLnRhcmdldClcbiAgICB9KVxuICB9LFxuICB0b2dnbGVQb3N0Rm9ybShlLCB0YXJnZXQsIGlkID0gbnVsbCkge1xuICAgIEJvYXJkLnJlcGxhY2VQb3N0QnV0dG9uKGUudGFyZ2V0KVxuICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJDYW1wQ2hhbm5lbFxuICAgIGNoYW5uZWwucHVzaChcImxvYWRfZm9ybVwiLCB7aWQ6IGlkLCBpbWFnZTogZmFsc2V9KVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICBVc2VyQ2FtcC5wdXRSZXNwVG9Eb20ocmVzcCwgdGFyZ2V0KVxuICAgICAgICBsZXQgbG9nT3V0TGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dPdXRMaW5rJylcbiAgICAgICAgbGV0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9XCJfY3NyZl90b2tlblwiXScpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaW5wdXRzW2ldLnZhbHVlID0gbG9nT3V0TGluay5kYXRhc2V0LmNzcmZcbiAgICAgICAgfVxuICAgICAgfSlcbiAgfSxcbiAgdG9nZ2xlSW1hZ2VGb3JtKGUsIHRhcmdldCkge1xuICAgIEJvYXJkLnJlcGxhY2VQb3N0QnV0dG9uKGUudGFyZ2V0KVxuICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJDYW1wQ2hhbm5lbFxuICAgIGNoYW5uZWwucHVzaChcImxvYWRfaW1hZ2VfZm9ybVwiLCB7fSlcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgVXNlckNhbXAucHV0UmVzcFRvRG9tKHJlc3AsIHRhcmdldClcbiAgICAgICAgbGV0IGxvZ091dExpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9nT3V0TGluaycpXG4gICAgICAgIGxldCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPVwiX2NzcmZfdG9rZW5cIl0nKVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlucHV0c1tpXS52YWx1ZSA9IGxvZ091dExpbmsuZGF0YXNldC5jc3JmXG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH0sXG4gIHRvZ2dsZURvY3VtZW50Rm9ybShlLCB0YXJnZXQpIHtcbiAgICBCb2FyZC5yZXBsYWNlUG9zdEJ1dHRvbihlLnRhcmdldClcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyQ2FtcENoYW5uZWxcbiAgICBjaGFubmVsLnB1c2goXCJsb2FkX2RvY3VtZW50X2Zvcm1cIiwge30pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIFVzZXJDYW1wLnB1dFJlc3BUb0RvbShyZXNwLCB0YXJnZXQpXG4gICAgICAgIGxldCBsb2dPdXRMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ091dExpbmsnKVxuICAgICAgICBsZXQgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cIl9jc3JmX3Rva2VuXCJdJylcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpbnB1dHNbaV0udmFsdWUgPSBsb2dPdXRMaW5rLmRhdGFzZXQuY3NyZlxuICAgICAgICB9XG4gICAgICB9KVxuICB9LFxuICByZXBsYWNlUG9zdEJ1dHRvbihidXR0b24pIHtcbiAgICBsZXQgbmV3QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICBuZXdCdXR0b24uaW5uZXJIVE1MID0gXCJDYW5jZWxcIlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnV0dG9uLmNsYXNzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgbmV3QnV0dG9uLmNsYXNzTGlzdC5hZGQoYnV0dG9uLmNsYXNzTGlzdFtpXSlcbiAgICB9XG4gICAgaWYgKGJ1dHRvbi5kYXRhc2V0LnBvc3RJZCkge1xuICAgICAgbmV3QnV0dG9uLmRhdGFzZXQucG9zdElkID0gYnV0dG9uLmRhdGFzZXQucG9zdElkXG4gICAgICBuZXdCdXR0b24uaW5uZXJIVE1MID0gXCJDYW5jZWwgQ29tbWVudFwiXG4gICAgfVxuICAgIGJ1dHRvbi5yZXBsYWNlV2l0aChuZXdCdXR0b24pXG4gICAgbmV3QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgQm9hcmQuaGlkZUZvcm0oZS50YXJnZXQsIGJ1dHRvbi5kYXRhc2V0LmJvYXJkX3R5cGUpXG4gICAgfSlcbiAgfSxcbiAgaGlkZUZvcm0oYnV0dG9uLCBib2FyZFR5cGUpIHtcbiAgICBsZXQgaWQgPSBidXR0b24uZGF0YXNldC5wb3N0SWRcbiAgICBpZiAoIWlkKSB7aWQgPSBcIlwifVxuICAgIGxldCBtZXNzYWdlQm9hcmRDcmVhdGVQb3N0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGJvYXJkRm9ybSR7aWR9YClcbiAgICBpZiAobWVzc2FnZUJvYXJkQ3JlYXRlUG9zdCkge1xuICAgICAgbWVzc2FnZUJvYXJkQ3JlYXRlUG9zdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgIH1cbiAgICBsZXQgbmV3QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbi5jbGFzc0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ld0J1dHRvbi5jbGFzc0xpc3QuYWRkKGJ1dHRvbi5jbGFzc0xpc3RbaV0pXG4gICAgfVxuICAgIGlmIChib2FyZFR5cGUgPT0gXCJwb3N0c1wiKSB7XG4gICAgICBuZXdCdXR0b24uaW5uZXJIVE1MID0gXCJQb3N0IFRvIFRoaXMgQm9hcmRcIlxuICAgIH0gZWxzZSBpZiAoYm9hcmRUeXBlID09IFwiaW1hZ2VzXCIpIHtcbiAgICAgIG5ld0J1dHRvbi5pbm5lckhUTUwgPSBcIlVwbG9hZCBJbWFnZVwiXG4gICAgfSBlbHNlIGlmIChib2FyZFR5cGUgPT0gXCJkb2N1bWVudHNcIikge1xuICAgICAgbmV3QnV0dG9uLmlubmVySFRNTCA9IFwiVXBsb2FkIERvY3VtZW50XCJcbiAgICB9XG4gICAgbmV3QnV0dG9uLmRhdGFzZXQuYm9hcmRfdHlwZSA9IGJvYXJkVHlwZVxuICAgIGlmIChidXR0b24uZGF0YXNldC5wb3N0SWQpIHtcbiAgICAgIG5ld0J1dHRvbi5kYXRhc2V0LnBvc3RJZCA9IGJ1dHRvbi5kYXRhc2V0LnBvc3RJZFxuICAgICAgbmV3QnV0dG9uLmlubmVySFRNTCA9IFwiQ29tbWVudFwiXG4gICAgfVxuICAgIGJ1dHRvbi5yZXBsYWNlV2l0aChuZXdCdXR0b24pXG4gICAgbmV3QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIEJvYXJkLnNob3dGb3JtKGUudGFyZ2V0LCBib2FyZFR5cGUpXG4gICAgfSlcbiAgfSxcbiAgc2hvd0Zvcm0oYnV0dG9uLCBib2FyZFR5cGUpIHtcbiAgICBsZXQgaWQgPSBidXR0b24uZGF0YXNldC5wb3N0SWRcbiAgICBpZiAoIWlkKSB7aWQgPSBcIlwifVxuICAgIGxldCBtZXNzYWdlQm9hcmRDcmVhdGVQb3N0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGJvYXJkRm9ybSR7aWR9YClcbiAgICBpZiAobWVzc2FnZUJvYXJkQ3JlYXRlUG9zdCkge1xuICAgICAgbWVzc2FnZUJvYXJkQ3JlYXRlUG9zdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgIH1cbiAgICBsZXQgbmV3QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbi5jbGFzc0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ld0J1dHRvbi5jbGFzc0xpc3QuYWRkKGJ1dHRvbi5jbGFzc0xpc3RbaV0pXG4gICAgfVxuICAgIG5ld0J1dHRvbi5pbm5lckhUTUwgPSBcIkNhbmNlbFwiXG4gICAgbmV3QnV0dG9uLmRhdGFzZXQuYm9hcmRfdHlwZSA9IGJvYXJkVHlwZVxuICAgIGlmIChidXR0b24uZGF0YXNldC5wb3N0SWQpIHtcbiAgICAgIG5ld0J1dHRvbi5kYXRhc2V0LnBvc3RJZCA9IGJ1dHRvbi5kYXRhc2V0LnBvc3RJZFxuICAgICAgbmV3QnV0dG9uLmlubmVySFRNTCA9IFwiQ2FuY2VsIENvbW1lbnRcIlxuICAgIH1cbiAgICBidXR0b24ucmVwbGFjZVdpdGgobmV3QnV0dG9uKVxuICAgIG5ld0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBCb2FyZC5oaWRlRm9ybShlLnRhcmdldCwgYnV0dG9uLmRhdGFzZXQuYm9hcmRfdHlwZSlcbiAgICB9KVxuICB9LFxuICBzaG93SW1hZ2UodGFyZ2V0KSB7XG4gICAgbGV0IGltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGltYWdlQm9hcmRJbWFnZSR7dGFyZ2V0LmRhdGFzZXQuaW1hZ2VpZH1gKVxuICAgIGlmIChpbWFnZSkge1xuICAgICAgaWYgKGltYWdlLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICAgICAgaW1hZ2Uuc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCgpXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBtZXNzYWdlQm9hcmREaXNwbGF5SW1hZ2Uke3RhcmdldC5kYXRhc2V0LmltYWdlaWR9YCkuaW5uZXJIVE1MID1cIkhpZGUgSW1hZ2VcIlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG1lc3NhZ2VCb2FyZERpc3BsYXlJbWFnZSR7dGFyZ2V0LmRhdGFzZXQuaW1hZ2VpZH1gKS5pbm5lckhUTUwgPSBcIlNob3cgSW1hZ2VcIlxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAod2luZG93W2BpbWFnZUJvYXJkSW1hZ2Uke3RhcmdldC5kYXRhc2V0LmltYWdlaWR9YF0pIHtcblxuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3dbYGltYWdlQm9hcmRJbWFnZSR7dGFyZ2V0LmRhdGFzZXQuaW1hZ2VpZH1gXSA9IHRydWVcbiAgICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJDYW1wQ2hhbm5lbFxuICAgICAgY2hhbm5lbC5wdXNoKFwibG9hZF9pbWFnZVwiLCB7aW1hZ2VfaWQ6IHRhcmdldC5kYXRhc2V0LmltYWdlaWR9KVxuICAgICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgICAgVXNlckNhbXAucHV0UmVzcFRvRG9tKHJlc3AsIGBpbWFnZUJvYXJkSW1hZ2Uke3RhcmdldC5kYXRhc2V0LnBvc3RpZH1gLCBgaW1hZ2VCb2FyZEltYWdlJHt0YXJnZXQuZGF0YXNldC5pbWFnZWlkfWApXG4gICAgICAgICAgQm9hcmQuYWRkQm9hcmRFdmVudExpc3RlbmVycygpXG4gICAgICAgICAgd2luZG93W2BpbWFnZUJvYXJkSW1hZ2Uke3RhcmdldC5kYXRhc2V0LmltYWdlaWR9YF0gPSBmYWxzZVxuICAgICAgICAgIGlmICh0YXJnZXQuaW5uZXJIVE1MID09IFwiU2hvdyBJbWFnZVwiKSB7XG4gICAgICAgICAgICB0YXJnZXQuaW5uZXJIVE1MID0gXCJIaWRlIEltYWdlXCJcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG1lc3NhZ2VCb2FyZERpc3BsYXlJbWFnZSR7dGFyZ2V0LmRhdGFzZXQuaW1hZ2VpZH1gKS5pbm5lckhUTUwgPVwiSGlkZSBJbWFnZVwiXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAucmVjZWl2ZShcImVycm9yXCIsIChyZXNwKSA9PiB7Y29uc29sZS5sb2cocmVzcCl9KVxuICAgIH1cbiAgfSxcbiAgdm90ZSh0YXJnZXQpIHtcbiAgICBpZiAoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJpbl9wcm9ncmVzc1wiKSkge1xuICAgICAgbGV0IHVwZGF0ZSA9IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJ2b3RlZFwiKVxuICAgICAgbGV0IG9sZF92b3RlID0gdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm9sZF92b3RlXCIpXG4gICAgICBsZXQgZmxpcF92b3RlID0gQm9hcmQuaXNGbGlwVm90ZSh0YXJnZXQuZGF0YXNldC52YWx1ZSwgdGFyZ2V0LmRhdGFzZXQucG9zdElkKVxuXG4gICAgICBCb2FyZC5jaGFuZ2VWb3RlQnV0dG9ucyh0YXJnZXQpXG4gICAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyQ2FtcENoYW5uZWxcbiAgICAgIGNoYW5uZWwucHVzaCgnbmV3X3ZvdGUnLCB7aWQ6IHRhcmdldC5kYXRhc2V0LnBvc3RJZCwgdmFsdWU6IHRhcmdldC5kYXRhc2V0LnZhbHVlLCB1cGRhdGU6IHVwZGF0ZSwgb2xkX3ZvdGU6IG9sZF92b3RlLCBmbGlwX3ZvdGU6IGZsaXBfdm90ZX0pXG4gICAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKVxuICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiaW5fcHJvZ3Jlc3NcIilcbiAgICAgICAgfSlcbiAgICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzcCkgPT4ge2NvbnNvbGUubG9nKHJlc3ApfSlcbiAgICB9XG4gIH0sXG4gIGlzRmxpcFZvdGUodmFsdWUsIGlkKSB7XG4gICAgaWYgKHZhbHVlID09IDEpIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZGlzYWdyZWUke2lkfWApLmNsYXNzTGlzdC5jb250YWlucyhcInZvdGVkXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYWdyZWUke2lkfWApLmNsYXNzTGlzdC5jb250YWlucyhcInZvdGVkXCIpXG4gICAgfVxuICB9LFxuICBjaGFuZ2VWb3RlQnV0dG9ucyh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0LmRhdGFzZXQudmFsdWUgPT0gXCIxXCIpIHtcbiAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwidm90ZWRcIikpIHtcbiAgICAgICAgQm9hcmQuY2hhbmdlUG9pbnRzT25Db21tZW50KHRhcmdldC5kYXRhc2V0LnBvc3RJZCwgLTEpXG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwidm90ZWRcIilcbiAgICAgICAgdGFyZ2V0LmlubmVySFRNTCA9IFwiQWdyZWVcIlxuICAgICAgICBsZXQgb3Bwb3NpdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZGlzYWdyZWUke3RhcmdldC5kYXRhc2V0LnBvc3RJZH1gKVxuICAgICAgICBvcHBvc2l0ZS5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZC1idXR0b24nKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlZC1idXR0b25cIilcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJ2b3RlZFwiKVxuICAgICAgICB0YXJnZXQuaW5uZXJIVE1MID0gXCJBZ3JlZWRcIlxuICAgICAgICBsZXQgb3Bwb3NpdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZGlzYWdyZWUke3RhcmdldC5kYXRhc2V0LnBvc3RJZH1gKVxuICAgICAgICBvcHBvc2l0ZS5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZC1idXR0b24nKVxuICAgICAgICBpZiAob3Bwb3NpdGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd2b3RlZCcpKSB7XG4gICAgICAgICAgb3Bwb3NpdGUuY2xhc3NMaXN0LnJlbW92ZSgndm90ZWQnKVxuICAgICAgICAgIEJvYXJkLmNoYW5nZVBvaW50c09uQ29tbWVudCh0YXJnZXQuZGF0YXNldC5wb3N0SWQsIDIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgQm9hcmQuY2hhbmdlUG9pbnRzT25Db21tZW50KHRhcmdldC5kYXRhc2V0LnBvc3RJZCwgMSlcbiAgICAgICAgfVxuICAgICAgICBvcHBvc2l0ZS5pbm5lckhUTUwgPSBcIkRpc2FncmVlXCJcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJ2b3RlZFwiKSkge1xuICAgICAgICBCb2FyZC5jaGFuZ2VQb2ludHNPbkNvbW1lbnQodGFyZ2V0LmRhdGFzZXQucG9zdElkLCAxKVxuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcInZvdGVkXCIpXG4gICAgICAgIHRhcmdldC5pbm5lckhUTUwgPSBcIkRpc2FncmVlXCJcbiAgICAgICAgbGV0IG9wcG9zaXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFncmVlJHt0YXJnZXQuZGF0YXNldC5wb3N0SWR9YClcbiAgICAgICAgb3Bwb3NpdGUuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQtYnV0dG9uJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZWQtYnV0dG9uXCIpXG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKFwidm90ZWRcIilcbiAgICAgICAgdGFyZ2V0LmlubmVySFRNTCA9IFwiRGlzYWdyZWVkXCJcbiAgICAgICAgbGV0IG9wcG9zaXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFncmVlJHt0YXJnZXQuZGF0YXNldC5wb3N0SWR9YClcbiAgICAgICAgb3Bwb3NpdGUuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQtYnV0dG9uJylcbiAgICAgICAgaWYgKG9wcG9zaXRlLmNsYXNzTGlzdC5jb250YWlucygndm90ZWQnKSkge1xuICAgICAgICAgIG9wcG9zaXRlLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvdGVkJylcbiAgICAgICAgICBCb2FyZC5jaGFuZ2VQb2ludHNPbkNvbW1lbnQodGFyZ2V0LmRhdGFzZXQucG9zdElkLCAtMilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBCb2FyZC5jaGFuZ2VQb2ludHNPbkNvbW1lbnQodGFyZ2V0LmRhdGFzZXQucG9zdElkLCAtMSlcbiAgICAgICAgfVxuICAgICAgICBvcHBvc2l0ZS5pbm5lckhUTUwgPSBcIkFncmVlXCJcbiAgICAgIH1cbiAgICB9XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2luX3Byb2dyZXNzJylcbiAgICB0YXJnZXQuYmx1cigpXG4gIH0sXG4gIGNoYW5nZVBvaW50c09uQ29tbWVudChjb21tZW50X2lkLCB2YWx1ZSkge1xuICAgIGxldCB0cmliZUJvYXJkUG9pbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHRyaWJlQm9hcmRQb2ludHMke2NvbW1lbnRfaWR9YClcbiAgICBpZiAodHJpYmVCb2FyZFBvaW50cykge1xuICAgICAgbGV0IHBvaW50cyA9IHRyaWJlQm9hcmRQb2ludHMuaW5uZXJIVE1MXG4gICAgICBwb2ludHMgPSBwYXJzZUludChwb2ludHMpXG4gICAgICBwb2ludHMgKz0gdmFsdWVcbiAgICAgIHRyaWJlQm9hcmRQb2ludHMuaW5uZXJIVE1MID0gcG9pbnRzXG4gICAgfVxuICB9XG5cbn1cbmV4cG9ydCBkZWZhdWx0IEJvYXJkXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBaEJBO0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuZ0JBO0FBc2dCQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/board.js\n");

/***/ }),

/***/ "./js/chat_room.js":
/*!*************************!*\
  !*** ./js/chat_room.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar ChatRoom = {\n  init: function init() {\n    var tribe_id = window.tribeId;\n    var socket = window.userSocket;\n    var chatChannel = socket.channel(\"chat_room_channel:\".concat(tribe_id));\n    chatChannel.join();\n    window.chatChannel = chatChannel;\n    ChatRoom.scrollToBottom();\n    ChatRoom.addEventListeners();\n    ChatRoom.addChannelListeners();\n  },\n  scrollToBottom: function scrollToBottom() {\n    var messages = document.getElementById('tribeChatMessages');\n\n    if (messages) {\n      messages.scrollTop = messages.scrollHeight;\n    }\n  },\n  addEventListeners: function addEventListeners() {\n    var input = document.getElementById('tribeChatInput');\n\n    if (input) {\n      if (!input.classList.contains('listening')) {\n        input.classList.add('listening');\n        input.addEventListener('keypress', function (e) {\n          if (e.keyCode == 13 && e.target.value.length > 0) {\n            e.preventDefault();\n            ChatRoom.sendMessage(e.target.value);\n            e.target.value = \"\";\n          }\n        });\n      }\n    }\n\n    var submit = document.getElementById('tribeChatInputSubmit');\n\n    if (input && submit) {\n      if (!submit.classList.contains('listening')) {\n        submit.classList.add('listening');\n        submit.addEventListener('click', function () {\n          var input = document.getElementById('tribeChatInput');\n          ChatRoom.sendMessage(input.value);\n          input.value = \"\";\n        });\n      }\n    }\n\n    var loadMore = document.getElementById('tribeChatLoadPriorMessages');\n\n    if (loadMore) {\n      if (!loadMore.classList.contains('listening')) {\n        loadMore.classList.add('listening');\n        loadMore.addEventListener('click', function () {\n          ChatRoom.loadPriorMessages();\n        });\n      }\n    }\n  },\n  sendMessage: function sendMessage(message) {\n    var channel = window.chatChannel;\n    channel.push('new_message', {\n      message: message\n    });\n  },\n  addChannelListeners: function addChannelListeners() {\n    var channel = window.chatChannel;\n    channel.on('new_message', function (resp) {\n      var html = resp.html;\n\n      if (html) {\n        var messages = document.getElementById('tribeChatMessages');\n        var fragment = document.createRange().createContextualFragment(html);\n        messages.appendChild(fragment);\n        ChatRoom.scrollToBottom();\n      }\n    });\n  },\n  loadPriorMessages: function loadPriorMessages() {\n    var messages = document.querySelectorAll('.tribeChatMessage');\n    var channel = window.chatChannel;\n    channel.push(\"load_prior_messages\", {\n      message_count: messages.length\n    }).receive('ok', function (resp) {\n      var html = resp.html;\n\n      if (html) {\n        var button = document.getElementById('tribeChatLoadPriorMessages');\n        var fragment = document.createRange().createContextualFragment(html);\n        button.replaceWith(fragment);\n        messages[0].scrollIntoViewIfNeeded();\n        ChatRoom.addEventListeners();\n      }\n    }).receive('error', function (resp) {\n      console.log(resp);\n    });\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ChatRoom);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9jaGF0X3Jvb20uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9jaGF0X3Jvb20uanM/OTZkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmxldCBDaGF0Um9vbSA9IHtcbiAgaW5pdCgpIHtcbiAgICBsZXQgdHJpYmVfaWQgPSB3aW5kb3cudHJpYmVJZFxuICAgIGxldCBzb2NrZXQgPSB3aW5kb3cudXNlclNvY2tldFxuICAgIGxldCBjaGF0Q2hhbm5lbCA9IHNvY2tldC5jaGFubmVsKGBjaGF0X3Jvb21fY2hhbm5lbDoke3RyaWJlX2lkfWApXG4gICAgY2hhdENoYW5uZWwuam9pbigpXG4gICAgd2luZG93LmNoYXRDaGFubmVsID0gY2hhdENoYW5uZWxcbiAgICBDaGF0Um9vbS5zY3JvbGxUb0JvdHRvbSgpXG4gICAgQ2hhdFJvb20uYWRkRXZlbnRMaXN0ZW5lcnMoKVxuICAgIENoYXRSb29tLmFkZENoYW5uZWxMaXN0ZW5lcnMoKVxuICB9LFxuICBzY3JvbGxUb0JvdHRvbSgpIHtcbiAgICBsZXQgbWVzc2FnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJpYmVDaGF0TWVzc2FnZXMnKVxuICAgIGlmIChtZXNzYWdlcykge1xuICAgICAgbWVzc2FnZXMuc2Nyb2xsVG9wID0gbWVzc2FnZXMuc2Nyb2xsSGVpZ2h0XG4gICAgfVxuICB9LFxuICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJpYmVDaGF0SW5wdXQnKVxuICAgIGlmIChpbnB1dCkge1xuICAgICAgaWYgKCFpbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKSB7XG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGUpID0+IHtcbiAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzICYmIGUudGFyZ2V0LnZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIENoYXRSb29tLnNlbmRNZXNzYWdlKGUudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHN1Ym1pdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cmliZUNoYXRJbnB1dFN1Ym1pdCcpXG4gICAgaWYgKGlucHV0ICYmIHN1Ym1pdCkge1xuICAgICAgaWYgKCFzdWJtaXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSkge1xuICAgICAgICBzdWJtaXQuY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgc3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cmliZUNoYXRJbnB1dCcpXG4gICAgICAgICAgQ2hhdFJvb20uc2VuZE1lc3NhZ2UoaW5wdXQudmFsdWUpXG4gICAgICAgICAgaW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbG9hZE1vcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJpYmVDaGF0TG9hZFByaW9yTWVzc2FnZXMnKVxuICAgIGlmIChsb2FkTW9yZSkge1xuICAgICAgaWYgKCFsb2FkTW9yZS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKSB7XG4gICAgICAgIGxvYWRNb3JlLmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgIGxvYWRNb3JlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIENoYXRSb29tLmxvYWRQcmlvck1lc3NhZ2VzKClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy5jaGF0Q2hhbm5lbFxuICAgIGNoYW5uZWwucHVzaCgnbmV3X21lc3NhZ2UnLCB7XG4gICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgfSlcbiAgfSxcbiAgYWRkQ2hhbm5lbExpc3RlbmVycygpIHtcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy5jaGF0Q2hhbm5lbFxuICAgIGNoYW5uZWwub24oJ25ld19tZXNzYWdlJywgKHJlc3ApID0+IHtcbiAgICAgIGxldCBodG1sID0gcmVzcC5odG1sXG4gICAgICBpZiAoaHRtbCkge1xuICAgICAgICBsZXQgbWVzc2FnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHJpYmVDaGF0TWVzc2FnZXMnKVxuICAgICAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGh0bWwpXG4gICAgICAgIG1lc3NhZ2VzLmFwcGVuZENoaWxkKGZyYWdtZW50KVxuICAgICAgICBDaGF0Um9vbS5zY3JvbGxUb0JvdHRvbSgpXG4gICAgICB9XG4gICAgfSlcbiAgfSxcbiAgbG9hZFByaW9yTWVzc2FnZXMoKSB7XG4gICAgbGV0IG1lc3NhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRyaWJlQ2hhdE1lc3NhZ2UnKVxuICAgIGxldCBjaGFubmVsID0gd2luZG93LmNoYXRDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwibG9hZF9wcmlvcl9tZXNzYWdlc1wiLCB7bWVzc2FnZV9jb3VudDogbWVzc2FnZXMubGVuZ3RofSlcbiAgICAgIC5yZWNlaXZlKCdvaycsIChyZXNwKSA9PiB7XG4gICAgICAgIGxldCBodG1sID0gcmVzcC5odG1sXG4gICAgICAgIGlmIChodG1sKSB7XG4gICAgICAgICAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cmliZUNoYXRMb2FkUHJpb3JNZXNzYWdlcycpXG4gICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChodG1sKVxuICAgICAgICAgIGJ1dHRvbi5yZXBsYWNlV2l0aChmcmFnbWVudClcbiAgICAgICAgICBtZXNzYWdlc1swXS5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKClcbiAgICAgICAgICBDaGF0Um9vbS5hZGRFdmVudExpc3RlbmVycygpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAucmVjZWl2ZSgnZXJyb3InLCAocmVzcCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgIH0pXG4gIH1cblxuXG59XG5leHBvcnQgZGVmYXVsdCBDaGF0Um9vbVxuIl0sIm1hcHBpbmdzIjoiQUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQXZGQTtBQTJGQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/chat_room.js\n");

/***/ }),

/***/ "./js/images.js":
/*!**********************!*\
  !*** ./js/images.js ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _user_camp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user_camp */ \"./js/user_camp.js\");\n\nvar Images = {\n  init: function init() {\n    Images.addBoardEventListeners();\n  },\n  addBoardEventListeners: function addBoardEventListeners() {\n    var imageBoardSelect = document.getElementById('imageBoardSelect');\n\n    if (imageBoardSelect) {\n      if (!imageBoardSelect.classList.contains('listening')) {\n        imageBoardSelect.classList.add('listening');\n        imageBoardSelect.addEventListener('change', function (e) {\n          Images.loadNewPostRange(e.target.value);\n        });\n      }\n    }\n\n    var imageBoardCreatePost = document.getElementById('imageBoardCreatePost');\n\n    if (imageBoardCreatePost) {\n      if (!imageBoardCreatePost.classList.contains('listening')) {\n        imageBoardCreatePost.classList.add('listening');\n        imageBoardCreatePost.addEventListener('click', function (e) {\n          Images.togglePostForm(e, \"imageBoardPostForm\");\n        });\n      }\n    }\n\n    var imageBoardCreateComment = document.querySelectorAll('.imageBoardCreateComment');\n\n    if (imageBoardCreateComment) {\n      for (var i = 0; i < imageBoardCreateComment.length; i++) {\n        if (!imageBoardCreateComment[i].classList.contains('listening')) {\n          imageBoardCreateComment[i].classList.add('listening');\n          imageBoardCreateComment[i].addEventListener('click', function (e) {\n            var id = e.target.dataset.postId;\n            var target = \"imageBoardPostForm\".concat(id);\n            Images.togglePostForm(e, target, id);\n          });\n        }\n      }\n    }\n\n    var imageBoardDisplayImage = document.querySelectorAll('.imageBoardDisplayImage');\n\n    if (imageBoardDisplayImage) {\n      for (var i = 0; i < imageBoardDisplayImage.length; i++) {\n        if (!imageBoardDisplayImage[i].classList.contains('listening')) {\n          imageBoardDisplayImage[i].classList.add('listening');\n          imageBoardDisplayImage[i].addEventListener('click', function (e) {\n            Images.showImage(e.target);\n          });\n        }\n      }\n    }\n\n    var imageBoardComments = document.querySelectorAll('.imageBoardComments');\n\n    if (imageBoardComments) {\n      for (var i = 0; i < imageBoardComments.length; i++) {\n        if (!imageBoardComments[i].classList.contains('listening')) {\n          imageBoardComments[i].classList.add('listening');\n          imageBoardComments[i].addEventListener('click', function (e) {\n            Images.loadComments(e.target);\n          });\n        }\n      }\n    }\n\n    var loadMoreComments = document.querySelectorAll('.loadMoreComments');\n\n    if (loadMoreComments) {\n      for (var i = 0; i < loadMoreComments.length; i++) {\n        if (!loadMoreComments[i].classList.contains('listening')) {\n          loadMoreComments[i].classList.add('listening');\n          loadMoreComments[i].addEventListener('click', function (e) {\n            Images.loadMoreComments(e.target);\n          });\n        }\n      }\n    }\n\n    var loadMorePosts = document.querySelectorAll('.loadMorePosts');\n\n    if (loadMorePosts) {\n      for (var i = 0; i < loadMorePosts.length; i++) {\n        if (!loadMorePosts[i].classList.contains('listening')) {\n          loadMorePosts[i].classList.add('listening');\n          loadMorePosts[i].addEventListener('click', function (e) {\n            Images.loadMorePosts(e.target);\n          });\n        }\n      }\n    }\n\n    var imageBoardVotes = document.querySelectorAll('.imageBoardVote');\n\n    if (imageBoardVotes) {\n      for (var i = 0; i < imageBoardVotes.length; i++) {\n        if (!imageBoardVotes[i].classList.contains('listening')) {\n          imageBoardVotes[i].classList.add('listening');\n          imageBoardVotes[i].addEventListener('click', function (e) {\n            Images.vote(e.target);\n          });\n        }\n      }\n    }\n  },\n  loadNewPostRange: function loadNewPostRange(time_period) {\n    switch (time_period) {\n      case \"another_day\":\n        Images.activateDateInput('day');\n        break;\n\n      case \"another_week\":\n        Images.activateDateInput('week');\n        break;\n\n      default:\n        Images.deactivateDateInput();\n        var channel = window.userCampChannel;\n        channel.push(\"change_image_board_range\", {\n          time_period: time_period,\n          page: 0\n        }).receive(\"ok\", function (resp) {\n          console.log(resp);\n          _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"tribeBoardPosts\");\n          Images.addBoardEventListeners();\n        }).receive(\"error\", function (resp) {\n          console.log(resp);\n        });\n    }\n  },\n  loadMorePosts: function loadMorePosts(target) {\n    console.log(target.dataset);\n    var channel = window.userCampChannel;\n    channel.push(\"load_more_image_posts\", {\n      time_period: target.dataset.time_period,\n      page: target.dataset.page,\n      date: target.dataset.date\n    }).receive(\"ok\", function (resp) {\n      console.log(resp);\n      _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"loadMorePosts\");\n      Images.addBoardEventListeners();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  activateDateInput: function activateDateInput(range) {\n    var anotherDateInput = document.getElementById('anotherDateInput');\n    anotherDateInput.value = null;\n\n    if (anotherDateInput) {\n      anotherDateInput.classList.add('active');\n      anotherDateInput.addEventListener('input', function (e) {\n        Images.loadBoardPostsInRange(range, e.target.value);\n      });\n    }\n\n    var tribeBoardPosts = document.getElementById('tribeBoardPosts');\n\n    if (tribeBoardPosts) {\n      tribeBoardPosts.innerHTML = \"Select \" + range;\n    }\n  },\n  deactivateDateInput: function deactivateDateInput() {\n    var anotherDateInput = document.getElementById('anotherDateInput');\n\n    if (anotherDateInput) {\n      anotherDateInput.classList.remove('active');\n    }\n  },\n  loadBoardPostsInRange: function loadBoardPostsInRange(range, date) {\n    var page = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var channel = window.userCampChannel;\n    channel.push(\"change_image_board_range\", {\n      time_period: range,\n      page: page,\n      date: date\n    }).receive(\"ok\", function (resp) {\n      console.log(resp);\n      _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"tribeBoardPosts\");\n      Images.addBoardEventListeners();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  loadComments: function loadComments(target) {\n    Images.replaceButtonWithHide(target);\n    var channel = window.userCampChannel;\n    channel.push(\"load_image_comments\", {\n      post_id: target.dataset.postId,\n      page: 0\n    }).receive(\"ok\", function (resp) {\n      _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].appendRespToDom(resp, \"tribeBoardPost\".concat(target.dataset.postId));\n      Images.addBoardEventListeners();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  loadMoreComments: function loadMoreComments(target) {\n    var channel = window.userCampChannel;\n    channel.push(\"load_more_image_comments\", {\n      post_id: target.dataset.post,\n      page: target.dataset.page\n    }).receive(\"ok\", function (resp) {\n      _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"loadMoreComments\".concat(target.dataset.post));\n      Images.addBoardEventListeners();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  replaceButtonWithHide: function replaceButtonWithHide(button) {\n    var count = button.innerHTML.match(/\\d+/g);\n\n    if (count) {\n      count = count[0];\n    } else {\n      count = \"\";\n    }\n\n    var newButton = document.createElement('button');\n    newButton.classList.add(\"button-small\");\n    newButton.innerHTML = \"Hide \".concat(count, \" Comments\");\n    newButton.dataset.postId = button.dataset.postId;\n    button.replaceWith(newButton);\n    newButton.addEventListener('click', function (e) {\n      Images.hideComments(e.target);\n    });\n  },\n  hideComments: function hideComments(button) {\n    var count = button.innerHTML.match(/\\d+/g);\n\n    if (count) {\n      count = count[0];\n    } else {\n      count = \"\";\n    }\n\n    var id = button.dataset.postId;\n    var commentDivs = document.querySelectorAll(\".tribeBoardComments\".concat(id));\n\n    for (var i = 0; i < commentDivs.length; i++) {\n      commentDivs[i].classList.add('hidden');\n    }\n\n    var newButton = document.createElement('button');\n    newButton.classList.add(\"button-small\");\n    newButton.innerHTML = \"Show \".concat(count, \" Comments\");\n    newButton.dataset.postId = button.dataset.postId;\n    button.replaceWith(newButton);\n    newButton.addEventListener('click', function (e) {\n      Images.showComments(e.target);\n    });\n  },\n  showComments: function showComments(button) {\n    var count = button.innerHTML.match(/\\d+/g);\n\n    if (count) {\n      count = count[0];\n    } else {\n      count = \"\";\n    }\n\n    var id = button.dataset.postId;\n    var commentDivs = document.querySelectorAll(\".tribeBoardComments\".concat(id));\n\n    for (var i = 0; i < commentDivs.length; i++) {\n      commentDivs[i].classList.remove('hidden');\n    }\n\n    var newButton = document.createElement('button');\n    newButton.classList.add(\"button-small\");\n    newButton.innerHTML = \"Hide \".concat(count, \" Comments\");\n    newButton.dataset.postId = button.dataset.postId;\n    button.replaceWith(newButton);\n    newButton.addEventListener('click', function (e) {\n      Images.hideComments(e.target);\n    });\n  },\n  togglePostForm: function togglePostForm(e, target) {\n    var id = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    Images.replacePostButton(e.target);\n    var channel = window.userCampChannel;\n    channel.push(\"load_image_form\", {\n      id: id\n    }).receive(\"ok\", function (resp) {\n      _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, target);\n      var logOutLink = document.getElementById('logOutLink');\n      var inputs = document.querySelectorAll('input[name=\"_csrf_token\"]');\n\n      for (var i = 0; i < inputs.length; i++) {\n        inputs[i].value = logOutLink.dataset.csrf;\n      }\n\n      Images.addFormEventListeners();\n    });\n  },\n  replacePostButton: function replacePostButton(button) {\n    var newButton = document.createElement('button');\n    newButton.innerHTML = \"Cancel\";\n\n    for (var i = 0; i < button.classList.length; i++) {\n      newButton.classList.add(button.classList[i]);\n    }\n\n    if (button.dataset.postId) {\n      newButton.dataset.postId = button.dataset.postId;\n      newButton.innerHTML = \"Cancel Comment\";\n    }\n\n    button.replaceWith(newButton);\n    newButton.addEventListener('click', function (e) {\n      Images.hideForm(e.target);\n    });\n  },\n  hideForm: function hideForm(button) {\n    var id = button.dataset.postId;\n\n    if (!id) {\n      id = \"\";\n    }\n\n    var imageBoardCreatePost = document.getElementById(\"imageBoardPostForm\".concat(id));\n\n    if (imageBoardCreatePost) {\n      imageBoardCreatePost.classList.add('hidden');\n    }\n\n    var newButton = document.createElement('button');\n\n    for (var i = 0; i < button.classList.length; i++) {\n      newButton.classList.add(button.classList[i]);\n    }\n\n    newButton.innerHTML = \"Upload Image\";\n\n    if (button.dataset.postId) {\n      newButton.dataset.postId = button.dataset.postId;\n      newButton.innerHTML = \"Comment\";\n    }\n\n    button.replaceWith(newButton);\n    newButton.addEventListener('click', function (e) {\n      Images.showForm(e.target);\n    });\n  },\n  showForm: function showForm(button) {\n    var id = button.dataset.postId;\n\n    if (!id) {\n      id = \"\";\n    }\n\n    var imageBoardCreatePost = document.getElementById(\"imageBoardPostForm\".concat(id));\n\n    if (imageBoardCreatePost) {\n      imageBoardCreatePost.classList.remove('hidden');\n    }\n\n    var newButton = document.createElement('button');\n\n    for (var i = 0; i < button.classList.length; i++) {\n      newButton.classList.add(button.classList[i]);\n    }\n\n    newButton.innerHTML = \"Cancel\";\n\n    if (button.dataset.postId) {\n      newButton.dataset.postId = button.dataset.postId;\n      newButton.innerHTML = \"Cancel Comment\";\n    }\n\n    button.replaceWith(newButton);\n    newButton.addEventListener('click', function (e) {\n      Images.hideForm(e.target);\n    });\n  },\n  addFormEventListeners: function addFormEventListeners() {},\n  showImage: function showImage(target) {\n    var image = document.getElementById(\"imageBoardImage\".concat(target.dataset.imageid));\n\n    if (image) {\n      if (image.classList.contains('hidden')) {\n        image.classList.remove('hidden');\n        image.scrollIntoViewIfNeeded();\n        document.getElementById(\"imageBoardDisplayImage\".concat(target.dataset.imageid)).innerHTML = \"Hide Image\";\n      } else {\n        image.classList.add('hidden');\n        document.getElementById(\"imageBoardDisplayImage\".concat(target.dataset.imageid)).innerHTML = \"Show Image\";\n      }\n    } else if (window[\"imageBoardImage\".concat(target.dataset.imageid)]) {// do nothing becuase the image is probably loading\n    } else {\n      window[\"imageBoardImage\".concat(target.dataset.imageid)] = true;\n      var channel = window.userCampChannel;\n      channel.push(\"load_image\", {\n        image_id: target.dataset.imageid\n      }).receive(\"ok\", function (resp) {\n        _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"imageBoardImage\".concat(target.dataset.postid), \"imageBoardImage\".concat(target.dataset.imageid));\n        Images.addBoardEventListeners();\n        window[\"imageBoardImage\".concat(target.dataset.imageid)] = false;\n\n        if (target.innerHTML == \"Show Image\") {\n          target.innerHTML = \"Hide Image\";\n        }\n      }).receive(\"error\", function (resp) {\n        console.log(resp);\n      });\n    }\n  },\n  vote: function vote(target) {\n    if (!target.classList.contains(\"in_progress\")) {\n      var update = target.classList.contains(\"voted\");\n      var old_vote = target.classList.contains(\"old_vote\");\n      var flip_vote = Images.isFlipVote(target.dataset.value, target.dataset.postId);\n      Images.changeVoteButtons(target);\n      var channel = window.userCampChannel;\n      channel.push('new_image_vote', {\n        id: target.dataset.postId,\n        value: target.dataset.value,\n        update: update,\n        old_vote: old_vote,\n        flip_vote: flip_vote\n      }).receive(\"ok\", function (resp) {\n        console.log(resp);\n        target.classList.remove(\"in_progress\");\n      }).receive(\"error\", function (resp) {\n        console.log(resp);\n      });\n    }\n  },\n  isFlipVote: function isFlipVote(value, id) {\n    if (value == 1) {\n      return document.getElementById(\"disagree\".concat(id)).classList.contains(\"voted\");\n    } else {\n      return document.getElementById(\"agree\".concat(id)).classList.contains(\"voted\");\n    }\n  },\n  changeVoteButtons: function changeVoteButtons(target) {\n    if (target.dataset.value == \"1\") {\n      if (target.classList.contains(\"voted\")) {\n        Images.changePointsOnComment(target.dataset.postId, -1);\n        target.classList.remove(\"voted\");\n        target.innerHTML = \"Agree\";\n        var opposite = document.getElementById(\"disagree\".concat(target.dataset.postId));\n        opposite.classList.remove('disabled-button');\n      } else {\n        target.classList.remove(\"disabled-button\");\n        target.classList.add(\"voted\");\n        target.innerHTML = \"Agreed\";\n\n        var _opposite = document.getElementById(\"disagree\".concat(target.dataset.postId));\n\n        _opposite.classList.add('disabled-button');\n\n        if (_opposite.classList.contains('voted')) {\n          _opposite.classList.remove('voted');\n\n          Images.changePointsOnComment(target.dataset.postId, 2);\n        } else {\n          Images.changePointsOnComment(target.dataset.postId, 1);\n        }\n\n        _opposite.innerHTML = \"Disagree\";\n      }\n    } else {\n      if (target.classList.contains(\"voted\")) {\n        Images.changePointsOnComment(target.dataset.postId, 1);\n        target.classList.remove(\"voted\");\n        target.innerHTML = \"Disagree\";\n\n        var _opposite2 = document.getElementById(\"agree\".concat(target.dataset.postId));\n\n        _opposite2.classList.remove('disabled-button');\n      } else {\n        target.classList.remove(\"disabled-button\");\n        target.classList.add(\"voted\");\n        target.innerHTML = \"Disagreed\";\n\n        var _opposite3 = document.getElementById(\"agree\".concat(target.dataset.postId));\n\n        _opposite3.classList.add('disabled-button');\n\n        if (_opposite3.classList.contains('voted')) {\n          _opposite3.classList.remove('voted');\n\n          Images.changePointsOnComment(target.dataset.postId, -2);\n        } else {\n          Images.changePointsOnComment(target.dataset.postId, -1);\n        }\n\n        _opposite3.innerHTML = \"Agree\";\n      }\n    }\n\n    target.classList.add('in_progress');\n    target.blur();\n  },\n  changePointsOnComment: function changePointsOnComment(comment_id, value) {\n    var tribeBoardPoints = document.getElementById(\"tribeBoardPoints\".concat(comment_id));\n\n    if (tribeBoardPoints) {\n      var points = tribeBoardPoints.innerHTML;\n      points = parseInt(points);\n      points += value;\n      tribeBoardPoints.innerHTML = points;\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Images);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9pbWFnZXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9pbWFnZXMuanM/OGRlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlckNhbXAgZnJvbSBcIi4vdXNlcl9jYW1wXCJcbmxldCBJbWFnZXMgPSB7XG4gIGluaXQoKSB7XG4gICAgSW1hZ2VzLmFkZEJvYXJkRXZlbnRMaXN0ZW5lcnMoKVxuICB9LFxuICBhZGRCb2FyZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGxldCBpbWFnZUJvYXJkU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltYWdlQm9hcmRTZWxlY3QnKVxuICAgIGlmIChpbWFnZUJvYXJkU2VsZWN0KSB7XG4gICAgICBpZiAoIWltYWdlQm9hcmRTZWxlY3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSl7XG4gICAgICAgIGltYWdlQm9hcmRTZWxlY3QuY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgaW1hZ2VCb2FyZFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgIEltYWdlcy5sb2FkTmV3UG9zdFJhbmdlKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGltYWdlQm9hcmRDcmVhdGVQb3N0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltYWdlQm9hcmRDcmVhdGVQb3N0JylcbiAgICBpZiAoaW1hZ2VCb2FyZENyZWF0ZVBvc3QpIHtcbiAgICAgIGlmICghaW1hZ2VCb2FyZENyZWF0ZVBvc3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSl7XG4gICAgICAgIGltYWdlQm9hcmRDcmVhdGVQb3N0LmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgIGltYWdlQm9hcmRDcmVhdGVQb3N0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICBJbWFnZXMudG9nZ2xlUG9zdEZvcm0oZSwgXCJpbWFnZUJvYXJkUG9zdEZvcm1cIik7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpbWFnZUJvYXJkQ3JlYXRlQ29tbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbWFnZUJvYXJkQ3JlYXRlQ29tbWVudCcpXG4gICAgaWYgKGltYWdlQm9hcmRDcmVhdGVDb21tZW50KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlQm9hcmRDcmVhdGVDb21tZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaW1hZ2VCb2FyZENyZWF0ZUNvbW1lbnRbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSl7XG4gICAgICAgICAgaW1hZ2VCb2FyZENyZWF0ZUNvbW1lbnRbaV0uY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgICBpbWFnZUJvYXJkQ3JlYXRlQ29tbWVudFtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBsZXQgaWQgPSBlLnRhcmdldC5kYXRhc2V0LnBvc3RJZFxuICAgICAgICAgICAgbGV0IHRhcmdldCA9IGBpbWFnZUJvYXJkUG9zdEZvcm0ke2lkfWBcbiAgICAgICAgICAgIEltYWdlcy50b2dnbGVQb3N0Rm9ybShlLCB0YXJnZXQsIGlkKTtcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpbWFnZUJvYXJkRGlzcGxheUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmltYWdlQm9hcmREaXNwbGF5SW1hZ2UnKVxuICAgIGlmIChpbWFnZUJvYXJkRGlzcGxheUltYWdlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlQm9hcmREaXNwbGF5SW1hZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFpbWFnZUJvYXJkRGlzcGxheUltYWdlW2ldLmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpe1xuICAgICAgICAgIGltYWdlQm9hcmREaXNwbGF5SW1hZ2VbaV0uY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgICBpbWFnZUJvYXJkRGlzcGxheUltYWdlW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIEltYWdlcy5zaG93SW1hZ2UoZS50YXJnZXQpO1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGltYWdlQm9hcmRDb21tZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbWFnZUJvYXJkQ29tbWVudHMnKVxuICAgIGlmIChpbWFnZUJvYXJkQ29tbWVudHMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VCb2FyZENvbW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaW1hZ2VCb2FyZENvbW1lbnRzW2ldLmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpe1xuICAgICAgICAgIGltYWdlQm9hcmRDb21tZW50c1tpXS5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICAgIGltYWdlQm9hcmRDb21tZW50c1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBJbWFnZXMubG9hZENvbW1lbnRzKGUudGFyZ2V0KVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGxvYWRNb3JlQ29tbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubG9hZE1vcmVDb21tZW50cycpXG4gICAgaWYgKGxvYWRNb3JlQ29tbWVudHMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9hZE1vcmVDb21tZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWxvYWRNb3JlQ29tbWVudHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSl7XG4gICAgICAgICAgbG9hZE1vcmVDb21tZW50c1tpXS5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICAgIGxvYWRNb3JlQ29tbWVudHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgSW1hZ2VzLmxvYWRNb3JlQ29tbWVudHMoZS50YXJnZXQpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbG9hZE1vcmVQb3N0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sb2FkTW9yZVBvc3RzJylcbiAgICBpZiAobG9hZE1vcmVQb3N0cykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2FkTW9yZVBvc3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghbG9hZE1vcmVQb3N0c1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKXtcbiAgICAgICAgICBsb2FkTW9yZVBvc3RzW2ldLmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgICAgbG9hZE1vcmVQb3N0c1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBJbWFnZXMubG9hZE1vcmVQb3N0cyhlLnRhcmdldClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpbWFnZUJvYXJkVm90ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW1hZ2VCb2FyZFZvdGUnKVxuICAgIGlmIChpbWFnZUJvYXJkVm90ZXMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VCb2FyZFZvdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaW1hZ2VCb2FyZFZvdGVzW2ldLmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpe1xuICAgICAgICAgIGltYWdlQm9hcmRWb3Rlc1tpXS5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICAgIGltYWdlQm9hcmRWb3Rlc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICBJbWFnZXMudm90ZShlLnRhcmdldClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBsb2FkTmV3UG9zdFJhbmdlKHRpbWVfcGVyaW9kKSB7XG4gICAgc3dpdGNoKHRpbWVfcGVyaW9kKXtcbiAgICAgIGNhc2UgXCJhbm90aGVyX2RheVwiOlxuICAgICAgICBJbWFnZXMuYWN0aXZhdGVEYXRlSW5wdXQoJ2RheScpXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImFub3RoZXJfd2Vla1wiOlxuICAgICAgICBJbWFnZXMuYWN0aXZhdGVEYXRlSW5wdXQoJ3dlZWsnKVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIEltYWdlcy5kZWFjdGl2YXRlRGF0ZUlucHV0KClcbiAgICAgICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckNhbXBDaGFubmVsXG4gICAgICAgIGNoYW5uZWwucHVzaChcImNoYW5nZV9pbWFnZV9ib2FyZF9yYW5nZVwiLCB7dGltZV9wZXJpb2Q6IHRpbWVfcGVyaW9kLCBwYWdlOiAwfSlcbiAgICAgICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKVxuICAgICAgICAgICAgVXNlckNhbXAucHV0UmVzcFRvRG9tKHJlc3AsIFwidHJpYmVCb2FyZFBvc3RzXCIpXG4gICAgICAgICAgICBJbWFnZXMuYWRkQm9hcmRFdmVudExpc3RlbmVycygpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAucmVjZWl2ZShcImVycm9yXCIsIChyZXNwKSA9PiB7Y29uc29sZS5sb2cocmVzcCl9KVxuICAgIH1cbiAgfSxcbiAgbG9hZE1vcmVQb3N0cyh0YXJnZXQpIHtcbiAgICBjb25zb2xlLmxvZyh0YXJnZXQuZGF0YXNldCk7XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckNhbXBDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwibG9hZF9tb3JlX2ltYWdlX3Bvc3RzXCIsIHt0aW1lX3BlcmlvZDogdGFyZ2V0LmRhdGFzZXQudGltZV9wZXJpb2QsIHBhZ2U6IHRhcmdldC5kYXRhc2V0LnBhZ2UsIGRhdGU6IHRhcmdldC5kYXRhc2V0LmRhdGV9KVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwKVxuICAgICAgICBVc2VyQ2FtcC5wdXRSZXNwVG9Eb20ocmVzcCwgXCJsb2FkTW9yZVBvc3RzXCIpXG4gICAgICAgIEltYWdlcy5hZGRCb2FyZEV2ZW50TGlzdGVuZXJzKClcbiAgICAgIH0pXG4gICAgICAucmVjZWl2ZShcImVycm9yXCIsIChyZXNwKSA9PiB7Y29uc29sZS5sb2cocmVzcCl9KVxuXG4gIH0sXG4gIGFjdGl2YXRlRGF0ZUlucHV0KHJhbmdlKSB7XG4gICAgbGV0IGFub3RoZXJEYXRlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW5vdGhlckRhdGVJbnB1dCcpXG4gICAgYW5vdGhlckRhdGVJbnB1dC52YWx1ZSA9IG51bGxcbiAgICBpZiAoYW5vdGhlckRhdGVJbnB1dCkge1xuICAgICAgYW5vdGhlckRhdGVJbnB1dC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgYW5vdGhlckRhdGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XG4gICAgICAgIEltYWdlcy5sb2FkQm9hcmRQb3N0c0luUmFuZ2UocmFuZ2UsIGUudGFyZ2V0LnZhbHVlKVxuICAgICAgfSlcbiAgICB9XG4gICAgbGV0IHRyaWJlQm9hcmRQb3N0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0cmliZUJvYXJkUG9zdHMnKVxuICAgIGlmICh0cmliZUJvYXJkUG9zdHMpIHtcbiAgICAgIHRyaWJlQm9hcmRQb3N0cy5pbm5lckhUTUwgPSBcIlNlbGVjdCBcIiArIHJhbmdlXG4gICAgfVxuICB9LFxuICBkZWFjdGl2YXRlRGF0ZUlucHV0KCkge1xuICAgIGxldCBhbm90aGVyRGF0ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fub3RoZXJEYXRlSW5wdXQnKVxuICAgIGlmIChhbm90aGVyRGF0ZUlucHV0KSB7XG4gICAgICBhbm90aGVyRGF0ZUlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgfVxuICB9LFxuICBsb2FkQm9hcmRQb3N0c0luUmFuZ2UocmFuZ2UsIGRhdGUsIHBhZ2UgPSAwKSB7XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckNhbXBDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwiY2hhbmdlX2ltYWdlX2JvYXJkX3JhbmdlXCIsIHt0aW1lX3BlcmlvZDogcmFuZ2UsIHBhZ2U6IHBhZ2UsIGRhdGU6IGRhdGV9KVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwKVxuICAgICAgICBVc2VyQ2FtcC5wdXRSZXNwVG9Eb20ocmVzcCwgXCJ0cmliZUJvYXJkUG9zdHNcIilcbiAgICAgICAgSW1hZ2VzLmFkZEJvYXJkRXZlbnRMaXN0ZW5lcnMoKVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtjb25zb2xlLmxvZyhyZXNwKX0pXG4gIH0sXG4gIGxvYWRDb21tZW50cyh0YXJnZXQpIHtcbiAgICBJbWFnZXMucmVwbGFjZUJ1dHRvbldpdGhIaWRlKHRhcmdldClcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyQ2FtcENoYW5uZWxcbiAgICBjaGFubmVsLnB1c2goXCJsb2FkX2ltYWdlX2NvbW1lbnRzXCIsIHtwb3N0X2lkOiB0YXJnZXQuZGF0YXNldC5wb3N0SWQsIHBhZ2U6IDB9KVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICBVc2VyQ2FtcC5hcHBlbmRSZXNwVG9Eb20ocmVzcCwgYHRyaWJlQm9hcmRQb3N0JHt0YXJnZXQuZGF0YXNldC5wb3N0SWR9YClcbiAgICAgICAgSW1hZ2VzLmFkZEJvYXJkRXZlbnRMaXN0ZW5lcnMoKVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtjb25zb2xlLmxvZyhyZXNwKX0pXG4gIH0sXG4gIGxvYWRNb3JlQ29tbWVudHModGFyZ2V0KSB7XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckNhbXBDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwibG9hZF9tb3JlX2ltYWdlX2NvbW1lbnRzXCIsIHtwb3N0X2lkOiB0YXJnZXQuZGF0YXNldC5wb3N0LCBwYWdlOiB0YXJnZXQuZGF0YXNldC5wYWdlfSlcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgVXNlckNhbXAucHV0UmVzcFRvRG9tKHJlc3AsIGBsb2FkTW9yZUNvbW1lbnRzJHt0YXJnZXQuZGF0YXNldC5wb3N0fWApXG4gICAgICAgIEltYWdlcy5hZGRCb2FyZEV2ZW50TGlzdGVuZXJzKClcbiAgICAgIH0pXG4gICAgICAucmVjZWl2ZShcImVycm9yXCIsIChyZXNwKSA9PiB7Y29uc29sZS5sb2cocmVzcCl9KVxuICB9LFxuICByZXBsYWNlQnV0dG9uV2l0aEhpZGUoYnV0dG9uKSB7XG4gICAgbGV0IGNvdW50ID0gYnV0dG9uLmlubmVySFRNTC5tYXRjaCgvXFxkKy9nKVxuICAgIGlmIChjb3VudCkge1xuICAgICAgY291bnQgPSBjb3VudFswXVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IFwiXCJcbiAgICB9XG4gICAgbGV0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgbmV3QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJidXR0b24tc21hbGxcIilcbiAgICBuZXdCdXR0b24uaW5uZXJIVE1MID0gYEhpZGUgJHtjb3VudH0gQ29tbWVudHNgXG4gICAgbmV3QnV0dG9uLmRhdGFzZXQucG9zdElkID0gYnV0dG9uLmRhdGFzZXQucG9zdElkXG4gICAgYnV0dG9uLnJlcGxhY2VXaXRoKG5ld0J1dHRvbilcbiAgICBuZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBJbWFnZXMuaGlkZUNvbW1lbnRzKGUudGFyZ2V0KVxuICAgIH0pXG4gIH0sXG4gIGhpZGVDb21tZW50cyhidXR0b24pIHtcbiAgICBsZXQgY291bnQgPSBidXR0b24uaW5uZXJIVE1MLm1hdGNoKC9cXGQrL2cpXG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBjb3VudCA9IGNvdW50WzBdXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ID0gXCJcIlxuICAgIH1cbiAgICBsZXQgaWQgPSBidXR0b24uZGF0YXNldC5wb3N0SWRcbiAgICBsZXQgY29tbWVudERpdnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAudHJpYmVCb2FyZENvbW1lbnRzJHtpZH1gKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tbWVudERpdnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbW1lbnREaXZzW2ldLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgfVxuICAgIGxldCBuZXdCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgIG5ld0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYnV0dG9uLXNtYWxsXCIpXG4gICAgbmV3QnV0dG9uLmlubmVySFRNTCA9IGBTaG93ICR7Y291bnR9IENvbW1lbnRzYFxuICAgIG5ld0J1dHRvbi5kYXRhc2V0LnBvc3RJZCA9IGJ1dHRvbi5kYXRhc2V0LnBvc3RJZFxuICAgIGJ1dHRvbi5yZXBsYWNlV2l0aChuZXdCdXR0b24pXG4gICAgbmV3QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIEltYWdlcy5zaG93Q29tbWVudHMoZS50YXJnZXQpXG4gICAgfSlcbiAgfSxcbiAgc2hvd0NvbW1lbnRzKGJ1dHRvbikge1xuICAgIGxldCBjb3VudCA9IGJ1dHRvbi5pbm5lckhUTUwubWF0Y2goL1xcZCsvZylcbiAgICBpZiAoY291bnQpIHtcbiAgICAgIGNvdW50ID0gY291bnRbMF1cbiAgICB9IGVsc2Uge1xuICAgICAgY291bnQgPSBcIlwiXG4gICAgfVxuICAgIGxldCBpZCA9IGJ1dHRvbi5kYXRhc2V0LnBvc3RJZFxuICAgIGxldCBjb21tZW50RGl2cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC50cmliZUJvYXJkQ29tbWVudHMke2lkfWApXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21tZW50RGl2cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29tbWVudERpdnNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICB9XG4gICAgbGV0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgbmV3QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJidXR0b24tc21hbGxcIilcbiAgICBuZXdCdXR0b24uaW5uZXJIVE1MID0gYEhpZGUgJHtjb3VudH0gQ29tbWVudHNgXG4gICAgbmV3QnV0dG9uLmRhdGFzZXQucG9zdElkID0gYnV0dG9uLmRhdGFzZXQucG9zdElkXG4gICAgYnV0dG9uLnJlcGxhY2VXaXRoKG5ld0J1dHRvbilcbiAgICBuZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgSW1hZ2VzLmhpZGVDb21tZW50cyhlLnRhcmdldClcbiAgICB9KVxuICB9LFxuICB0b2dnbGVQb3N0Rm9ybShlLCB0YXJnZXQsIGlkID0gbnVsbCkge1xuICAgIEltYWdlcy5yZXBsYWNlUG9zdEJ1dHRvbihlLnRhcmdldClcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyQ2FtcENoYW5uZWxcbiAgICBjaGFubmVsLnB1c2goXCJsb2FkX2ltYWdlX2Zvcm1cIiwge2lkOiBpZH0pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIFVzZXJDYW1wLnB1dFJlc3BUb0RvbShyZXNwLCB0YXJnZXQpXG4gICAgICAgIGxldCBsb2dPdXRMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ091dExpbmsnKVxuICAgICAgICBsZXQgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1cIl9jc3JmX3Rva2VuXCJdJylcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpbnB1dHNbaV0udmFsdWUgPSBsb2dPdXRMaW5rLmRhdGFzZXQuY3NyZlxuICAgICAgICB9XG4gICAgICAgIEltYWdlcy5hZGRGb3JtRXZlbnRMaXN0ZW5lcnMoKVxuICAgICAgfSlcbiAgfSxcbiAgcmVwbGFjZVBvc3RCdXR0b24oYnV0dG9uKSB7XG4gICAgbGV0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgbmV3QnV0dG9uLmlubmVySFRNTCA9IFwiQ2FuY2VsXCJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbi5jbGFzc0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ld0J1dHRvbi5jbGFzc0xpc3QuYWRkKGJ1dHRvbi5jbGFzc0xpc3RbaV0pXG4gICAgfVxuICAgIGlmIChidXR0b24uZGF0YXNldC5wb3N0SWQpIHtcbiAgICAgIG5ld0J1dHRvbi5kYXRhc2V0LnBvc3RJZCA9IGJ1dHRvbi5kYXRhc2V0LnBvc3RJZFxuICAgICAgbmV3QnV0dG9uLmlubmVySFRNTCA9IFwiQ2FuY2VsIENvbW1lbnRcIlxuICAgIH1cbiAgICBidXR0b24ucmVwbGFjZVdpdGgobmV3QnV0dG9uKVxuICAgIG5ld0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIEltYWdlcy5oaWRlRm9ybShlLnRhcmdldClcbiAgICB9KVxuICB9LFxuICBoaWRlRm9ybShidXR0b24pIHtcbiAgICBsZXQgaWQgPSBidXR0b24uZGF0YXNldC5wb3N0SWRcbiAgICBpZiAoIWlkKSB7aWQgPSBcIlwifVxuICAgIGxldCBpbWFnZUJvYXJkQ3JlYXRlUG9zdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpbWFnZUJvYXJkUG9zdEZvcm0ke2lkfWApXG4gICAgaWYgKGltYWdlQm9hcmRDcmVhdGVQb3N0KSB7XG4gICAgICBpbWFnZUJvYXJkQ3JlYXRlUG9zdC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgIH1cbiAgICBsZXQgbmV3QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbi5jbGFzc0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ld0J1dHRvbi5jbGFzc0xpc3QuYWRkKGJ1dHRvbi5jbGFzc0xpc3RbaV0pXG4gICAgfVxuICAgIG5ld0J1dHRvbi5pbm5lckhUTUwgPSBcIlVwbG9hZCBJbWFnZVwiXG4gICAgaWYgKGJ1dHRvbi5kYXRhc2V0LnBvc3RJZCkge1xuICAgICAgbmV3QnV0dG9uLmRhdGFzZXQucG9zdElkID0gYnV0dG9uLmRhdGFzZXQucG9zdElkXG4gICAgICBuZXdCdXR0b24uaW5uZXJIVE1MID0gXCJDb21tZW50XCJcbiAgICB9XG4gICAgYnV0dG9uLnJlcGxhY2VXaXRoKG5ld0J1dHRvbilcbiAgICBuZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgSW1hZ2VzLnNob3dGb3JtKGUudGFyZ2V0KVxuICAgIH0pXG4gIH0sXG4gIHNob3dGb3JtKGJ1dHRvbikge1xuICAgIGxldCBpZCA9IGJ1dHRvbi5kYXRhc2V0LnBvc3RJZFxuICAgIGlmICghaWQpIHtpZCA9IFwiXCJ9XG4gICAgbGV0IGltYWdlQm9hcmRDcmVhdGVQb3N0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGltYWdlQm9hcmRQb3N0Rm9ybSR7aWR9YClcbiAgICBpZiAoaW1hZ2VCb2FyZENyZWF0ZVBvc3QpIHtcbiAgICAgIGltYWdlQm9hcmRDcmVhdGVQb3N0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgfVxuICAgIGxldCBuZXdCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnV0dG9uLmNsYXNzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgbmV3QnV0dG9uLmNsYXNzTGlzdC5hZGQoYnV0dG9uLmNsYXNzTGlzdFtpXSlcbiAgICB9XG4gICAgbmV3QnV0dG9uLmlubmVySFRNTCA9IFwiQ2FuY2VsXCJcbiAgICBpZiAoYnV0dG9uLmRhdGFzZXQucG9zdElkKSB7XG4gICAgICBuZXdCdXR0b24uZGF0YXNldC5wb3N0SWQgPSBidXR0b24uZGF0YXNldC5wb3N0SWRcbiAgICAgIG5ld0J1dHRvbi5pbm5lckhUTUwgPSBcIkNhbmNlbCBDb21tZW50XCJcbiAgICB9XG4gICAgYnV0dG9uLnJlcGxhY2VXaXRoKG5ld0J1dHRvbilcbiAgICBuZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgSW1hZ2VzLmhpZGVGb3JtKGUudGFyZ2V0KVxuICAgIH0pXG4gIH0sXG4gIGFkZEZvcm1FdmVudExpc3RlbmVycygpIHtcbiAgfSxcbiAgc2hvd0ltYWdlKHRhcmdldCkge1xuICAgIGxldCBpbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBpbWFnZUJvYXJkSW1hZ2Uke3RhcmdldC5kYXRhc2V0LmltYWdlaWR9YClcbiAgICBpZiAoaW1hZ2UpIHtcbiAgICAgIGlmIChpbWFnZS5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIGltYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgICAgIGltYWdlLnNjcm9sbEludG9WaWV3SWZOZWVkZWQoKVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW1hZ2VCb2FyZERpc3BsYXlJbWFnZSR7dGFyZ2V0LmRhdGFzZXQuaW1hZ2VpZH1gKS5pbm5lckhUTUwgPVwiSGlkZSBJbWFnZVwiXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaW1hZ2VCb2FyZERpc3BsYXlJbWFnZSR7dGFyZ2V0LmRhdGFzZXQuaW1hZ2VpZH1gKS5pbm5lckhUTUwgPSBcIlNob3cgSW1hZ2VcIlxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAod2luZG93W2BpbWFnZUJvYXJkSW1hZ2Uke3RhcmdldC5kYXRhc2V0LmltYWdlaWR9YF0pIHtcbiAgICAgIC8vIGRvIG5vdGhpbmcgYmVjdWFzZSB0aGUgaW1hZ2UgaXMgcHJvYmFibHkgbG9hZGluZ1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3dbYGltYWdlQm9hcmRJbWFnZSR7dGFyZ2V0LmRhdGFzZXQuaW1hZ2VpZH1gXSA9IHRydWVcbiAgICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJDYW1wQ2hhbm5lbFxuICAgICAgY2hhbm5lbC5wdXNoKFwibG9hZF9pbWFnZVwiLCB7aW1hZ2VfaWQ6IHRhcmdldC5kYXRhc2V0LmltYWdlaWR9KVxuICAgICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgICAgVXNlckNhbXAucHV0UmVzcFRvRG9tKHJlc3AsIGBpbWFnZUJvYXJkSW1hZ2Uke3RhcmdldC5kYXRhc2V0LnBvc3RpZH1gLCBgaW1hZ2VCb2FyZEltYWdlJHt0YXJnZXQuZGF0YXNldC5pbWFnZWlkfWApXG4gICAgICAgICAgSW1hZ2VzLmFkZEJvYXJkRXZlbnRMaXN0ZW5lcnMoKVxuICAgICAgICAgIHdpbmRvd1tgaW1hZ2VCb2FyZEltYWdlJHt0YXJnZXQuZGF0YXNldC5pbWFnZWlkfWBdID0gZmFsc2VcbiAgICAgICAgICBpZiAodGFyZ2V0LmlubmVySFRNTCA9PSBcIlNob3cgSW1hZ2VcIikge1xuICAgICAgICAgICAgdGFyZ2V0LmlubmVySFRNTCA9IFwiSGlkZSBJbWFnZVwiXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAucmVjZWl2ZShcImVycm9yXCIsIChyZXNwKSA9PiB7Y29uc29sZS5sb2cocmVzcCl9KVxuICAgIH1cbiAgfSxcbiAgdm90ZSh0YXJnZXQpIHtcbiAgICBpZiAoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJpbl9wcm9ncmVzc1wiKSkge1xuICAgICAgbGV0IHVwZGF0ZSA9IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJ2b3RlZFwiKVxuICAgICAgbGV0IG9sZF92b3RlID0gdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm9sZF92b3RlXCIpXG4gICAgICBsZXQgZmxpcF92b3RlID0gSW1hZ2VzLmlzRmxpcFZvdGUodGFyZ2V0LmRhdGFzZXQudmFsdWUsIHRhcmdldC5kYXRhc2V0LnBvc3RJZClcbiAgICAgIEltYWdlcy5jaGFuZ2VWb3RlQnV0dG9ucyh0YXJnZXQpXG4gICAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyQ2FtcENoYW5uZWxcbiAgICAgIGNoYW5uZWwucHVzaCgnbmV3X2ltYWdlX3ZvdGUnLCB7aWQ6IHRhcmdldC5kYXRhc2V0LnBvc3RJZCwgdmFsdWU6IHRhcmdldC5kYXRhc2V0LnZhbHVlLCB1cGRhdGU6IHVwZGF0ZSwgb2xkX3ZvdGU6IG9sZF92b3RlLCBmbGlwX3ZvdGU6IGZsaXBfdm90ZX0pXG4gICAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKVxuICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiaW5fcHJvZ3Jlc3NcIilcbiAgICAgICAgfSlcbiAgICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzcCkgPT4ge2NvbnNvbGUubG9nKHJlc3ApfSlcbiAgICB9XG4gIH0sXG4gIGlzRmxpcFZvdGUodmFsdWUsIGlkKSB7XG4gICAgaWYgKHZhbHVlID09IDEpIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZGlzYWdyZWUke2lkfWApLmNsYXNzTGlzdC5jb250YWlucyhcInZvdGVkXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYWdyZWUke2lkfWApLmNsYXNzTGlzdC5jb250YWlucyhcInZvdGVkXCIpXG4gICAgfVxuICB9LFxuICBjaGFuZ2VWb3RlQnV0dG9ucyh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0LmRhdGFzZXQudmFsdWUgPT0gXCIxXCIpIHtcbiAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwidm90ZWRcIikpIHtcbiAgICAgICAgSW1hZ2VzLmNoYW5nZVBvaW50c09uQ29tbWVudCh0YXJnZXQuZGF0YXNldC5wb3N0SWQsIC0xKVxuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcInZvdGVkXCIpXG4gICAgICAgIHRhcmdldC5pbm5lckhUTUwgPSBcIkFncmVlXCJcbiAgICAgICAgbGV0IG9wcG9zaXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGRpc2FncmVlJHt0YXJnZXQuZGF0YXNldC5wb3N0SWR9YClcbiAgICAgICAgb3Bwb3NpdGUuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQtYnV0dG9uJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZWQtYnV0dG9uXCIpXG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKFwidm90ZWRcIilcbiAgICAgICAgdGFyZ2V0LmlubmVySFRNTCA9IFwiQWdyZWVkXCJcbiAgICAgICAgbGV0IG9wcG9zaXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGRpc2FncmVlJHt0YXJnZXQuZGF0YXNldC5wb3N0SWR9YClcbiAgICAgICAgb3Bwb3NpdGUuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQtYnV0dG9uJylcbiAgICAgICAgaWYgKG9wcG9zaXRlLmNsYXNzTGlzdC5jb250YWlucygndm90ZWQnKSkge1xuICAgICAgICAgIG9wcG9zaXRlLmNsYXNzTGlzdC5yZW1vdmUoJ3ZvdGVkJylcbiAgICAgICAgICBJbWFnZXMuY2hhbmdlUG9pbnRzT25Db21tZW50KHRhcmdldC5kYXRhc2V0LnBvc3RJZCwgMilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBJbWFnZXMuY2hhbmdlUG9pbnRzT25Db21tZW50KHRhcmdldC5kYXRhc2V0LnBvc3RJZCwgMSlcbiAgICAgICAgfVxuICAgICAgICBvcHBvc2l0ZS5pbm5lckhUTUwgPSBcIkRpc2FncmVlXCJcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJ2b3RlZFwiKSkge1xuICAgICAgICBJbWFnZXMuY2hhbmdlUG9pbnRzT25Db21tZW50KHRhcmdldC5kYXRhc2V0LnBvc3RJZCwgMSlcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJ2b3RlZFwiKVxuICAgICAgICB0YXJnZXQuaW5uZXJIVE1MID0gXCJEaXNhZ3JlZVwiXG4gICAgICAgIGxldCBvcHBvc2l0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBhZ3JlZSR7dGFyZ2V0LmRhdGFzZXQucG9zdElkfWApXG4gICAgICAgIG9wcG9zaXRlLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkLWJ1dHRvbicpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkLWJ1dHRvblwiKVxuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZChcInZvdGVkXCIpXG4gICAgICAgIHRhcmdldC5pbm5lckhUTUwgPSBcIkRpc2FncmVlZFwiXG4gICAgICAgIGxldCBvcHBvc2l0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBhZ3JlZSR7dGFyZ2V0LmRhdGFzZXQucG9zdElkfWApXG4gICAgICAgIG9wcG9zaXRlLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkLWJ1dHRvbicpXG4gICAgICAgIGlmIChvcHBvc2l0ZS5jbGFzc0xpc3QuY29udGFpbnMoJ3ZvdGVkJykpIHtcbiAgICAgICAgICBvcHBvc2l0ZS5jbGFzc0xpc3QucmVtb3ZlKCd2b3RlZCcpXG4gICAgICAgICAgSW1hZ2VzLmNoYW5nZVBvaW50c09uQ29tbWVudCh0YXJnZXQuZGF0YXNldC5wb3N0SWQsIC0yKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIEltYWdlcy5jaGFuZ2VQb2ludHNPbkNvbW1lbnQodGFyZ2V0LmRhdGFzZXQucG9zdElkLCAtMSlcbiAgICAgICAgfVxuICAgICAgICBvcHBvc2l0ZS5pbm5lckhUTUwgPSBcIkFncmVlXCJcbiAgICAgIH1cbiAgICB9XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2luX3Byb2dyZXNzJylcbiAgICB0YXJnZXQuYmx1cigpXG4gIH0sXG4gIGNoYW5nZVBvaW50c09uQ29tbWVudChjb21tZW50X2lkLCB2YWx1ZSkge1xuICAgIGxldCB0cmliZUJvYXJkUG9pbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHRyaWJlQm9hcmRQb2ludHMke2NvbW1lbnRfaWR9YClcbiAgICBpZiAodHJpYmVCb2FyZFBvaW50cykge1xuICAgICAgbGV0IHBvaW50cyA9IHRyaWJlQm9hcmRQb2ludHMuaW5uZXJIVE1MXG4gICAgICBwb2ludHMgPSBwYXJzZUludChwb2ludHMpXG4gICAgICBwb2ludHMgKz0gdmFsdWVcbiAgICAgIHRyaWJlQm9hcmRQb2ludHMuaW5uZXJIVE1MID0gcG9pbnRzXG4gICAgfVxuICB9XG5cbn1cbmV4cG9ydCBkZWZhdWx0IEltYWdlc1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQWhCQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXpaQTtBQTRaQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/images.js\n");

/***/ }),

/***/ "./js/manifesto.js":
/*!*************************!*\
  !*** ./js/manifesto.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _user_camp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user_camp */ \"./js/user_camp.js\");\n\nvar Manifesto = {\n  init: function init() {\n    Manifesto.addEventListeners();\n  },\n  addEventListeners: function addEventListeners() {\n    var submitManifesto = document.getElementById('submitManifesto');\n\n    if (submitManifesto) {\n      if (!submitManifesto.classList.contains('listening')) {\n        submitManifesto.classList.add('listening');\n        submitManifesto.addEventListener('click', Manifesto.submitManifesto);\n      }\n    }\n\n    var manifestoEdit = document.getElementById('manifestoEdit');\n\n    if (manifestoEdit) {\n      if (!manifestoEdit.classList.contains('listening')) {\n        manifestoEdit.classList.add('listening');\n        manifestoEdit.addEventListener('click', Manifesto.manifestoEdit);\n      }\n    }\n\n    var createManifesto = document.getElementById('createManifesto');\n\n    if (createManifesto) {\n      if (!createManifesto.classList.contains('listening')) {\n        createManifesto.classList.add('listening');\n        createManifesto.addEventListener('click', Manifesto.createManifesto);\n      }\n    }\n\n    var viewProposal = document.getElementById('viewProposal');\n\n    if (viewProposal) {\n      if (!viewProposal.classList.contains('listening')) {\n        viewProposal.classList.add('listening');\n        viewProposal.addEventListener('click', Manifesto.viewProposal);\n      }\n    }\n\n    var backToCurrent = document.getElementById('backToCurrent');\n\n    if (backToCurrent) {\n      if (!backToCurrent.classList.contains('listening')) {\n        backToCurrent.classList.add('listening');\n        backToCurrent.addEventListener('click', Manifesto.backToCurrent);\n      }\n    }\n\n    var viewHistory = document.getElementById('viewHistory');\n\n    if (viewHistory) {\n      if (!viewHistory.classList.contains('listening')) {\n        viewHistory.classList.add('listening');\n        viewHistory.addEventListener('click', Manifesto.viewHistory);\n      }\n    }\n\n    var manifestoVersionSelect = document.querySelectorAll('.manifestoVersionSelect');\n\n    if (manifestoVersionSelect) {\n      for (var i = 0; i < manifestoVersionSelect.length; i++) {\n        if (!manifestoVersionSelect[i].classList.contains('listening')) {\n          manifestoVersionSelect[i].classList.add('listening');\n          manifestoVersionSelect[i].addEventListener('click', Manifesto.versionSelect);\n        }\n      }\n    }\n\n    var manifestoVote = document.querySelectorAll('.manifestoVote');\n\n    if (manifestoVote) {\n      for (var i = 0; i < manifestoVote.length; i++) {\n        if (!manifestoVote[i].classList.contains('listening')) {\n          manifestoVote[i].classList.add('listening');\n          manifestoVote[i].addEventListener('click', Manifesto.vote);\n        }\n      }\n    }\n  },\n  submitManifesto: function submitManifesto(e) {\n    var editor = window['campManifestoEditor'];\n    var channel = window.userCampChannel;\n    var delta = editor.editor.delta;\n    var og_delta = window['ogDelta'];\n    var diff = og_delta.diff(delta);\n    channel.push(\"submit_manifesto\", {\n      content: editor.root.innerHTML,\n      delta: diff\n    }).receive(\"ok\", function (resp) {\n      location.reload();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  manifestoEdit: function manifestoEdit(e) {\n    var button = e.target;\n    window['initialEditButtonPrompt'] = button.innerHTML;\n    Manifesto.activateEditor();\n    var submit = document.getElementById('submitManifesto');\n    window[\"manifestoSumbit\"] = submit;\n\n    if (submit) {\n      submit.classList.remove('hidden');\n    }\n\n    var prompt = document.createElement('p');\n    prompt.classList = \"manifesto-prompt\";\n    prompt.innerHTML = \"Make edits and submit your propsal below:\";\n    window[\"manifestoPrompt\"] = prompt;\n    document.getElementById('manifestoMainDiv').prepend(prompt);\n    var newButton = document.createElement('button');\n    newButton.innerHTML = \"Cancel Proposal\";\n\n    for (var i = 0; i < button.classList.length; i++) {\n      newButton.classList.add(button.classList[i]);\n    }\n\n    newButton.id = \"cancelManifestoEdit\";\n    newButton.addEventListener('click', Manifesto.cancelManifestoEdit);\n    button.replaceWith(newButton);\n    var hideHistory = document.getElementById('hideHistory');\n\n    if (hideHistory) {\n      Manifesto.hideHistory({\n        target: hideHistory\n      });\n    }\n\n    Manifesto.addEventListeners();\n  },\n  cancelManifestoEdit: function cancelManifestoEdit(e) {\n    Manifesto.deactivateEditor();\n    var button = e.target;\n\n    if (window[\"manifestoPrompt\"]) {\n      window[\"manifestoPrompt\"].remove();\n      window[\"manifestoSumbit\"].classList.add('hidden');\n    }\n\n    var newButton = document.createElement('button');\n    newButton.innerHTML = window['initialEditButtonPrompt'];\n\n    for (var i = 0; i < button.classList.length; i++) {\n      newButton.classList.add(button.classList[i]);\n    }\n\n    newButton.addEventListener('click', Manifesto.manifestoEdit);\n    button.replaceWith(newButton);\n    Manifesto.addEventListeners();\n  },\n  deactivateEditor: function deactivateEditor() {\n    if (window['campManifestoEditor']) {\n      window['campManifestoEditor'].disable();\n    }\n\n    document.getElementById('editor').classList.add('hidden');\n    var alternateContent = document.getElementById('alternateContent');\n\n    if (alternateContent) {\n      alternateContent.classList.remove('hidden');\n    }\n\n    var toolbar = document.querySelector('.ql-toolbar');\n\n    if (toolbar) {\n      toolbar.classList.add('hidden');\n    }\n  },\n  createManifesto: function createManifesto(e) {\n    e.target.remove();\n    var noManifesto = document.getElementById('noManifesto');\n    noManifesto.innerHTML = \"Create a Manifesto:\";\n    Manifesto.activateEditor();\n    var submit = document.getElementById('submitManifesto');\n\n    if (submit) {\n      submit.classList.remove('hidden');\n    }\n\n    Manifesto.addEventListeners();\n  },\n  activateEditor: function activateEditor() {\n    if (window['campManifestoEditor']) {\n      window['campManifestoEditor'].enable();\n      document.getElementById('editor').classList.remove('hidden');\n\n      var _alternateContent = document.getElementById('alternateContent');\n\n      if (_alternateContent) {\n        _alternateContent.classList.add('hidden');\n      }\n\n      var toolbar = document.querySelector('.ql-toolbar');\n\n      if (toolbar) {\n        toolbar.classList.remove('hidden');\n      }\n    } else {\n      var editor = new Quill('#editor', {\n        modules: {\n          toolbar: true\n        },\n        theme: 'snow'\n      });\n      window['campManifestoEditor'] = editor;\n      window['ogDelta'] = editor.editor.delta;\n    }\n\n    var editorDiv = document.getElementById('editor');\n    editorDiv.classList.remove('manifesto-display');\n    editorDiv.classList.remove('hidden');\n    var alternateContent = document.getElementById('alternateContent');\n    alternateContent.classList.add('hidden');\n  },\n  viewProposal: function viewProposal(e) {\n    e.target.classList.add('hidden');\n    var editor = document.getElementById('editor');\n    var proposed = document.getElementById('proposedChange');\n\n    if (editor && proposedChange) {\n      editor.classList.add('hidden');\n      proposedChange.classList.remove('hidden');\n    }\n\n    document.getElementById('backToCurrent').classList.remove('hidden');\n    var hideHistory = document.getElementById('hideHistory');\n\n    if (hideHistory) {\n      Manifesto.hideHistory({\n        target: hideHistory\n      });\n    }\n\n    var alternateContent = document.getElementById('alternateContent');\n\n    if (editor && proposedChange && alternateContent) {\n      alternateContent.classList.add('hidden');\n    }\n  },\n  backToCurrent: function backToCurrent(e) {\n    e.target.classList.add('hidden');\n    var editor = document.getElementById('editor');\n    var proposed = document.getElementById('proposedChange');\n    var alternateContent = document.getElementById('alternateContent');\n\n    if (editor && proposedChange && alternateContent) {\n      editor.classList.remove('hidden');\n      proposedChange.classList.add('hidden');\n      alternateContent.classList.add('hidden');\n    }\n\n    document.getElementById('viewProposal').classList.remove('hidden');\n  },\n  viewHistory: function viewHistory(e) {\n    var backToCurrent = document.getElementById('backToCurrent');\n\n    if (backToCurrent) {\n      Manifesto.backToCurrent({\n        target: backToCurrent\n      });\n    }\n\n    var button = e.target;\n    var historyLog = document.getElementById('historyLog');\n\n    if (historyLog) {\n      historyLog.classList.remove('hidden');\n    }\n\n    window['initialHistoryButtonPrompt'] = button.innerHTML;\n    var newButton = document.createElement('button');\n    newButton.innerHTML = \"Hide Change History\";\n\n    for (var i = 0; i < button.classList.length; i++) {\n      newButton.classList.add(button.classList[i]);\n    }\n\n    newButton.id = \"hideHistory\";\n    newButton.addEventListener('click', Manifesto.hideHistory);\n    button.replaceWith(newButton);\n    Manifesto.addEventListeners();\n    var cancelManifestoEdit = document.getElementById('cancelManifestoEdit');\n\n    if (cancelManifestoEdit) {\n      console.log('cancelManifestoEdit');\n      Manifesto.cancelManifestoEdit({\n        target: cancelManifestoEdit\n      });\n    } else {\n      Manifesto.deactivateEditor();\n    }\n  },\n  versionSelect: function versionSelect(e) {\n    var channel = window.userCampChannel;\n    var button = e.target;\n    Manifesto.makeButtonActive(button, \".manifestoVersionSelect\");\n    var version = button.dataset.version;\n    channel.push(\"manifesto_version_select\", {\n      version: version\n    }).receive(\"ok\", function (resp) {\n      Manifesto.displayVersion(resp);\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  hideHistory: function hideHistory(e) {\n    var historyLog = document.getElementById('historyLog');\n\n    if (historyLog) {\n      historyLog.classList.add('hidden');\n    }\n\n    var button = e.target;\n    var newButton = document.createElement('button');\n    newButton.innerHTML = window['initialHistoryButtonPrompt'];\n\n    for (var i = 0; i < button.classList.length; i++) {\n      newButton.classList.add(button.classList[i]);\n    }\n\n    newButton.id = \"hideHistory\";\n    newButton.addEventListener('click', Manifesto.viewHistory);\n    button.replaceWith(newButton);\n    Manifesto.addEventListeners();\n  },\n  makeButtonActive: function makeButtonActive(button, buttonClass) {\n    var buttons = document.querySelectorAll(buttonClass);\n\n    for (var i = 0; i < buttons.length; i++) {\n      buttons[i].classList.remove('active');\n    }\n\n    button.classList.add('active');\n    button.blur();\n  },\n  displayVersion: function displayVersion(resp) {\n    var html = resp[\"html\"];\n\n    if (html) {\n      var contentDiv = document.getElementById('alternateContent');\n\n      if (contentDiv) {\n        contentDiv.innerHTML = \"\";\n        var fragment = document.createRange().createContextualFragment(html);\n        contentDiv.appendChild(fragment);\n      }\n    }\n  },\n  vote: function vote(e) {\n    var button = e.target;\n\n    if (!button.classList.contains('inactive')) {\n      Manifesto.inactivateVoteButtons();\n      var version = button.dataset.version;\n      var value = button.dataset.value;\n      Manifesto.handleVoteButtons(button);\n      var channel = window.userCampChannel;\n      channel.push(\"manifesto_vote\", {\n        version: version,\n        value: value\n      }).receive(\"ok\", function (resp) {\n        Manifesto.activateVoteButtons();\n      }).receive(\"error\", function (resp) {\n        console.log(resp);\n      });\n    }\n  },\n  handleVoteButtons: function handleVoteButtons(button) {\n    if (button.classList.contains('active')) {\n      button.classList.remove('active');\n    } else {\n      var buttons = document.querySelectorAll('.manifestoVote');\n\n      for (var i = 0; i < buttons.length; i++) {\n        buttons[i].classList.remove('active');\n      }\n\n      button.classList.add('active');\n    }\n\n    button.blur();\n  },\n  inactivateVoteButtons: function inactivateVoteButtons() {\n    var buttons = document.querySelectorAll('.manifestoVote');\n\n    for (var i = 0; i < buttons.length; i++) {\n      buttons[i].classList.add('inactive');\n    }\n  },\n  activateVoteButtons: function activateVoteButtons() {\n    var buttons = document.querySelectorAll('.manifestoVote');\n\n    for (var i = 0; i < buttons.length; i++) {\n      buttons[i].classList.remove('inactive');\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Manifesto);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9tYW5pZmVzdG8uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9tYW5pZmVzdG8uanM/OTI4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlckNhbXAgZnJvbSAnLi91c2VyX2NhbXAnXG5sZXQgTWFuaWZlc3RvID0ge1xuICBpbml0KCkge1xuICAgIE1hbmlmZXN0by5hZGRFdmVudExpc3RlbmVycygpXG4gIH0sXG4gIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGxldCBzdWJtaXRNYW5pZmVzdG8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0TWFuaWZlc3RvJylcbiAgICBpZiAoc3VibWl0TWFuaWZlc3RvKSB7XG4gICAgICBpZiAoIXN1Ym1pdE1hbmlmZXN0by5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKXtcbiAgICAgICAgc3VibWl0TWFuaWZlc3RvLmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgIHN1Ym1pdE1hbmlmZXN0by5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIE1hbmlmZXN0by5zdWJtaXRNYW5pZmVzdG8pXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBtYW5pZmVzdG9FZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hbmlmZXN0b0VkaXQnKVxuICAgIGlmIChtYW5pZmVzdG9FZGl0KSB7XG4gICAgICBpZiAoIW1hbmlmZXN0b0VkaXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSl7XG4gICAgICAgIG1hbmlmZXN0b0VkaXQuY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgbWFuaWZlc3RvRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIE1hbmlmZXN0by5tYW5pZmVzdG9FZGl0KVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgY3JlYXRlTWFuaWZlc3RvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZU1hbmlmZXN0bycpXG4gICAgaWYgKGNyZWF0ZU1hbmlmZXN0bykge1xuICAgICAgaWYgKCFjcmVhdGVNYW5pZmVzdG8uY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSl7XG4gICAgICAgIGNyZWF0ZU1hbmlmZXN0by5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICBjcmVhdGVNYW5pZmVzdG8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBNYW5pZmVzdG8uY3JlYXRlTWFuaWZlc3RvKVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgdmlld1Byb3Bvc2FsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdQcm9wb3NhbCcpXG4gICAgaWYgKHZpZXdQcm9wb3NhbCkge1xuICAgICAgaWYgKCF2aWV3UHJvcG9zYWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSl7XG4gICAgICAgIHZpZXdQcm9wb3NhbC5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICB2aWV3UHJvcG9zYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBNYW5pZmVzdG8udmlld1Byb3Bvc2FsKVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgYmFja1RvQ3VycmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrVG9DdXJyZW50JylcbiAgICBpZiAoYmFja1RvQ3VycmVudCkge1xuICAgICAgaWYgKCFiYWNrVG9DdXJyZW50LmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpe1xuICAgICAgICBiYWNrVG9DdXJyZW50LmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgIGJhY2tUb0N1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBNYW5pZmVzdG8uYmFja1RvQ3VycmVudClcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHZpZXdIaXN0b3J5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdIaXN0b3J5JylcbiAgICBpZiAodmlld0hpc3RvcnkpIHtcbiAgICAgIGlmICghdmlld0hpc3RvcnkuY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSl7XG4gICAgICAgIHZpZXdIaXN0b3J5LmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgIHZpZXdIaXN0b3J5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgTWFuaWZlc3RvLnZpZXdIaXN0b3J5KVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbWFuaWZlc3RvVmVyc2lvblNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYW5pZmVzdG9WZXJzaW9uU2VsZWN0JylcbiAgICBpZiAobWFuaWZlc3RvVmVyc2lvblNlbGVjdCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYW5pZmVzdG9WZXJzaW9uU2VsZWN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghbWFuaWZlc3RvVmVyc2lvblNlbGVjdFtpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKXtcbiAgICAgICAgICBtYW5pZmVzdG9WZXJzaW9uU2VsZWN0W2ldLmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgICAgbWFuaWZlc3RvVmVyc2lvblNlbGVjdFtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIE1hbmlmZXN0by52ZXJzaW9uU2VsZWN0KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBtYW5pZmVzdG9Wb3RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1hbmlmZXN0b1ZvdGUnKVxuICAgIGlmIChtYW5pZmVzdG9Wb3RlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hbmlmZXN0b1ZvdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFtYW5pZmVzdG9Wb3RlW2ldLmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpe1xuICAgICAgICAgIG1hbmlmZXN0b1ZvdGVbaV0uY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgICBtYW5pZmVzdG9Wb3RlW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgTWFuaWZlc3RvLnZvdGUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHN1Ym1pdE1hbmlmZXN0byhlKSB7XG4gICAgbGV0IGVkaXRvciA9IHdpbmRvd1snY2FtcE1hbmlmZXN0b0VkaXRvciddXG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckNhbXBDaGFubmVsXG4gICAgbGV0IGRlbHRhID0gZWRpdG9yLmVkaXRvci5kZWx0YVxuICAgIGxldCBvZ19kZWx0YSA9IHdpbmRvd1snb2dEZWx0YSddXG4gICAgbGV0IGRpZmYgPSBvZ19kZWx0YS5kaWZmKGRlbHRhKVxuICAgIGNoYW5uZWwucHVzaChcInN1Ym1pdF9tYW5pZmVzdG9cIiwge2NvbnRlbnQ6IGVkaXRvci5yb290LmlubmVySFRNTCwgZGVsdGE6IGRpZmZ9KVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtjb25zb2xlLmxvZyhyZXNwKX0pXG4gIH0sXG4gIG1hbmlmZXN0b0VkaXQoZSkge1xuICAgIGxldCBidXR0b24gPSBlLnRhcmdldFxuICAgIHdpbmRvd1snaW5pdGlhbEVkaXRCdXR0b25Qcm9tcHQnXSA9IGJ1dHRvbi5pbm5lckhUTUxcbiAgICBNYW5pZmVzdG8uYWN0aXZhdGVFZGl0b3IoKVxuICAgIGxldCBzdWJtaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0TWFuaWZlc3RvJylcbiAgICB3aW5kb3dbXCJtYW5pZmVzdG9TdW1iaXRcIl0gPSBzdWJtaXRcbiAgICBpZiAoc3VibWl0KSB7c3VibWl0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpfVxuICAgIGxldCBwcm9tcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgICBwcm9tcHQuY2xhc3NMaXN0ID0gXCJtYW5pZmVzdG8tcHJvbXB0XCJcbiAgICBwcm9tcHQuaW5uZXJIVE1MID0gXCJNYWtlIGVkaXRzIGFuZCBzdWJtaXQgeW91ciBwcm9wc2FsIGJlbG93OlwiXG4gICAgd2luZG93W1wibWFuaWZlc3RvUHJvbXB0XCJdID0gcHJvbXB0XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hbmlmZXN0b01haW5EaXYnKS5wcmVwZW5kKHByb21wdClcbiAgICBsZXQgbmV3QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICBuZXdCdXR0b24uaW5uZXJIVE1MID0gXCJDYW5jZWwgUHJvcG9zYWxcIlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnV0dG9uLmNsYXNzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgbmV3QnV0dG9uLmNsYXNzTGlzdC5hZGQoYnV0dG9uLmNsYXNzTGlzdFtpXSlcbiAgICB9XG4gICAgbmV3QnV0dG9uLmlkID0gXCJjYW5jZWxNYW5pZmVzdG9FZGl0XCJcbiAgICBuZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBNYW5pZmVzdG8uY2FuY2VsTWFuaWZlc3RvRWRpdClcbiAgICBidXR0b24ucmVwbGFjZVdpdGgobmV3QnV0dG9uKVxuICAgIGxldCBoaWRlSGlzdG9yeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWRlSGlzdG9yeScpXG4gICAgaWYgKGhpZGVIaXN0b3J5KSB7XG4gICAgICBNYW5pZmVzdG8uaGlkZUhpc3Rvcnkoe3RhcmdldDogaGlkZUhpc3Rvcnl9KVxuICAgIH1cbiAgICBNYW5pZmVzdG8uYWRkRXZlbnRMaXN0ZW5lcnMoKVxuICB9LFxuICBjYW5jZWxNYW5pZmVzdG9FZGl0KGUpIHtcbiAgICBNYW5pZmVzdG8uZGVhY3RpdmF0ZUVkaXRvcigpXG4gICAgbGV0IGJ1dHRvbiA9IGUudGFyZ2V0XG4gICAgaWYgKHdpbmRvd1tcIm1hbmlmZXN0b1Byb21wdFwiXSkge1xuICAgICAgd2luZG93W1wibWFuaWZlc3RvUHJvbXB0XCJdLnJlbW92ZSgpXG4gICAgICB3aW5kb3dbXCJtYW5pZmVzdG9TdW1iaXRcIl0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICB9XG4gICAgbGV0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgbmV3QnV0dG9uLmlubmVySFRNTCA9IHdpbmRvd1snaW5pdGlhbEVkaXRCdXR0b25Qcm9tcHQnXVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnV0dG9uLmNsYXNzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgbmV3QnV0dG9uLmNsYXNzTGlzdC5hZGQoYnV0dG9uLmNsYXNzTGlzdFtpXSlcbiAgICB9XG4gICAgbmV3QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgTWFuaWZlc3RvLm1hbmlmZXN0b0VkaXQpXG4gICAgYnV0dG9uLnJlcGxhY2VXaXRoKG5ld0J1dHRvbilcbiAgICBNYW5pZmVzdG8uYWRkRXZlbnRMaXN0ZW5lcnMoKVxuICB9LFxuICBkZWFjdGl2YXRlRWRpdG9yKCkge1xuICAgIGlmICh3aW5kb3dbJ2NhbXBNYW5pZmVzdG9FZGl0b3InXSkge1xuICAgICAgd2luZG93WydjYW1wTWFuaWZlc3RvRWRpdG9yJ10uZGlzYWJsZSgpXG4gICAgfVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0b3InKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgIGxldCBhbHRlcm5hdGVDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsdGVybmF0ZUNvbnRlbnQnKVxuICAgIGlmIChhbHRlcm5hdGVDb250ZW50KSB7XG4gICAgICBhbHRlcm5hdGVDb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgfVxuICAgIGxldCB0b29sYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnFsLXRvb2xiYXInKVxuICAgIGlmICh0b29sYmFyKSB7XG4gICAgICB0b29sYmFyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgfVxuICB9LFxuICBjcmVhdGVNYW5pZmVzdG8oZSkge1xuICAgIGUudGFyZ2V0LnJlbW92ZSgpXG4gICAgbGV0IG5vTWFuaWZlc3RvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vTWFuaWZlc3RvJylcbiAgICBub01hbmlmZXN0by5pbm5lckhUTUwgPSBcIkNyZWF0ZSBhIE1hbmlmZXN0bzpcIlxuICAgIE1hbmlmZXN0by5hY3RpdmF0ZUVkaXRvcigpXG4gICAgbGV0IHN1Ym1pdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXRNYW5pZmVzdG8nKVxuICAgIGlmIChzdWJtaXQpIHtzdWJtaXQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyl9XG4gICAgTWFuaWZlc3RvLmFkZEV2ZW50TGlzdGVuZXJzKClcbiAgfSxcbiAgYWN0aXZhdGVFZGl0b3IoKSB7XG4gICAgaWYgKHdpbmRvd1snY2FtcE1hbmlmZXN0b0VkaXRvciddKSB7XG4gICAgICB3aW5kb3dbJ2NhbXBNYW5pZmVzdG9FZGl0b3InXS5lbmFibGUoKVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRvcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgICBsZXQgYWx0ZXJuYXRlQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbHRlcm5hdGVDb250ZW50JylcbiAgICAgIGlmIChhbHRlcm5hdGVDb250ZW50KSB7XG4gICAgICAgIGFsdGVybmF0ZUNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICAgIH1cbiAgICAgIGxldCB0b29sYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnFsLXRvb2xiYXInKVxuICAgICAgaWYgKHRvb2xiYXIpIHtcbiAgICAgICAgdG9vbGJhci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZWRpdG9yID0gbmV3IFF1aWxsKCcjZWRpdG9yJywge1xuICAgICAgICBtb2R1bGVzOiB7IHRvb2xiYXI6IHRydWUgfSxcbiAgICAgICAgdGhlbWU6ICdzbm93J1xuICAgICAgfSk7XG4gICAgICB3aW5kb3dbJ2NhbXBNYW5pZmVzdG9FZGl0b3InXSA9IGVkaXRvclxuICAgICAgd2luZG93WydvZ0RlbHRhJ10gPSBlZGl0b3IuZWRpdG9yLmRlbHRhXG4gICAgfVxuICAgIGxldCBlZGl0b3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdG9yJylcbiAgICBlZGl0b3JEaXYuY2xhc3NMaXN0LnJlbW92ZSgnbWFuaWZlc3RvLWRpc3BsYXknKVxuICAgIGVkaXRvckRpdi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgIGxldCBhbHRlcm5hdGVDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsdGVybmF0ZUNvbnRlbnQnKVxuICAgIGFsdGVybmF0ZUNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgfSxcbiAgdmlld1Byb3Bvc2FsKGUpIHtcbiAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgIGxldCBlZGl0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdG9yJylcbiAgICBsZXQgcHJvcG9zZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvcG9zZWRDaGFuZ2UnKVxuICAgIGlmIChlZGl0b3IgJiYgcHJvcG9zZWRDaGFuZ2UpIHtcbiAgICAgIGVkaXRvci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgICAgcHJvcG9zZWRDaGFuZ2UuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICB9XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhY2tUb0N1cnJlbnQnKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgIGxldCBoaWRlSGlzdG9yeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWRlSGlzdG9yeScpXG4gICAgaWYgKGhpZGVIaXN0b3J5KSB7XG4gICAgICBNYW5pZmVzdG8uaGlkZUhpc3Rvcnkoe3RhcmdldDogaGlkZUhpc3Rvcnl9KVxuICAgIH1cblxuICAgIGxldCBhbHRlcm5hdGVDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsdGVybmF0ZUNvbnRlbnQnKVxuICAgIGlmIChlZGl0b3IgJiYgcHJvcG9zZWRDaGFuZ2UgJiYgYWx0ZXJuYXRlQ29udGVudCkge1xuICAgICAgYWx0ZXJuYXRlQ29udGVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgIH1cbiAgfSxcbiAgYmFja1RvQ3VycmVudChlKSB7XG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICBsZXQgZWRpdG9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRvcicpXG4gICAgbGV0IHByb3Bvc2VkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb3Bvc2VkQ2hhbmdlJylcbiAgICBsZXQgYWx0ZXJuYXRlQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbHRlcm5hdGVDb250ZW50JylcbiAgICBpZiAoZWRpdG9yICYmIHByb3Bvc2VkQ2hhbmdlICYmIGFsdGVybmF0ZUNvbnRlbnQpIHtcbiAgICAgIGVkaXRvci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgICAgcHJvcG9zZWRDaGFuZ2UuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICAgIGFsdGVybmF0ZUNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICB9XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdQcm9wb3NhbCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gIH0sXG4gIHZpZXdIaXN0b3J5KGUpIHtcbiAgICBsZXQgYmFja1RvQ3VycmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrVG9DdXJyZW50JylcbiAgICBpZiAoYmFja1RvQ3VycmVudCkge1xuICAgICAgTWFuaWZlc3RvLmJhY2tUb0N1cnJlbnQoe3RhcmdldDogYmFja1RvQ3VycmVudH0pXG4gICAgfVxuICAgIGxldCBidXR0b24gPSBlLnRhcmdldFxuICAgIGxldCBoaXN0b3J5TG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpc3RvcnlMb2cnKVxuICAgIGlmIChoaXN0b3J5TG9nKSB7XG4gICAgICBoaXN0b3J5TG9nLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgfVxuICAgIHdpbmRvd1snaW5pdGlhbEhpc3RvcnlCdXR0b25Qcm9tcHQnXSA9IGJ1dHRvbi5pbm5lckhUTUxcbiAgICBsZXQgbmV3QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICBuZXdCdXR0b24uaW5uZXJIVE1MID0gXCJIaWRlIENoYW5nZSBIaXN0b3J5XCJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbi5jbGFzc0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ld0J1dHRvbi5jbGFzc0xpc3QuYWRkKGJ1dHRvbi5jbGFzc0xpc3RbaV0pXG4gICAgfVxuICAgIG5ld0J1dHRvbi5pZCA9IFwiaGlkZUhpc3RvcnlcIlxuICAgIG5ld0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIE1hbmlmZXN0by5oaWRlSGlzdG9yeSlcbiAgICBidXR0b24ucmVwbGFjZVdpdGgobmV3QnV0dG9uKVxuICAgIE1hbmlmZXN0by5hZGRFdmVudExpc3RlbmVycygpXG5cbiAgICBsZXQgY2FuY2VsTWFuaWZlc3RvRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW5jZWxNYW5pZmVzdG9FZGl0JylcbiAgICBpZiAoY2FuY2VsTWFuaWZlc3RvRWRpdCkge1xuICAgICAgY29uc29sZS5sb2coJ2NhbmNlbE1hbmlmZXN0b0VkaXQnKTtcbiAgICAgIE1hbmlmZXN0by5jYW5jZWxNYW5pZmVzdG9FZGl0KHt0YXJnZXQ6IGNhbmNlbE1hbmlmZXN0b0VkaXR9KVxuICAgIH0gZWxzZSB7XG4gICAgICBNYW5pZmVzdG8uZGVhY3RpdmF0ZUVkaXRvcigpXG4gICAgfVxuXG4gIH0sXG4gIHZlcnNpb25TZWxlY3QoZSkge1xuICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJDYW1wQ2hhbm5lbFxuICAgIGxldCBidXR0b24gPSBlLnRhcmdldFxuICAgIE1hbmlmZXN0by5tYWtlQnV0dG9uQWN0aXZlKGJ1dHRvbiwgXCIubWFuaWZlc3RvVmVyc2lvblNlbGVjdFwiKVxuICAgIGxldCB2ZXJzaW9uID0gYnV0dG9uLmRhdGFzZXQudmVyc2lvblxuICAgIGNoYW5uZWwucHVzaChcIm1hbmlmZXN0b192ZXJzaW9uX3NlbGVjdFwiLCB7dmVyc2lvbjogdmVyc2lvbn0pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIE1hbmlmZXN0by5kaXNwbGF5VmVyc2lvbihyZXNwKVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtjb25zb2xlLmxvZyhyZXNwKX0pXG4gIH0sXG4gIGhpZGVIaXN0b3J5KGUpIHtcbiAgICBsZXQgaGlzdG9yeUxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaXN0b3J5TG9nJylcbiAgICBpZiAoaGlzdG9yeUxvZykge1xuICAgICAgaGlzdG9yeUxvZy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuICAgIH1cbiAgICBsZXQgYnV0dG9uID0gZS50YXJnZXRcbiAgICBsZXQgbmV3QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICBuZXdCdXR0b24uaW5uZXJIVE1MID0gd2luZG93Wydpbml0aWFsSGlzdG9yeUJ1dHRvblByb21wdCddXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b24uY2xhc3NMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBuZXdCdXR0b24uY2xhc3NMaXN0LmFkZChidXR0b24uY2xhc3NMaXN0W2ldKVxuICAgIH1cbiAgICBuZXdCdXR0b24uaWQgPSBcImhpZGVIaXN0b3J5XCJcbiAgICBuZXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBNYW5pZmVzdG8udmlld0hpc3RvcnkpXG4gICAgYnV0dG9uLnJlcGxhY2VXaXRoKG5ld0J1dHRvbilcbiAgICBNYW5pZmVzdG8uYWRkRXZlbnRMaXN0ZW5lcnMoKVxuICB9LFxuICBtYWtlQnV0dG9uQWN0aXZlKGJ1dHRvbiwgYnV0dG9uQ2xhc3MpIHtcbiAgICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYnV0dG9uQ2xhc3MpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBidXR0b25zW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgfVxuICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgIGJ1dHRvbi5ibHVyKClcbiAgfSxcbiAgZGlzcGxheVZlcnNpb24ocmVzcCkge1xuICAgIGxldCBodG1sID0gcmVzcFtcImh0bWxcIl1cbiAgICBpZiAoaHRtbCkge1xuICAgICAgbGV0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWx0ZXJuYXRlQ29udGVudCcpXG4gICAgICBpZiAoY29udGVudERpdikge1xuICAgICAgICBjb250ZW50RGl2LmlubmVySFRNTCA9IFwiXCJcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChodG1sKVxuICAgICAgICBjb250ZW50RGl2LmFwcGVuZENoaWxkKGZyYWdtZW50KVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgdm90ZShlKSB7XG4gICAgbGV0IGJ1dHRvbiA9IGUudGFyZ2V0XG4gICAgaWYgKCFidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdpbmFjdGl2ZScpKSB7XG4gICAgICBNYW5pZmVzdG8uaW5hY3RpdmF0ZVZvdGVCdXR0b25zKClcbiAgICAgIGxldCB2ZXJzaW9uID0gYnV0dG9uLmRhdGFzZXQudmVyc2lvblxuICAgICAgbGV0IHZhbHVlID0gYnV0dG9uLmRhdGFzZXQudmFsdWVcbiAgICAgIE1hbmlmZXN0by5oYW5kbGVWb3RlQnV0dG9ucyhidXR0b24pXG4gICAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyQ2FtcENoYW5uZWxcbiAgICAgIGNoYW5uZWwucHVzaChcIm1hbmlmZXN0b192b3RlXCIsIHt2ZXJzaW9uOiB2ZXJzaW9uLCB2YWx1ZTogdmFsdWV9KVxuICAgICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgICAgTWFuaWZlc3RvLmFjdGl2YXRlVm90ZUJ1dHRvbnMoKVxuXG4gICAgICAgIH0pXG4gICAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtjb25zb2xlLmxvZyhyZXNwKX0pXG4gICAgfVxuICB9LFxuICBoYW5kbGVWb3RlQnV0dG9ucyhidXR0b24pIHtcbiAgICBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYW5pZmVzdG9Wb3RlJylcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBidXR0b25zW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICB9XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICB9XG4gICAgYnV0dG9uLmJsdXIoKVxuICB9LFxuICBpbmFjdGl2YXRlVm90ZUJ1dHRvbnMoKSB7XG4gICAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWFuaWZlc3RvVm90ZScpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBidXR0b25zW2ldLmNsYXNzTGlzdC5hZGQoJ2luYWN0aXZlJylcbiAgICB9XG4gIH0sXG4gIGFjdGl2YXRlVm90ZUJ1dHRvbnMoKSB7XG4gICAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWFuaWZlc3RvVm90ZScpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBidXR0b25zW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2luYWN0aXZlJylcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWFuaWZlc3RvXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUEzVEE7QUE4VEEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/manifesto.js\n");

/***/ }),

/***/ "./js/opponents.js":
/*!*************************!*\
  !*** ./js/opponents.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _user_camp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user_camp */ \"./js/user_camp.js\");\n\nvar Opponents = {\n  init: function init() {\n    Opponents.addOpponentEventListeners();\n  },\n  addOpponentEventListeners: function addOpponentEventListeners() {\n    var opponents = document.querySelectorAll('.tribe-opponents-list-opponent');\n\n    for (var i = 0; i < opponents.length; i++) {\n      opponents[i].addEventListener('click', function (e) {\n        var target = e.target;\n        var targetClassList = target.classList;\n        console.log(targetClassList);\n\n        if (targetClassList.contains('unselected-opponent')) {\n          Opponents.makeOpponentButtonActive(target);\n          Opponents.renderNewOpponentView(target.dataset.opponent_id);\n        }\n      });\n    }\n  },\n  makeOpponentButtonActive: function makeOpponentButtonActive(button) {\n    var buttons = document.querySelectorAll('.tribe-opponents-list-opponent');\n\n    for (var i = 0; i < buttons.length; i++) {\n      buttons[i].classList.remove('selected-opponent');\n      buttons[i].classList.add('unselected-opponent');\n    }\n\n    button.classList.add('selected-opponent');\n    button.classList.remove('unselected-opponent');\n    button.blur();\n  },\n  renderNewOpponentView: function renderNewOpponentView(id) {\n    var channel = window.userCampChannel;\n    channel.push(\"opponent_view\", {\n      opponent_id: id\n    }).receive(\"ok\", function (resp) {\n      _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"TribeOpponentViewDetails\");\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Opponents);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9vcHBvbmVudHMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9vcHBvbmVudHMuanM/Y2FkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlckNhbXAgZnJvbSBcIi4vdXNlcl9jYW1wXCJcbmxldCBPcHBvbmVudHMgPSB7XG4gIGluaXQoKSB7XG4gICAgT3Bwb25lbnRzLmFkZE9wcG9uZW50RXZlbnRMaXN0ZW5lcnMoKVxuICB9LFxuICBhZGRPcHBvbmVudEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGxldCBvcHBvbmVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudHJpYmUtb3Bwb25lbnRzLWxpc3Qtb3Bwb25lbnQnKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3Bwb25lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvcHBvbmVudHNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBsZXQgdGFyZ2V0ID0gZS50YXJnZXRcbiAgICAgICAgbGV0IHRhcmdldENsYXNzTGlzdCA9IHRhcmdldC5jbGFzc0xpc3RcbiAgICAgICAgY29uc29sZS5sb2codGFyZ2V0Q2xhc3NMaXN0KTtcbiAgICAgICAgaWYgKHRhcmdldENsYXNzTGlzdC5jb250YWlucygndW5zZWxlY3RlZC1vcHBvbmVudCcpKSB7XG4gICAgICAgICAgT3Bwb25lbnRzLm1ha2VPcHBvbmVudEJ1dHRvbkFjdGl2ZSh0YXJnZXQpXG4gICAgICAgICAgT3Bwb25lbnRzLnJlbmRlck5ld09wcG9uZW50Vmlldyh0YXJnZXQuZGF0YXNldC5vcHBvbmVudF9pZClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH0sXG4gIG1ha2VPcHBvbmVudEJ1dHRvbkFjdGl2ZShidXR0b24pIHtcbiAgICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50cmliZS1vcHBvbmVudHMtbGlzdC1vcHBvbmVudCcpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgYnV0dG9uc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZC1vcHBvbmVudCcpXG4gICAgICBidXR0b25zW2ldLmNsYXNzTGlzdC5hZGQoJ3Vuc2VsZWN0ZWQtb3Bwb25lbnQnKVxuICAgIH1cbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQtb3Bwb25lbnQnKVxuICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCd1bnNlbGVjdGVkLW9wcG9uZW50JylcbiAgICBidXR0b24uYmx1cigpXG4gIH0sXG4gIHJlbmRlck5ld09wcG9uZW50VmlldyhpZCkge1xuICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJDYW1wQ2hhbm5lbFxuICAgIGNoYW5uZWwucHVzaChcIm9wcG9uZW50X3ZpZXdcIiwge29wcG9uZW50X2lkOiBpZH0pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIFVzZXJDYW1wLnB1dFJlc3BUb0RvbShyZXNwLCBcIlRyaWJlT3Bwb25lbnRWaWV3RGV0YWlsc1wiKVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcCk7XG4gICAgICB9KVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBPcHBvbmVudHNcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBckNBO0FBdUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/opponents.js\n");

/***/ }),

/***/ "./js/private_chat.js":
/*!****************************!*\
  !*** ./js/private_chat.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _user_rt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user_rt */ \"./js/user_rt.js\");\n\nvar PrivateChat = {\n  init: function init(chat_id) {\n    var channel = window[\"privateChat\".concat(chat_id)];\n\n    if (channel) {// PrivateChat.updateNotifications(chat_id)\n    } else {\n      var socket = window.userSocket;\n      var chatChannel = socket.channel(\"private_chat_channel:\".concat(chat_id));\n      chatChannel.join();\n      window[\"privateChat\".concat(chat_id)] = chatChannel;\n      PrivateChat.addChannelListeners(chat_id);\n    }\n\n    PrivateChat.scrollToBottom(chat_id);\n    PrivateChat.addEventListeners();\n  },\n  scrollToBottom: function scrollToBottom(chat_id) {\n    var messages = document.getElementById(\"chatWidgetMessages\".concat(chat_id));\n\n    if (messages) {\n      messages.scrollTop = messages.scrollHeight;\n    }\n  },\n  addEventListeners: function addEventListeners() {\n    var loadMore = document.querySelectorAll('.loadPriorChatMessages');\n\n    if (loadMore) {\n      for (var i = 0; i < loadMore.length; i++) {\n        if (!loadMore[i].classList.contains('listening')) {\n          loadMore[i].classList.add('listening');\n          loadMore[i].addEventListener('click', PrivateChat.loadPriorMessages);\n        }\n      }\n    }\n  },\n  addChannelListeners: function addChannelListeners(chat_id) {\n    var channel = window[\"privateChat\".concat(chat_id)];\n    channel.on('new_message', function (resp) {\n      PrivateChat.newMessage(resp, chat_id);\n    });\n  },\n  newMessage: function newMessage(resp, chat_id) {\n    var html = resp.html;\n\n    if (html) {\n      var widget = document.getElementById('chatWidget');\n      var messages = document.getElementById(\"chatWidgetMessages\".concat(chat_id));\n\n      if (messages && widget.classList.contains('active')) {\n        var fragment = document.createRange().createContextualFragment(html);\n        messages.appendChild(fragment);\n        PrivateChat.scrollToBottom(chat_id);\n      } else {\n        PrivateChat.addChatNotification(chat_id, 1);\n      }\n    }\n\n    var new_name = resp.new_name;\n    var chat = resp.chat;\n\n    if (chat && new_name) {\n      _user_rt__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateChatName(chat, new_name);\n    }\n  },\n  loadPriorMessages: function loadPriorMessages(e) {\n    var chat = e.target.dataset.chat;\n    var messages = document.querySelectorAll(\".privateChatMessage\".concat(chat));\n    var channel = window[\"privateChat\".concat(chat)];\n    channel.push(\"load_prior_messages\", {\n      chat: chat,\n      message_count: messages.length\n    }).receive('ok', function (resp) {\n      var html = resp.html;\n\n      if (html) {\n        var button = document.getElementById(\"loadPriorChatMessages\".concat(chat));\n        var fragment = document.createRange().createContextualFragment(html);\n        button.replaceWith(fragment);\n        messages[0].scrollIntoViewIfNeeded();\n        PrivateChat.addEventListeners();\n      }\n    }).receive('error', function (resp) {\n      console.log(resp);\n    });\n  },\n  addChatNotification: function addChatNotification(chat_id, count) {\n    var chatWidgetChatName = document.getElementById(\"chatWidgetChatName\".concat(chat_id));\n\n    if (chatWidgetChatName) {\n      var notification = document.getElementById(\"chatWidgetChatNotification\".concat(chat_id));\n\n      if (notification) {\n        var notifcationNumber = parseInt(notification.innerHTML);\n        notification.innerHTML = notifcationNumber + count;\n      } else {\n        var _notification = document.createElement('div');\n\n        _notification.classList.add(\"chat-widget-chat-notification\");\n\n        _notification.id = \"chatWidgetChatNotification\".concat(chat_id);\n        _notification.innerHTML = count;\n        chatWidgetChatName.appendChild(_notification);\n      }\n    }\n\n    var chatWidget = document.getElementById('chatWidget');\n\n    if (chatWidget) {\n      var _notification2 = document.getElementById('chatWidgetNotification');\n\n      if (_notification2) {\n        var _notifcationNumber = parseInt(_notification2.innerHTML);\n\n        _notification2.innerHTML = _notifcationNumber + count;\n      } else {\n        var _notification3 = document.createElement('div');\n\n        _notification3.classList.add(\"chat-widget-notification\");\n\n        _notification3.id = 'chatWidgetNotification';\n        _notification3.innerHTML = count;\n        chatWidget.appendChild(_notification3);\n      }\n    }\n  },\n  updateNotifications: function updateNotifications(chat_id) {\n    var notification = document.getElementById(\"chatWidgetChatNotification\".concat(chat_id));\n\n    if (notification) {\n      var chatWidget = document.getElementById('chatWidget');\n\n      if (chatWidget) {\n        var notifcationNumber = parseInt(notification.innerHTML);\n        var widgetNotification = document.getElementById('chatWidgetNotification');\n\n        if (widgetNotification) {\n          var widgetNotifcationNumber = parseInt(widgetNotification.innerHTML);\n          var newNumber = widgetNotifcationNumber - notifcationNumber;\n\n          if (newNumber < 1) {\n            widgetNotification.remove();\n          } else {\n            widgetNotification.innerHTML = widgetNotifcationNumber - notifcationNumber;\n          }\n        }\n      }\n\n      notification.remove();\n    }\n\n    var notification2 = document.getElementById(\"chatHomeChatNotification\".concat(chat_id));\n\n    if (notification2) {\n      notification2.remove();\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (PrivateChat);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9wcml2YXRlX2NoYXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9wcml2YXRlX2NoYXQuanM/ZDIwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlclJUIGZyb20gXCIuL3VzZXJfcnRcIlxubGV0IFByaXZhdGVDaGF0ID0ge1xuICBpbml0KGNoYXRfaWQpIHtcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvd1tgcHJpdmF0ZUNoYXQke2NoYXRfaWR9YF1cbiAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgLy8gUHJpdmF0ZUNoYXQudXBkYXRlTm90aWZpY2F0aW9ucyhjaGF0X2lkKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgc29ja2V0ID0gd2luZG93LnVzZXJTb2NrZXRcbiAgICAgIGxldCBjaGF0Q2hhbm5lbCA9IHNvY2tldC5jaGFubmVsKGBwcml2YXRlX2NoYXRfY2hhbm5lbDoke2NoYXRfaWR9YClcbiAgICAgIGNoYXRDaGFubmVsLmpvaW4oKVxuICAgICAgd2luZG93W2Bwcml2YXRlQ2hhdCR7Y2hhdF9pZH1gXSA9IGNoYXRDaGFubmVsXG4gICAgICBQcml2YXRlQ2hhdC5hZGRDaGFubmVsTGlzdGVuZXJzKGNoYXRfaWQpXG4gICAgfVxuICAgIFByaXZhdGVDaGF0LnNjcm9sbFRvQm90dG9tKGNoYXRfaWQpXG4gICAgUHJpdmF0ZUNoYXQuYWRkRXZlbnRMaXN0ZW5lcnMoKVxuICB9LFxuICBzY3JvbGxUb0JvdHRvbShjaGF0X2lkKSB7XG4gICAgbGV0IG1lc3NhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGNoYXRXaWRnZXRNZXNzYWdlcyR7Y2hhdF9pZH1gKVxuICAgIGlmIChtZXNzYWdlcykge1xuICAgICAgbWVzc2FnZXMuc2Nyb2xsVG9wID0gbWVzc2FnZXMuc2Nyb2xsSGVpZ2h0XG4gICAgfVxuICB9LFxuICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICBsZXQgbG9hZE1vcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubG9hZFByaW9yQ2hhdE1lc3NhZ2VzJylcbiAgICBpZiAobG9hZE1vcmUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9hZE1vcmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFsb2FkTW9yZVtpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKSB7XG4gICAgICAgICAgbG9hZE1vcmVbaV0uY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgICBsb2FkTW9yZVtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFByaXZhdGVDaGF0LmxvYWRQcmlvck1lc3NhZ2VzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBhZGRDaGFubmVsTGlzdGVuZXJzKGNoYXRfaWQpIHtcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvd1tgcHJpdmF0ZUNoYXQke2NoYXRfaWR9YF1cbiAgICBjaGFubmVsLm9uKCduZXdfbWVzc2FnZScsIChyZXNwKSA9PiB7XG4gICAgICBQcml2YXRlQ2hhdC5uZXdNZXNzYWdlKHJlc3AsIGNoYXRfaWQpXG5cbiAgICB9KVxuICB9LFxuICBuZXdNZXNzYWdlKHJlc3AsIGNoYXRfaWQpIHtcbiAgICBsZXQgaHRtbCA9IHJlc3AuaHRtbFxuICAgIGlmIChodG1sKSB7XG4gICAgICBsZXQgd2lkZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRXaWRnZXQnKVxuICAgICAgbGV0IG1lc3NhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGNoYXRXaWRnZXRNZXNzYWdlcyR7Y2hhdF9pZH1gKVxuICAgICAgaWYgKG1lc3NhZ2VzICYmIHdpZGdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoaHRtbClcbiAgICAgICAgbWVzc2FnZXMuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpXG4gICAgICAgIFByaXZhdGVDaGF0LnNjcm9sbFRvQm90dG9tKGNoYXRfaWQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBQcml2YXRlQ2hhdC5hZGRDaGF0Tm90aWZpY2F0aW9uKGNoYXRfaWQsIDEpXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBuZXdfbmFtZSA9IHJlc3AubmV3X25hbWVcbiAgICBsZXQgY2hhdCA9IHJlc3AuY2hhdFxuICAgIGlmIChjaGF0ICYmIG5ld19uYW1lKSB7XG4gICAgICBVc2VyUlQudXBkYXRlQ2hhdE5hbWUoY2hhdCwgbmV3X25hbWUpXG4gICAgfVxuICB9LFxuICBsb2FkUHJpb3JNZXNzYWdlcyhlKSB7XG4gICAgbGV0IGNoYXQgPSBlLnRhcmdldC5kYXRhc2V0LmNoYXRcbiAgICBsZXQgbWVzc2FnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAucHJpdmF0ZUNoYXRNZXNzYWdlJHtjaGF0fWApXG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3dbYHByaXZhdGVDaGF0JHtjaGF0fWBdXG4gICAgY2hhbm5lbC5wdXNoKFwibG9hZF9wcmlvcl9tZXNzYWdlc1wiLCB7Y2hhdDogY2hhdCwgbWVzc2FnZV9jb3VudDogbWVzc2FnZXMubGVuZ3RofSlcbiAgICAgIC5yZWNlaXZlKCdvaycsIChyZXNwKSA9PiB7XG4gICAgICAgIGxldCBodG1sID0gcmVzcC5odG1sXG4gICAgICAgIGlmIChodG1sKSB7XG4gICAgICAgICAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBsb2FkUHJpb3JDaGF0TWVzc2FnZXMke2NoYXR9YClcbiAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGh0bWwpXG4gICAgICAgICAgYnV0dG9uLnJlcGxhY2VXaXRoKGZyYWdtZW50KVxuICAgICAgICAgIG1lc3NhZ2VzWzBdLnNjcm9sbEludG9WaWV3SWZOZWVkZWQoKVxuICAgICAgICAgIFByaXZhdGVDaGF0LmFkZEV2ZW50TGlzdGVuZXJzKClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKCdlcnJvcicsIChyZXNwKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xuICAgICAgfSlcbiAgfSxcbiAgYWRkQ2hhdE5vdGlmaWNhdGlvbihjaGF0X2lkLCBjb3VudCkge1xuICAgIGxldCBjaGF0V2lkZ2V0Q2hhdE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2hhdFdpZGdldENoYXROYW1lJHtjaGF0X2lkfWApXG4gICAgaWYgKGNoYXRXaWRnZXRDaGF0TmFtZSkge1xuICAgICAgbGV0IG5vdGlmaWNhdGlvbiA9ICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2hhdFdpZGdldENoYXROb3RpZmljYXRpb24ke2NoYXRfaWR9YClcbiAgICAgIGlmIChub3RpZmljYXRpb24pIHtcbiAgICAgICAgbGV0IG5vdGlmY2F0aW9uTnVtYmVyID0gcGFyc2VJbnQobm90aWZpY2F0aW9uLmlubmVySFRNTClcbiAgICAgICAgbm90aWZpY2F0aW9uLmlubmVySFRNTCA9IG5vdGlmY2F0aW9uTnVtYmVyICsgY291bnRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBub3RpZmljYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBub3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZChcImNoYXQtd2lkZ2V0LWNoYXQtbm90aWZpY2F0aW9uXCIpXG4gICAgICAgIG5vdGlmaWNhdGlvbi5pZCA9IGBjaGF0V2lkZ2V0Q2hhdE5vdGlmaWNhdGlvbiR7Y2hhdF9pZH1gXG4gICAgICAgIG5vdGlmaWNhdGlvbi5pbm5lckhUTUwgPSBjb3VudFxuICAgICAgICBjaGF0V2lkZ2V0Q2hhdE5hbWUuYXBwZW5kQ2hpbGQobm90aWZpY2F0aW9uKVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgY2hhdFdpZGdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0V2lkZ2V0JylcbiAgICBpZiAoY2hhdFdpZGdldCkge1xuICAgICAgbGV0IG5vdGlmaWNhdGlvbiA9ICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdFdpZGdldE5vdGlmaWNhdGlvbicpXG4gICAgICBpZiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIGxldCBub3RpZmNhdGlvbk51bWJlciA9IHBhcnNlSW50KG5vdGlmaWNhdGlvbi5pbm5lckhUTUwpXG4gICAgICAgIG5vdGlmaWNhdGlvbi5pbm5lckhUTUwgPSBub3RpZmNhdGlvbk51bWJlciArIGNvdW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgbm90aWZpY2F0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgbm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoXCJjaGF0LXdpZGdldC1ub3RpZmljYXRpb25cIilcbiAgICAgICAgbm90aWZpY2F0aW9uLmlkID0gJ2NoYXRXaWRnZXROb3RpZmljYXRpb24nXG4gICAgICAgIG5vdGlmaWNhdGlvbi5pbm5lckhUTUwgPSBjb3VudFxuICAgICAgICBjaGF0V2lkZ2V0LmFwcGVuZENoaWxkKG5vdGlmaWNhdGlvbilcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHVwZGF0ZU5vdGlmaWNhdGlvbnMoY2hhdF9pZCkge1xuICAgIGxldCBub3RpZmljYXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2hhdFdpZGdldENoYXROb3RpZmljYXRpb24ke2NoYXRfaWR9YClcbiAgICBpZiAobm90aWZpY2F0aW9uKSB7XG4gICAgICBsZXQgY2hhdFdpZGdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0V2lkZ2V0JylcbiAgICAgIGlmIChjaGF0V2lkZ2V0KSB7XG4gICAgICAgIGxldCBub3RpZmNhdGlvbk51bWJlciA9IHBhcnNlSW50KG5vdGlmaWNhdGlvbi5pbm5lckhUTUwpXG4gICAgICAgIGxldCB3aWRnZXROb3RpZmljYXRpb24gPSAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRXaWRnZXROb3RpZmljYXRpb24nKVxuICAgICAgICBpZiAod2lkZ2V0Tm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgbGV0IHdpZGdldE5vdGlmY2F0aW9uTnVtYmVyID0gcGFyc2VJbnQod2lkZ2V0Tm90aWZpY2F0aW9uLmlubmVySFRNTClcbiAgICAgICAgICBsZXQgbmV3TnVtYmVyID0gd2lkZ2V0Tm90aWZjYXRpb25OdW1iZXIgLSBub3RpZmNhdGlvbk51bWJlclxuICAgICAgICAgIGlmIChuZXdOdW1iZXIgPCAxKSB7XG4gICAgICAgICAgICB3aWRnZXROb3RpZmljYXRpb24ucmVtb3ZlKClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2lkZ2V0Tm90aWZpY2F0aW9uLmlubmVySFRNTCA9IHdpZGdldE5vdGlmY2F0aW9uTnVtYmVyIC0gbm90aWZjYXRpb25OdW1iZXJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vdGlmaWNhdGlvbi5yZW1vdmUoKVxuICAgIH1cbiAgICBsZXQgbm90aWZpY2F0aW9uMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjaGF0SG9tZUNoYXROb3RpZmljYXRpb24ke2NoYXRfaWR9YClcbiAgICBpZiAobm90aWZpY2F0aW9uMikge1xuICAgICAgbm90aWZpY2F0aW9uMi5yZW1vdmUoKVxuICAgIH1cbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgUHJpdmF0ZUNoYXRcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBbElBO0FBb0lBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/private_chat.js\n");

/***/ }),

/***/ "./js/subcamps.js":
/*!************************!*\
  !*** ./js/subcamps.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _user_camp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user_camp */ \"./js/user_camp.js\");\n\nvar Subcamps = {\n  init: function init() {\n    Subcamps.addEventListeners();\n  },\n  addEventListeners: function addEventListeners() {\n    var subcampSortSelect = document.getElementById('subcampSortSelect');\n\n    if (subcampSortSelect) {\n      if (!subcampSortSelect.classList.contains('listening')) {\n        subcampSortSelect.classList.add('listening');\n        subcampSortSelect.addEventListener('change', Subcamps.sortSelected);\n      }\n    }\n\n    var subcampsSortDateInput = document.getElementById('subcampsSortDateInput');\n\n    if (subcampsSortDateInput) {\n      if (!subcampsSortDateInput.classList.contains('listening')) {\n        subcampsSortDateInput.classList.add('listening');\n        subcampsSortDateInput.addEventListener('change', Subcamps.dateSelected);\n      }\n    }\n  },\n  sortSelected: function sortSelected(e) {\n    var sort_by = e.target.value;\n\n    if (sort_by == \"day\" || sort_by == \"week\") {\n      var subcampsSortDateInput = document.getElementById('subcampsSortDateInput');\n\n      if (subcampsSortDateInput) {\n        subcampsSortDateInput.classList.add('active');\n      }\n\n      var subcampsList = document.getElementById('subcampsList');\n      subcampsList.innerHTML = \"Select Date\";\n    } else {\n      var _subcampsSortDateInput = document.getElementById('subcampsSortDateInput');\n\n      if (_subcampsSortDateInput) {\n        _subcampsSortDateInput.classList.remove('active');\n      }\n\n      var channel = window.userCampChannel;\n      channel.push(\"sort_subcamps\", {\n        sort_by: sort_by\n      }).receive(\"ok\", function (resp) {\n        _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"subcampsList\");\n      });\n    }\n  },\n  dateSelected: function dateSelected(e) {\n    var date = e.target.value;\n    var subcampSortSelect = document.getElementById('subcampSortSelect');\n    var sort_by = subcampSortSelect.value;\n    var channel = window.userCampChannel;\n    channel.push(\"sort_subcamps\", {\n      date: date,\n      sort_by: sort_by\n    }).receive(\"ok\", function (resp) {\n      _user_camp__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"subcampsList\");\n    });\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Subcamps);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9zdWJjYW1wcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL3N1YmNhbXBzLmpzP2FkYjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXJDYW1wIGZyb20gJy4vdXNlcl9jYW1wJ1xubGV0IFN1YmNhbXBzID0ge1xuICBpbml0KCkge1xuICAgIFN1YmNhbXBzLmFkZEV2ZW50TGlzdGVuZXJzKClcbiAgfSxcbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgbGV0IHN1YmNhbXBTb3J0U2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YmNhbXBTb3J0U2VsZWN0JylcbiAgICBpZiAoc3ViY2FtcFNvcnRTZWxlY3QpIHtcbiAgICAgIGlmICghc3ViY2FtcFNvcnRTZWxlY3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSkge1xuICAgICAgICBzdWJjYW1wU29ydFNlbGVjdC5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICBzdWJjYW1wU29ydFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBTdWJjYW1wcy5zb3J0U2VsZWN0ZWQpXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBzdWJjYW1wc1NvcnREYXRlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ViY2FtcHNTb3J0RGF0ZUlucHV0JylcbiAgICBpZiAoc3ViY2FtcHNTb3J0RGF0ZUlucHV0KSB7XG4gICAgICBpZiAoIXN1YmNhbXBzU29ydERhdGVJbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKSB7XG4gICAgICAgIHN1YmNhbXBzU29ydERhdGVJbnB1dC5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICBzdWJjYW1wc1NvcnREYXRlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgU3ViY2FtcHMuZGF0ZVNlbGVjdGVkKVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgc29ydFNlbGVjdGVkKGUpIHtcbiAgICBsZXQgc29ydF9ieSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgaWYgKHNvcnRfYnkgPT0gXCJkYXlcIiB8fCBzb3J0X2J5ID09IFwid2Vla1wiKSB7XG4gICAgICBsZXQgc3ViY2FtcHNTb3J0RGF0ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YmNhbXBzU29ydERhdGVJbnB1dCcpXG4gICAgICBpZiAoc3ViY2FtcHNTb3J0RGF0ZUlucHV0KSB7XG4gICAgICAgIHN1YmNhbXBzU29ydERhdGVJbnB1dC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgfVxuICAgICAgbGV0IHN1YmNhbXBzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJjYW1wc0xpc3QnKVxuICAgICAgc3ViY2FtcHNMaXN0LmlubmVySFRNTCA9IFwiU2VsZWN0IERhdGVcIlxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgc3ViY2FtcHNTb3J0RGF0ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YmNhbXBzU29ydERhdGVJbnB1dCcpXG4gICAgICBpZiAoc3ViY2FtcHNTb3J0RGF0ZUlucHV0KSB7XG4gICAgICAgIHN1YmNhbXBzU29ydERhdGVJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgfVxuICAgICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckNhbXBDaGFubmVsXG4gICAgICBjaGFubmVsLnB1c2goXCJzb3J0X3N1YmNhbXBzXCIsIHtzb3J0X2J5OiBzb3J0X2J5fSlcbiAgICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICAgIFVzZXJDYW1wLnB1dFJlc3BUb0RvbShyZXNwLCBcInN1YmNhbXBzTGlzdFwiKVxuICAgICAgICB9KVxuICAgIH1cbiAgfSxcbiAgZGF0ZVNlbGVjdGVkKGUpIHtcbiAgICBsZXQgZGF0ZSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgbGV0IHN1YmNhbXBTb3J0U2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1YmNhbXBTb3J0U2VsZWN0JylcbiAgICBsZXQgc29ydF9ieSA9IHN1YmNhbXBTb3J0U2VsZWN0LnZhbHVlXG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckNhbXBDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwic29ydF9zdWJjYW1wc1wiLCB7ZGF0ZTogZGF0ZSwgc29ydF9ieTogc29ydF9ieX0pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIFVzZXJDYW1wLnB1dFJlc3BUb0RvbShyZXNwLCBcInN1YmNhbXBzTGlzdFwiKVxuICAgICAgfSlcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFN1YmNhbXBzXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFsREE7QUFzREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/subcamps.js\n");

/***/ }),

/***/ "./js/tribe_navigation.js":
/*!********************************!*\
  !*** ./js/tribe_navigation.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar TribeNavigation = {\n  putLoadingGif: function putLoadingGif(id) {\n    var divToReplace = document.getElementById(id);\n    var img = document.createElement('img');\n    img.src = \"/images/loading.gif\";\n    var div = document.createElement('div');\n    div.id = id;\n    div.classList.add('tribe-loading-div');\n    div.appendChild(img);\n    divToReplace.replaceWith(div);\n  },\n  expandMenu: function expandMenu(expanded) {\n    var path = window.location.pathname;\n    path += \"?1=\" + expanded;\n    window.history.pushState(expanded, 'TribeSmith', path);\n  },\n  expandSubMenu: function expandSubMenu(menu, subMenu) {\n    var path = window.location.pathname;\n    path += \"?1=\" + menu;\n    path += \"&2=\" + subMenu;\n    window.history.pushState(path, 'TribeSmith', path);\n  },\n  setHistoryReload: function setHistoryReload() {\n    window.onpopstate = function (e) {\n      location.reload();\n\n      if (e.state) {// TODO: make this so page is not reloaded but socket connection is maintained and channel function is stored in the state.\n      }\n    };\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (TribeNavigation);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy90cmliZV9uYXZpZ2F0aW9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvdHJpYmVfbmF2aWdhdGlvbi5qcz82ZWM3Il0sInNvdXJjZXNDb250ZW50IjpbImxldCBUcmliZU5hdmlnYXRpb24gPSB7XG4gIHB1dExvYWRpbmdHaWYoaWQpIHtcbiAgICBsZXQgZGl2VG9SZXBsYWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpXG4gICAgbGV0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gICAgaW1nLnNyYyA9IFwiL2ltYWdlcy9sb2FkaW5nLmdpZlwiXG4gICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgZGl2LmlkID0gaWRcbiAgICBkaXYuY2xhc3NMaXN0LmFkZCgndHJpYmUtbG9hZGluZy1kaXYnKVxuICAgIGRpdi5hcHBlbmRDaGlsZChpbWcpXG4gICAgZGl2VG9SZXBsYWNlLnJlcGxhY2VXaXRoKGRpdilcbiAgfSxcbiAgZXhwYW5kTWVudShleHBhbmRlZCkge1xuICAgIGxldCBwYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lXG4gICAgcGF0aCArPSBcIj8xPVwiICsgZXhwYW5kZWRcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoZXhwYW5kZWQsICdUcmliZVNtaXRoJywgcGF0aCk7XG4gIH0sXG4gIGV4cGFuZFN1Yk1lbnUobWVudSwgc3ViTWVudSkge1xuICAgIGxldCBwYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lXG4gICAgcGF0aCArPSBcIj8xPVwiICsgbWVudVxuICAgIHBhdGggKz0gXCImMj1cIiArIHN1Yk1lbnVcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUocGF0aCwgJ1RyaWJlU21pdGgnLCBwYXRoKTtcbiAgfSxcbiAgc2V0SGlzdG9yeVJlbG9hZCgpIHtcbiAgICB3aW5kb3cub25wb3BzdGF0ZSA9IGZ1bmN0aW9uKGUpe1xuICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICBpZihlLnN0YXRlKXtcbiAgICAgICAgLy8gVE9ETzogbWFrZSB0aGlzIHNvIHBhZ2UgaXMgbm90IHJlbG9hZGVkIGJ1dCBzb2NrZXQgY29ubmVjdGlvbiBpcyBtYWludGFpbmVkIGFuZCBjaGFubmVsIGZ1bmN0aW9uIGlzIHN0b3JlZCBpbiB0aGUgc3RhdGUuXG4gICAgICB9XG4gICAgfVxuICB9XG5cbn1cbmV4cG9ydCBkZWZhdWx0IFRyaWJlTmF2aWdhdGlvblxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQTdCQTtBQWdDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/tribe_navigation.js\n");

/***/ }),

/***/ "./js/user.js":
/*!********************!*\
  !*** ./js/user.js ***!
  \********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var phoenix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phoenix */ \"../../../deps/phoenix/priv/static/phoenix.js\");\n/* harmony import */ var phoenix__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phoenix__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _user_home__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./user_home */ \"./js/user_home.js\");\n/* harmony import */ var _user_rt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./user_rt */ \"./js/user_rt.js\");\n/* harmony import */ var _user_camp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user_camp */ \"./js/user_camp.js\");\n\n\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  var userToken = window.userToken;\n  var userLocation = window.userLocation;\n\n  if (userToken && userLocation && userToken != \"\") {\n    var user_socket = new phoenix__WEBPACK_IMPORTED_MODULE_0__[\"Socket\"](\"/user_socket\", {\n      params: {\n        token: userToken\n      } // logger: (kind, msg, data) => { console.log(`${kind}: ${msg}`, data)}\n\n    });\n    user_socket.connect();\n    window.userSocket = user_socket;\n    _user_rt__WEBPACK_IMPORTED_MODULE_2__[\"default\"].init();\n\n    if (userLocation == \"home\") {\n      var userHomeChannel = user_socket.channel(\"user_home_channel\");\n      userHomeChannel.join().receive(\"ok\", function (resp) {\n        _user_home__WEBPACK_IMPORTED_MODULE_1__[\"default\"].init(userHomeChannel);\n      }).receive(\"error\", function (resp) {\n        console.log(\"failed to join user home channel\");\n        console.log(resp);\n      });\n    } else if (userLocation == \"camp\") {\n      var userCampChannel = user_socket.channel(\"user_camp_channel:\".concat(window.tribeId));\n      userCampChannel.join().receive(\"ok\", function (resp) {\n        _user_camp__WEBPACK_IMPORTED_MODULE_3__[\"default\"].init(userCampChannel);\n      }).receive(\"error\", function (resp) {\n        console.log(\"failed to join tribe home channel\");\n        console.log(resp);\n      });\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy91c2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvdXNlci5qcz9jODFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7U29ja2V0fSBmcm9tIFwicGhvZW5peFwiXG5pbXBvcnQgVXNlckhvbWUgZnJvbSBcIi4vdXNlcl9ob21lXCJcbmltcG9ydCBVc2VyUlQgZnJvbSBcIi4vdXNlcl9ydFwiXG5pbXBvcnQgVXNlckNhbXAgZnJvbSBcIi4vdXNlcl9jYW1wXCJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gIGxldCB1c2VyVG9rZW4gPSB3aW5kb3cudXNlclRva2VuXG4gIGxldCB1c2VyTG9jYXRpb24gPSB3aW5kb3cudXNlckxvY2F0aW9uXG4gIGlmICh1c2VyVG9rZW4gJiYgdXNlckxvY2F0aW9uICYmIHVzZXJUb2tlbiAhPSBcIlwiKSB7XG4gICAgbGV0IHVzZXJfc29ja2V0ID0gbmV3IFNvY2tldChcIi91c2VyX3NvY2tldFwiLCB7XG4gICAgICBwYXJhbXM6IHt0b2tlbjogdXNlclRva2VufSxcbiAgICAgIC8vIGxvZ2dlcjogKGtpbmQsIG1zZywgZGF0YSkgPT4geyBjb25zb2xlLmxvZyhgJHtraW5kfTogJHttc2d9YCwgZGF0YSl9XG4gICAgfSlcbiAgICB1c2VyX3NvY2tldC5jb25uZWN0KClcbiAgICB3aW5kb3cudXNlclNvY2tldCA9IHVzZXJfc29ja2V0XG5cbiAgICBVc2VyUlQuaW5pdCgpXG4gICAgaWYgKHVzZXJMb2NhdGlvbiA9PSBcImhvbWVcIikge1xuXG4gICAgICBsZXQgdXNlckhvbWVDaGFubmVsID0gdXNlcl9zb2NrZXQuY2hhbm5lbChcInVzZXJfaG9tZV9jaGFubmVsXCIpXG4gICAgICB1c2VySG9tZUNoYW5uZWwuam9pbigpXG4gICAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgICBVc2VySG9tZS5pbml0KHVzZXJIb21lQ2hhbm5lbClcbiAgICAgICAgfSlcbiAgICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzcCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmFpbGVkIHRvIGpvaW4gdXNlciBob21lIGNoYW5uZWxcIik7XG4gICAgICAgICAgY29uc29sZS5sb2cocmVzcCk7XG4gICAgICAgIH0pXG4gICAgfSBlbHNlIGlmICh1c2VyTG9jYXRpb24gPT0gXCJjYW1wXCIpIHtcbiAgICAgIGxldCB1c2VyQ2FtcENoYW5uZWwgPSB1c2VyX3NvY2tldC5jaGFubmVsKGB1c2VyX2NhbXBfY2hhbm5lbDoke3dpbmRvdy50cmliZUlkfWApXG4gICAgICB1c2VyQ2FtcENoYW5uZWwuam9pbigpXG4gICAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgICBVc2VyQ2FtcC5pbml0KHVzZXJDYW1wQ2hhbm5lbClcbiAgICAgICAgfSlcbiAgICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzcCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmFpbGVkIHRvIGpvaW4gdHJpYmUgaG9tZSBjaGFubmVsXCIpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xuICAgICAgICB9KVxuICAgIH1cbiAgfVxufSlcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/user.js\n");

/***/ }),

/***/ "./js/user_activity.js":
/*!*****************************!*\
  !*** ./js/user_activity.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar UserActivity = {\n  init: function init() {}\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserActivity);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy91c2VyX2FjdGl2aXR5LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvdXNlcl9hY3Rpdml0eS5qcz83NmJhIl0sInNvdXJjZXNDb250ZW50IjpbImxldCBVc2VyQWN0aXZpdHkgPSB7XG4gIGluaXQoKSB7XG5cbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgVXNlckFjdGl2aXR5XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQURBO0FBS0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/user_activity.js\n");

/***/ }),

/***/ "./js/user_camp.js":
/*!*************************!*\
  !*** ./js/user_camp.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _tribe_navigation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tribe_navigation */ \"./js/tribe_navigation.js\");\n/* harmony import */ var _board__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./board */ \"./js/board.js\");\n/* harmony import */ var _audio__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./audio */ \"./js/audio.js\");\n/* harmony import */ var _images__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./images */ \"./js/images.js\");\n/* harmony import */ var _opponents__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./opponents */ \"./js/opponents.js\");\n/* harmony import */ var _chat_room__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chat_room */ \"./js/chat_room.js\");\n/* harmony import */ var _subcamps__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./subcamps */ \"./js/subcamps.js\");\n/* harmony import */ var _manifesto__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./manifesto */ \"./js/manifesto.js\");\n\n\n\n\n\n\n\n\nvar UserCamp = {\n  init: function init(channel) {\n    window.userCampChannel = channel;\n    UserCamp.setEventListeners();\n    _tribe_navigation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setHistoryReload();\n    _opponents__WEBPACK_IMPORTED_MODULE_4__[\"default\"].init();\n    var search = window.location.search.split(\"=\")[1];\n\n    if (search == null) {// TribeNavigation.expandMenu('overview')\n    } else {\n      var search_split = search.split(\"&\")[0];\n\n      switch (search_split) {\n        case \"overview\":\n          UserCamp.initOverview();\n          break;\n\n        case \"board\":\n          UserCamp.initBoard();\n          break;\n\n        case \"discussion\":\n          UserCamp.initDiscussion();\n          break;\n\n        case \"opponents\":\n          _opponents__WEBPACK_IMPORTED_MODULE_4__[\"default\"].init();\n          break;\n\n        case \"subcamps\":\n          _subcamps__WEBPACK_IMPORTED_MODULE_6__[\"default\"].init();\n          break;\n\n        case \"manifesto\":\n          _manifesto__WEBPACK_IMPORTED_MODULE_7__[\"default\"].init();\n          break;\n      }\n    }\n  },\n  setEventListeners: function setEventListeners() {\n    var campOverviewNav = document.querySelectorAll('.campOverviewNav');\n\n    if (campOverviewNav) {\n      for (var i = 0; i < campOverviewNav.length; i++) {\n        if (!campOverviewNav[i].classList.contains('listening')) {\n          campOverviewNav[i].classList.add('listening');\n          campOverviewNav[i].addEventListener('click', UserCamp.expandOverviewNav);\n        }\n      }\n    }\n\n    var campBoardNav = document.querySelectorAll('.campBoardNav ');\n\n    if (campBoardNav) {\n      for (var i = 0; i < campBoardNav.length; i++) {\n        if (!campBoardNav[i].classList.contains('listening')) {\n          campBoardNav[i].classList.add('listening');\n          campBoardNav[i].addEventListener('click', UserCamp.expandBoardNav);\n        }\n      }\n    }\n\n    var campDiscussionNav = document.querySelectorAll('.campDiscussionNav ');\n\n    if (campDiscussionNav) {\n      for (var i = 0; i < campDiscussionNav.length; i++) {\n        if (!campDiscussionNav[i].classList.contains('listening')) {\n          campDiscussionNav[i].classList.add('listening');\n          campDiscussionNav[i].addEventListener('click', UserCamp.expandDiscussionNav);\n        }\n      }\n    }\n\n    var campManifestoNav = document.querySelectorAll('.campManifestoNav');\n\n    if (campManifestoNav) {\n      for (var i = 0; i < campManifestoNav.length; i++) {\n        if (!campManifestoNav[i].classList.contains('listening')) {\n          campManifestoNav[i].classList.add('listening');\n          campManifestoNav[i].addEventListener('click', UserCamp.expandManifestoNav);\n        }\n      }\n    }\n\n    var campMainNav = document.querySelectorAll('.campMainNav');\n\n    if (campMainNav) {\n      for (var i = 0; i < campMainNav.length; i++) {\n        if (!campMainNav[i].classList.contains('listening')) {\n          campMainNav[i].classList.add('listening');\n          campMainNav[i].addEventListener('click', UserCamp.expandMainNav);\n        }\n      }\n    }\n  },\n  expandOverviewNav: function expandOverviewNav(e) {\n    var target = e.target;\n    console.log(target.dataset);\n    var channel = window.userCampChannel;\n    channel.push(\"expand_overview\", {\n      action: target.dataset.action\n    }).receive(\"ok\", function (resp) {\n      _tribe_navigation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].expandSubMenu('overview', target.dataset.action);\n      UserCamp.putRespToDom(resp, target.dataset.location);\n      UserCamp.initOverview();\n      UserCamp.makeButtonActive(target, \".campOverviewNav\");\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  expandBoardNav: function expandBoardNav(e) {\n    var target = e.target;\n    console.log(target.dataset);\n    var channel = window.userCampChannel;\n    channel.push(\"expand_board\", {\n      action: target.dataset.action\n    }).receive(\"ok\", function (resp) {\n      _tribe_navigation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].expandSubMenu('board', target.dataset.action);\n      UserCamp.putRespToDom(resp, target.dataset.location);\n      UserCamp.initBoard();\n      UserCamp.makeButtonActive(target, \".campBoardNav\");\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  expandDiscussionNav: function expandDiscussionNav(e) {\n    var target = e.target;\n    console.log(target.dataset);\n    var channel = window.userCampChannel;\n    channel.push(\"expand_discussion\", {\n      action: target.dataset.action\n    }).receive(\"ok\", function (resp) {\n      _tribe_navigation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].expandSubMenu('discussion', target.dataset.action);\n      UserCamp.putRespToDom(resp, target.dataset.location);\n      UserCamp.initDiscussion();\n      UserCamp.makeButtonActive(target, \".campDiscussionNav\");\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  expandManifestoNav: function expandManifestoNav(e) {\n    var target = e.target;\n    console.log(target.dataset);\n    var channel = window.userCampChannel;\n    channel.push(\"expand_manifesto\", {\n      action: target.dataset.action\n    }).receive(\"ok\", function (resp) {\n      _tribe_navigation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].expandSubMenu('manifesto', target.dataset.action);\n      UserCamp.putRespToDom(resp, target.dataset.location);\n      UserCamp.setEventListeners();\n      UserCamp.makeButtonActive(target, \".campManifestoNav\");\n      _manifesto__WEBPACK_IMPORTED_MODULE_7__[\"default\"].init();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  expandMainNav: function expandMainNav(e) {\n    var target = e.target;\n    console.log(target.dataset);\n    var channel = window.userCampChannel;\n    channel.push(\"expand_menu\", {\n      expand: target.dataset.expand\n    }).receive(\"ok\", function (resp) {\n      _tribe_navigation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].expandMenu(target.dataset.expand);\n      UserCamp.putRespToDom(resp, \"campMainExpand\");\n      UserCamp.setEventListeners();\n      UserCamp.makeButtonActive(target, \".campMainNav\");\n\n      switch (target.dataset.expand) {\n        case \"overview\":\n          UserCamp.initOverview();\n          break;\n\n        case \"board\":\n          UserCamp.initBoard();\n          break;\n\n        case \"discussion\":\n          UserCamp.initDiscussion();\n          break;\n\n        case \"manifesto\":\n          _manifesto__WEBPACK_IMPORTED_MODULE_7__[\"default\"].init();\n          break;\n\n        case \"manage\":\n          _subcamps__WEBPACK_IMPORTED_MODULE_6__[\"default\"].init();\n          break;\n      }\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  initOverview: function initOverview() {\n    _subcamps__WEBPACK_IMPORTED_MODULE_6__[\"default\"].init();\n    _opponents__WEBPACK_IMPORTED_MODULE_4__[\"default\"].init();\n  },\n  initBoard: function initBoard() {\n    _board__WEBPACK_IMPORTED_MODULE_1__[\"default\"].init();\n  },\n  initDiscussion: function initDiscussion() {\n    _chat_room__WEBPACK_IMPORTED_MODULE_5__[\"default\"].init();\n    _audio__WEBPACK_IMPORTED_MODULE_2__[\"default\"].init();\n  },\n  initChatRoom: function initChatRoom() {\n    console.log('initChatRoom');\n    UserCamp.pushToChannel('init_chat_room', _chat_room__WEBPACK_IMPORTED_MODULE_5__[\"default\"].init, \"chat_room\");\n  },\n  initImages: function initImages() {\n    console.log('initImages');\n    UserCamp.pushToChannel('init_images', _images__WEBPACK_IMPORTED_MODULE_3__[\"default\"].init, \"images\");\n  },\n  initCreateSubtribe: function initCreateSubtribe() {\n    console.log('initCreateSubtribe');\n    UserCamp.pushToChannel('init_create_subtribe', null, \"create_subtribe\");\n  },\n  initLeaveTribe: function initLeaveTribe() {\n    console.log('initLeave');\n    UserCamp.pushToChannel('init_leave', null, \"leave\");\n  },\n  initJoin: function initJoin() {\n    console.log('initJoin');\n    UserCamp.pushToChannel('init_join', null, \"join\");\n  },\n  makeButtonActive: function makeButtonActive(button, buttonClass) {\n    var buttons = document.querySelectorAll(buttonClass);\n\n    for (var i = 0; i < buttons.length; i++) {\n      buttons[i].classList.remove('active');\n    }\n\n    button.classList.add('active');\n    button.blur();\n  },\n  pushToChannel: function pushToChannel(message) {\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var expanded = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var channel = window.userCampChannel;\n    _tribe_navigation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putLoadingGif('userTribeDiv');\n    channel.push(message, {}).receive(\"ok\", function (resp) {\n      UserCamp.putRespToDom(resp, 'userTribeDiv');\n\n      if (expanded) {\n        _tribe_navigation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].expandMenu(expanded);\n      }\n\n      if (callback) {\n        callback();\n      }\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  putRespToDom: function putRespToDom(resp, id_to_replace) {\n    var new_id = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var html = resp[\"html\"];\n\n    if (html) {\n      var div = document.getElementById(id_to_replace);\n\n      if (div) {\n        var fragment = document.createRange().createContextualFragment(html);\n        div.replaceWith(fragment);\n\n        if (new_id) {\n          var new_div = document.getElementById(new_id);\n\n          if (new_div) {\n            new_div.scrollIntoViewIfNeeded();\n          }\n        }\n      }\n    } else {\n      console.log('nohtml');\n    }\n  },\n  appendRespToDom: function appendRespToDom(resp, id) {\n    var html = resp[\"html\"];\n\n    if (html) {\n      var div = document.getElementById(id);\n\n      if (div) {\n        var fragment = document.createRange().createContextualFragment(html);\n        div.appendChild(fragment);\n      } else {\n        console.log('no parent');\n      }\n    } else {\n      console.log('no html');\n    }\n  },\n  prependRespToDom: function prependRespToDom(resp, id) {\n    var html = resp[\"html\"];\n\n    if (html) {\n      var div = document.getElementById(id);\n\n      if (div) {\n        var fragment = document.createRange().createContextualFragment(html);\n        div.appendChild(fragment);\n      } else {\n        console.log('no parent');\n      }\n    } else {\n      console.log('no html');\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserCamp);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy91c2VyX2NhbXAuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy91c2VyX2NhbXAuanM/ZjcwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVHJpYmVOYXZpZ2F0aW9uIGZyb20gXCIuL3RyaWJlX25hdmlnYXRpb25cIlxuaW1wb3J0IEJvYXJkIGZyb20gXCIuL2JvYXJkXCJcbmltcG9ydCBBdWRpbyBmcm9tIFwiLi9hdWRpb1wiXG5pbXBvcnQgSW1hZ2VzIGZyb20gXCIuL2ltYWdlc1wiXG5pbXBvcnQgT3Bwb25lbnRzIGZyb20gXCIuL29wcG9uZW50c1wiXG5pbXBvcnQgQ2hhdFJvb20gZnJvbSBcIi4vY2hhdF9yb29tXCJcbmltcG9ydCBTdWJjYW1wcyBmcm9tIFwiLi9zdWJjYW1wc1wiXG5pbXBvcnQgTWFuaWZlc3RvIGZyb20gXCIuL21hbmlmZXN0b1wiXG5sZXQgVXNlckNhbXAgPSB7XG4gIGluaXQoY2hhbm5lbCkge1xuICAgIHdpbmRvdy51c2VyQ2FtcENoYW5uZWwgPSBjaGFubmVsXG4gICAgVXNlckNhbXAuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuICAgIFRyaWJlTmF2aWdhdGlvbi5zZXRIaXN0b3J5UmVsb2FkKClcbiAgICBPcHBvbmVudHMuaW5pdCgpXG4gICAgbGV0IHNlYXJjaCA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3BsaXQoXCI9XCIpWzFdXG4gICAgaWYgKHNlYXJjaCA9PSBudWxsKSB7XG4gICAgICAvLyBUcmliZU5hdmlnYXRpb24uZXhwYW5kTWVudSgnb3ZlcnZpZXcnKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgc2VhcmNoX3NwbGl0ID0gc2VhcmNoLnNwbGl0KFwiJlwiKVswXVxuICAgICAgc3dpdGNoKHNlYXJjaF9zcGxpdCkge1xuICAgICAgICBjYXNlIFwib3ZlcnZpZXdcIjpcbiAgICAgICAgICBVc2VyQ2FtcC5pbml0T3ZlcnZpZXcoKVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYm9hcmRcIjpcbiAgICAgICAgICBVc2VyQ2FtcC5pbml0Qm9hcmQoKVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGlzY3Vzc2lvblwiOlxuICAgICAgICAgIFVzZXJDYW1wLmluaXREaXNjdXNzaW9uKClcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9wcG9uZW50c1wiOlxuICAgICAgICAgIE9wcG9uZW50cy5pbml0KClcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN1YmNhbXBzXCI6XG4gICAgICAgICAgU3ViY2FtcHMuaW5pdCgpXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtYW5pZmVzdG9cIjpcbiAgICAgICAgICBNYW5pZmVzdG8uaW5pdCgpXG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBsZXQgY2FtcE92ZXJ2aWV3TmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbXBPdmVydmlld05hdicpXG4gICAgaWYgKGNhbXBPdmVydmlld05hdikge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYW1wT3ZlcnZpZXdOYXYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFjYW1wT3ZlcnZpZXdOYXZbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSkge1xuICAgICAgICAgIGNhbXBPdmVydmlld05hdltpXS5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICAgIGNhbXBPdmVydmlld05hdltpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFVzZXJDYW1wLmV4cGFuZE92ZXJ2aWV3TmF2KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBjYW1wQm9hcmROYXYgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbXBCb2FyZE5hdiAnKVxuICAgIGlmIChjYW1wQm9hcmROYXYgKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbXBCb2FyZE5hdiAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFjYW1wQm9hcmROYXYgW2ldLmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpIHtcbiAgICAgICAgICBjYW1wQm9hcmROYXYgW2ldLmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgICAgY2FtcEJvYXJkTmF2IFtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFVzZXJDYW1wLmV4cGFuZEJvYXJkTmF2KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBjYW1wRGlzY3Vzc2lvbk5hdiAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FtcERpc2N1c3Npb25OYXYgJylcbiAgICBpZiAoY2FtcERpc2N1c3Npb25OYXYgKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbXBEaXNjdXNzaW9uTmF2IC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWNhbXBEaXNjdXNzaW9uTmF2IFtpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKSB7XG4gICAgICAgICAgY2FtcERpc2N1c3Npb25OYXYgW2ldLmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgICAgY2FtcERpc2N1c3Npb25OYXYgW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgVXNlckNhbXAuZXhwYW5kRGlzY3Vzc2lvbk5hdilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgY2FtcE1hbmlmZXN0b05hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYW1wTWFuaWZlc3RvTmF2JylcbiAgICBpZiAoY2FtcE1hbmlmZXN0b05hdikge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYW1wTWFuaWZlc3RvTmF2Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghY2FtcE1hbmlmZXN0b05hdltpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKSB7XG4gICAgICAgICAgY2FtcE1hbmlmZXN0b05hdltpXS5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICAgIGNhbXBNYW5pZmVzdG9OYXZbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBVc2VyQ2FtcC5leHBhbmRNYW5pZmVzdG9OYXYpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNhbXBNYWluTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhbXBNYWluTmF2JylcbiAgICBpZiAoY2FtcE1haW5OYXYpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FtcE1haW5OYXYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFjYW1wTWFpbk5hdltpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKSB7XG4gICAgICAgICAgY2FtcE1haW5OYXZbaV0uY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgICBjYW1wTWFpbk5hdltpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFVzZXJDYW1wLmV4cGFuZE1haW5OYXYpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGV4cGFuZE92ZXJ2aWV3TmF2KGUpIHtcbiAgICBsZXQgdGFyZ2V0ID0gZS50YXJnZXRcbiAgICBjb25zb2xlLmxvZyh0YXJnZXQuZGF0YXNldCk7XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckNhbXBDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwiZXhwYW5kX292ZXJ2aWV3XCIsIHthY3Rpb246IHRhcmdldC5kYXRhc2V0LmFjdGlvbn0pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIFRyaWJlTmF2aWdhdGlvbi5leHBhbmRTdWJNZW51KCdvdmVydmlldycsIHRhcmdldC5kYXRhc2V0LmFjdGlvbilcbiAgICAgICAgVXNlckNhbXAucHV0UmVzcFRvRG9tKHJlc3AsIHRhcmdldC5kYXRhc2V0LmxvY2F0aW9uKVxuICAgICAgICBVc2VyQ2FtcC5pbml0T3ZlcnZpZXcoKVxuICAgICAgICBVc2VyQ2FtcC5tYWtlQnV0dG9uQWN0aXZlKHRhcmdldCwgXCIuY2FtcE92ZXJ2aWV3TmF2XCIpXG4gICAgICB9KVxuICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzcCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgIH0pXG4gIH0sXG4gIGV4cGFuZEJvYXJkTmF2KGUpIHtcbiAgICBsZXQgdGFyZ2V0ID0gZS50YXJnZXRcbiAgICBjb25zb2xlLmxvZyh0YXJnZXQuZGF0YXNldCk7XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckNhbXBDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwiZXhwYW5kX2JvYXJkXCIsIHthY3Rpb246IHRhcmdldC5kYXRhc2V0LmFjdGlvbn0pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIFRyaWJlTmF2aWdhdGlvbi5leHBhbmRTdWJNZW51KCdib2FyZCcsIHRhcmdldC5kYXRhc2V0LmFjdGlvbilcbiAgICAgICAgVXNlckNhbXAucHV0UmVzcFRvRG9tKHJlc3AsIHRhcmdldC5kYXRhc2V0LmxvY2F0aW9uKVxuICAgICAgICBVc2VyQ2FtcC5pbml0Qm9hcmQoKVxuICAgICAgICBVc2VyQ2FtcC5tYWtlQnV0dG9uQWN0aXZlKHRhcmdldCwgXCIuY2FtcEJvYXJkTmF2XCIpXG4gICAgICB9KVxuICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzcCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgIH0pXG4gIH0sXG4gIGV4cGFuZERpc2N1c3Npb25OYXYoZSkge1xuICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldFxuICAgIGNvbnNvbGUubG9nKHRhcmdldC5kYXRhc2V0KTtcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyQ2FtcENoYW5uZWxcbiAgICBjaGFubmVsLnB1c2goXCJleHBhbmRfZGlzY3Vzc2lvblwiLCB7YWN0aW9uOiB0YXJnZXQuZGF0YXNldC5hY3Rpb259KVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICBUcmliZU5hdmlnYXRpb24uZXhwYW5kU3ViTWVudSgnZGlzY3Vzc2lvbicsIHRhcmdldC5kYXRhc2V0LmFjdGlvbilcbiAgICAgICAgVXNlckNhbXAucHV0UmVzcFRvRG9tKHJlc3AsIHRhcmdldC5kYXRhc2V0LmxvY2F0aW9uKVxuICAgICAgICBVc2VyQ2FtcC5pbml0RGlzY3Vzc2lvbigpXG4gICAgICAgIFVzZXJDYW1wLm1ha2VCdXR0b25BY3RpdmUodGFyZ2V0LCBcIi5jYW1wRGlzY3Vzc2lvbk5hdlwiKVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcCk7XG4gICAgICB9KVxuICB9LFxuICBleHBhbmRNYW5pZmVzdG9OYXYoZSkge1xuICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldFxuICAgIGNvbnNvbGUubG9nKHRhcmdldC5kYXRhc2V0KTtcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyQ2FtcENoYW5uZWxcbiAgICBjaGFubmVsLnB1c2goXCJleHBhbmRfbWFuaWZlc3RvXCIsIHthY3Rpb246IHRhcmdldC5kYXRhc2V0LmFjdGlvbn0pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIFRyaWJlTmF2aWdhdGlvbi5leHBhbmRTdWJNZW51KCdtYW5pZmVzdG8nLCB0YXJnZXQuZGF0YXNldC5hY3Rpb24pXG4gICAgICAgIFVzZXJDYW1wLnB1dFJlc3BUb0RvbShyZXNwLCB0YXJnZXQuZGF0YXNldC5sb2NhdGlvbilcbiAgICAgICAgVXNlckNhbXAuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuICAgICAgICBVc2VyQ2FtcC5tYWtlQnV0dG9uQWN0aXZlKHRhcmdldCwgXCIuY2FtcE1hbmlmZXN0b05hdlwiKVxuICAgICAgICBNYW5pZmVzdG8uaW5pdCgpXG4gICAgICB9KVxuICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzcCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgIH0pXG4gIH0sXG4gIGV4cGFuZE1haW5OYXYoZSkge1xuICAgIGxldCB0YXJnZXQgPSBlLnRhcmdldFxuICAgIGNvbnNvbGUubG9nKHRhcmdldC5kYXRhc2V0KTtcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyQ2FtcENoYW5uZWxcbiAgICBjaGFubmVsLnB1c2goXCJleHBhbmRfbWVudVwiLCB7ZXhwYW5kOiB0YXJnZXQuZGF0YXNldC5leHBhbmR9KVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICBUcmliZU5hdmlnYXRpb24uZXhwYW5kTWVudSh0YXJnZXQuZGF0YXNldC5leHBhbmQpXG4gICAgICAgIFVzZXJDYW1wLnB1dFJlc3BUb0RvbShyZXNwLCBcImNhbXBNYWluRXhwYW5kXCIpXG4gICAgICAgIFVzZXJDYW1wLnNldEV2ZW50TGlzdGVuZXJzKClcbiAgICAgICAgVXNlckNhbXAubWFrZUJ1dHRvbkFjdGl2ZSh0YXJnZXQsIFwiLmNhbXBNYWluTmF2XCIpXG4gICAgICAgIHN3aXRjaCh0YXJnZXQuZGF0YXNldC5leHBhbmQpIHtcbiAgICAgICAgICBjYXNlIFwib3ZlcnZpZXdcIjpcbiAgICAgICAgICAgIFVzZXJDYW1wLmluaXRPdmVydmlldygpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiYm9hcmRcIjpcbiAgICAgICAgICAgIFVzZXJDYW1wLmluaXRCb2FyZCgpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiZGlzY3Vzc2lvblwiOlxuICAgICAgICAgICAgVXNlckNhbXAuaW5pdERpc2N1c3Npb24oKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm1hbmlmZXN0b1wiOlxuICAgICAgICAgICAgTWFuaWZlc3RvLmluaXQoKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm1hbmFnZVwiOlxuICAgICAgICAgICAgU3ViY2FtcHMuaW5pdCgpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcCk7XG4gICAgICB9KVxuICB9LFxuICBpbml0T3ZlcnZpZXcoKSB7XG4gICAgU3ViY2FtcHMuaW5pdCgpXG4gICAgT3Bwb25lbnRzLmluaXQoKVxuICB9LFxuICBpbml0Qm9hcmQoKSB7XG4gICAgQm9hcmQuaW5pdCgpXG4gIH0sXG4gIGluaXREaXNjdXNzaW9uKCkge1xuICAgIENoYXRSb29tLmluaXQoKVxuICAgIEF1ZGlvLmluaXQoKVxuICB9LFxuICBpbml0Q2hhdFJvb20oKSB7XG4gICAgY29uc29sZS5sb2coJ2luaXRDaGF0Um9vbScpO1xuICAgIFVzZXJDYW1wLnB1c2hUb0NoYW5uZWwoJ2luaXRfY2hhdF9yb29tJywgQ2hhdFJvb20uaW5pdCwgXCJjaGF0X3Jvb21cIilcbiAgfSxcbiAgaW5pdEltYWdlcygpIHtcbiAgICBjb25zb2xlLmxvZygnaW5pdEltYWdlcycpO1xuICAgIFVzZXJDYW1wLnB1c2hUb0NoYW5uZWwoJ2luaXRfaW1hZ2VzJywgSW1hZ2VzLmluaXQsIFwiaW1hZ2VzXCIpXG4gIH0sXG4gIGluaXRDcmVhdGVTdWJ0cmliZSgpIHtcbiAgICBjb25zb2xlLmxvZygnaW5pdENyZWF0ZVN1YnRyaWJlJyk7XG4gICAgVXNlckNhbXAucHVzaFRvQ2hhbm5lbCgnaW5pdF9jcmVhdGVfc3VidHJpYmUnLCBudWxsLCBcImNyZWF0ZV9zdWJ0cmliZVwiKVxuICB9LFxuICBpbml0TGVhdmVUcmliZSgpIHtcbiAgICBjb25zb2xlLmxvZygnaW5pdExlYXZlJyk7XG4gICAgVXNlckNhbXAucHVzaFRvQ2hhbm5lbCgnaW5pdF9sZWF2ZScsIG51bGwsIFwibGVhdmVcIilcbiAgfSxcbiAgaW5pdEpvaW4oKSB7XG4gICAgY29uc29sZS5sb2coJ2luaXRKb2luJyk7XG4gICAgVXNlckNhbXAucHVzaFRvQ2hhbm5lbCgnaW5pdF9qb2luJywgbnVsbCwgXCJqb2luXCIpXG4gIH0sXG4gIG1ha2VCdXR0b25BY3RpdmUoYnV0dG9uLCBidXR0b25DbGFzcykge1xuICAgIGxldCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChidXR0b25DbGFzcyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidXR0b25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBidXR0b25zW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgfVxuICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgIGJ1dHRvbi5ibHVyKClcbiAgfSxcbiAgcHVzaFRvQ2hhbm5lbChtZXNzYWdlLCBjYWxsYmFjayA9IG51bGwsIGV4cGFuZGVkID0gbnVsbCkge1xuICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJDYW1wQ2hhbm5lbFxuICAgIFRyaWJlTmF2aWdhdGlvbi5wdXRMb2FkaW5nR2lmKCd1c2VyVHJpYmVEaXYnKVxuICAgIGNoYW5uZWwucHVzaChtZXNzYWdlLCB7fSlcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgVXNlckNhbXAucHV0UmVzcFRvRG9tKHJlc3AsICd1c2VyVHJpYmVEaXYnKVxuICAgICAgICBpZiAoZXhwYW5kZWQpIHtcbiAgICAgICAgICBUcmliZU5hdmlnYXRpb24uZXhwYW5kTWVudShleHBhbmRlZClcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICBjYWxsYmFjaygpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAucmVjZWl2ZShcImVycm9yXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xuICAgICAgfSlcbiAgfSxcbiAgcHV0UmVzcFRvRG9tKHJlc3AsIGlkX3RvX3JlcGxhY2UsIG5ld19pZCA9IG51bGwpIHtcbiAgICBsZXQgaHRtbCA9IHJlc3BbXCJodG1sXCJdXG5cbiAgICBpZiAoaHRtbCkge1xuICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkX3RvX3JlcGxhY2UpXG4gICAgICBpZiAoZGl2KSB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoaHRtbClcbiAgICAgICAgZGl2LnJlcGxhY2VXaXRoKGZyYWdtZW50KVxuICAgICAgICBpZiAobmV3X2lkKSB7XG4gICAgICAgICAgbGV0IG5ld19kaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuZXdfaWQpXG4gICAgICAgICAgaWYgKG5ld19kaXYpIHtcbiAgICAgICAgICAgIG5ld19kaXYuc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCgpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdub2h0bWwnKTtcbiAgICB9XG4gIH0sXG4gIGFwcGVuZFJlc3BUb0RvbShyZXNwLCBpZCkge1xuICAgIGxldCBodG1sID0gcmVzcFtcImh0bWxcIl1cbiAgICBpZiAoaHRtbCkge1xuICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKVxuICAgICAgaWYgKGRpdikge1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGh0bWwpXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChmcmFnbWVudClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdubyBwYXJlbnQnKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnbm8gaHRtbCcpO1xuICAgIH1cbiAgfSxcbiAgcHJlcGVuZFJlc3BUb0RvbShyZXNwLCBpZCkge1xuICAgIGxldCBodG1sID0gcmVzcFtcImh0bWxcIl1cbiAgICBpZiAoaHRtbCkge1xuICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKVxuICAgICAgaWYgKGRpdikge1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGh0bWwpXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChmcmFnbWVudClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdubyBwYXJlbnQnKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnbm8gaHRtbCcpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBVc2VyQ2FtcFxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBbEJBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBZkE7QUFpQkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5SQTtBQXNSQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/user_camp.js\n");

/***/ }),

/***/ "./js/user_chat.js":
/*!*************************!*\
  !*** ./js/user_chat.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _user_home__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user_home */ \"./js/user_home.js\");\n/* harmony import */ var _user_rt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./user_rt */ \"./js/user_rt.js\");\n/* harmony import */ var _tribe_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tribe_navigation */ \"./js/tribe_navigation.js\");\n\n\n\nvar UserChat = {\n  init: function init(channel) {\n    UserChat.setEventListeners();\n  },\n  setEventListeners: function setEventListeners() {\n    var userChatsSearch = document.getElementById('userChatsSearch');\n\n    if (userChatsSearch) {\n      if (!userChatsSearch.classList.contains(\"listening\")) {\n        userChatsSearch.classList.add('listening');\n        userChatsSearch.addEventListener('change', UserChat.searchChats);\n      }\n    }\n\n    var userChatsSelect = document.getElementById('userChatsSelect');\n\n    if (userChatsSelect) {\n      if (!userChatsSelect.classList.contains(\"listening\")) {\n        userChatsSelect.classList.add('listening');\n        userChatsSelect.addEventListener('change', UserChat.sortChats);\n      }\n    }\n\n    var newChatSubmit = document.getElementById('newChatSubmit');\n\n    if (newChatSubmit) {\n      if (!newChatSubmit.classList.contains(\"listening\")) {\n        newChatSubmit.classList.add('listening');\n        newChatSubmit.addEventListener('click', UserChat.newChatSubmit);\n      }\n    }\n\n    var userChatsNav = document.querySelectorAll('.userChatsNav');\n\n    if (userChatsNav) {\n      for (var i = 0; i < userChatsNav.length; i++) {\n        if (!userChatsNav[i].classList.contains('listening')) {\n          userChatsNav[i].classList.add(\"listening\");\n          userChatsNav[i].addEventListener('click', UserChat.expandNavSelection);\n        }\n      }\n    }\n\n    var newChatContactAdd = document.querySelectorAll('.newChatContactAdd');\n\n    if (newChatContactAdd) {\n      for (var i = 0; i < newChatContactAdd.length; i++) {\n        if (!newChatContactAdd[i].classList.contains('listening')) {\n          newChatContactAdd[i].classList.add(\"listening\");\n          newChatContactAdd[i].addEventListener('click', UserChat.newChatContactAdd);\n        }\n      }\n    }\n\n    var userChatInviteResponseYes = document.querySelectorAll('.userChatInviteResponseYes');\n\n    if (userChatInviteResponseYes) {\n      for (var i = 0; i < userChatInviteResponseYes.length; i++) {\n        if (!userChatInviteResponseYes[i].classList.contains('listening')) {\n          userChatInviteResponseYes[i].classList.add(\"listening\");\n          userChatInviteResponseYes[i].addEventListener('click', UserChat.inviteRespondYes);\n        }\n      }\n    }\n\n    var userChatInviteResponseNo = document.querySelectorAll('.userChatInviteResponseNo');\n\n    if (userChatInviteResponseNo) {\n      for (var i = 0; i < userChatInviteResponseNo.length; i++) {\n        if (!userChatInviteResponseNo[i].classList.contains('listening')) {\n          userChatInviteResponseNo[i].classList.add(\"listening\");\n          userChatInviteResponseNo[i].addEventListener('click', UserChat.inviteRespondNo);\n        }\n      }\n    }\n\n    var userChatInviteDetails = document.querySelectorAll('.userChatInviteDetails');\n\n    if (userChatInviteDetails) {\n      for (var i = 0; i < userChatInviteDetails.length; i++) {\n        if (!userChatInviteDetails[i].classList.contains('listening')) {\n          userChatInviteDetails[i].classList.add(\"listening\");\n          userChatInviteDetails[i].addEventListener('click', UserChat.userChatInviteDetails);\n        }\n      }\n    }\n\n    var openChatButton = document.querySelectorAll('.openChatButton');\n\n    if (openChatButton) {\n      for (var i = 0; i < openChatButton.length; i++) {\n        if (!openChatButton[i].classList.contains('listening')) {\n          openChatButton[i].classList.add('listening');\n          openChatButton[i].addEventListener('click', _user_rt__WEBPACK_IMPORTED_MODULE_1__[\"default\"].toggleChat);\n        }\n      }\n    }\n\n    var editChatButton = document.querySelectorAll('.editChatButton');\n\n    if (editChatButton) {\n      for (var i = 0; i < editChatButton.length; i++) {\n        if (!editChatButton[i].classList.contains('listening')) {\n          editChatButton[i].classList.add('listening');\n          editChatButton[i].addEventListener('click', UserChat.toggleEditChat);\n        }\n      }\n    }\n\n    var chatEditSubmit = document.querySelectorAll('.chatEditSubmit');\n\n    if (chatEditSubmit) {\n      for (var i = 0; i < chatEditSubmit.length; i++) {\n        if (!chatEditSubmit[i].classList.contains('listening')) {\n          chatEditSubmit[i].classList.add('listening');\n          chatEditSubmit[i].addEventListener('click', UserChat.chatEditSubmit);\n        }\n      }\n    }\n\n    var leaveChatButton = document.querySelectorAll('.leaveChatButton');\n\n    if (leaveChatButton) {\n      for (var i = 0; i < leaveChatButton.length; i++) {\n        if (!leaveChatButton[i].classList.contains('listening')) {\n          leaveChatButton[i].classList.add('listening');\n          leaveChatButton[i].addEventListener('click', UserChat.leaveChat);\n        }\n      }\n    }\n  },\n  expandNavSelection: function expandNavSelection(e) {\n    var location = e.target.dataset.nav;\n    _tribe_navigation__WEBPACK_IMPORTED_MODULE_2__[\"default\"].expandSubMenu(\"chat\", location);\n    var channel = window.userHomeChannel;\n    var topic = \"expand_chats_nav_\" + location;\n    UserChat.makeNavButtonActive(e.target);\n    console.log(topic);\n    channel.push(topic, {}).receive(\"ok\", function (resp) {\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"userChatsMain\");\n      UserChat.init();\n    });\n  },\n  expandChatRequests: function expandChatRequests() {\n    var location = \"invitations\";\n    _tribe_navigation__WEBPACK_IMPORTED_MODULE_2__[\"default\"].expandSubMenu(\"chat\", location);\n    var channel = window.userHomeChannel;\n    var topic = \"expand_chats_nav_\" + location;\n    UserChat.makeNavButtonActive(document.getElementById('userChatsNavRequests'));\n    console.log(topic);\n    channel.push(topic, {}).receive(\"ok\", function (resp) {\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"userChatsMain\");\n      UserChat.init();\n    });\n  },\n  makeNavButtonActive: function makeNavButtonActive(button) {\n    var buttons = document.querySelectorAll('.userChatsNav');\n\n    if (buttons) {\n      for (var i = 0; i < buttons.length; i++) {\n        buttons[i].classList.remove(\"active\");\n      }\n    }\n\n    button.classList.add('active');\n  },\n  inviteRespondYes: function inviteRespondYes(e) {\n    var channel = window.userRTChannel;\n    var invite = e.target.dataset.invite;\n    channel.push(\"chat_invite_yes\", {\n      invite: invite\n    }).receive(\"ok\", function (resp) {\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"chatInvitation\".concat(invite));\n      UserChat.setEventListeners();\n    }).receive(\"error\", function (resp) {\n      return console.log(resp);\n    });\n  },\n  inviteRespondNo: function inviteRespondNo(e) {\n    var channel = window.userRTChannel;\n    var invite = e.target.dataset.invite;\n    channel.push(\"chat_invite_no\", {\n      invite: invite\n    }).receive(\"ok\", function (resp) {\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"chatInvitation\".concat(invite));\n      UserChat.setEventListeners();\n    }).receive(\"error\", function (resp) {\n      return console.log(resp);\n    });\n  },\n  sortChats: function sortChats(e) {\n    var channel = window.userHomeChannel;\n    channel.push(\"sort_chats\", {\n      sort_by: e.target.value\n    }).receive(\"ok\", function (resp) {\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"userChatsList\");\n      UserChat.init();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  searchChats: function searchChats(e) {\n    var channel = window.userHomeChannel;\n    channel.push(\"search_chats\", {\n      query: e.target.value\n    }).receive(\"ok\", function (resp) {\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"userChatsList\");\n      UserChat.init();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  userChatInviteDetails: function userChatInviteDetails(e) {\n    var chat = e.target.dataset.chat;\n    var channel = window.userHomeChannel;\n    channel.push(\"chat_invite_details\", {\n      chat: chat\n    }).receive(\"ok\", function (resp) {\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"chatInvitationDetails\".concat(chat));\n      UserChat.init();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  toggleEditChat: function toggleEditChat(e) {\n    var chat = e.target.dataset.chat;\n    var channel = window.userHomeChannel;\n    channel.push(\"toggle_edit_chat\", {\n      chat: chat\n    }).receive(\"ok\", function (resp) {\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].appendRespToDom(resp, \"userChat\".concat(chat));\n      UserChat.replaceButtonWithCancel(e.target);\n      UserChat.init();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  chatEditSubmit: function chatEditSubmit(e) {\n    var chat = e.target.dataset.chat;\n    var input = document.getElementById(\"chatEditNameInput\".concat(chat));\n\n    if (input && input.value != \"\") {\n      var new_name = input.value;\n      var channel = window.userHomeChannel;\n      channel.push(\"chat_edit_submit\", {\n        chat: chat,\n        new_name: new_name\n      }).receive(\"ok\", function (resp) {\n        _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"chatEditForm\".concat(chat));\n        _user_rt__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateChatName(chat, new_name);\n        UserChat.init();\n        var newButton = document.getElementById(\"cancelEdit\".concat(chat));\n\n        if (newButton) {\n          newButton.click();\n        }\n      }).receive(\"error\", function (resp) {\n        console.log(resp);\n      });\n    }\n  },\n  replaceButtonWithCancel: function replaceButtonWithCancel(button) {\n    var newButton = document.createElement('button');\n    newButton.innerHTML = \"Cancel Edit\";\n    newButton.classList.add(\"button-small\");\n    newButton.id = \"cancelEdit\".concat(button.dataset.chat);\n    button.replaceWith(newButton);\n    newButton.addEventListener('click', function (e) {\n      var form = document.getElementById(\"chatEditForm\".concat(button.dataset.chat));\n\n      if (form) {\n        form.remove();\n      }\n\n      newButton.replaceWith(button);\n      UserChat.init();\n    });\n  },\n  leaveChat: function leaveChat(e) {\n    var chat = e.target.dataset.chat;\n    var channel = window.userHomeChannel;\n    channel.push(\"leave_chat\", {\n      chat: chat\n    }).receive(\"ok\", function (resp) {\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"userChat\".concat(chat));\n      _user_rt__WEBPACK_IMPORTED_MODULE_1__[\"default\"].deleteChat(chat);\n      UserChat.init();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  newChatContactAdd: function newChatContactAdd(e) {\n    var contact = e.target.dataset.contact;\n    var newChatContactsList = document.getElementById('newChatContactsList');\n    var newChatContact = document.getElementById(\"newChatContact\".concat(contact));\n    newChatContact.classList.add('newChatContactSelected');\n    newChatContactsList.prepend(newChatContact);\n    var newChatSubmitDiv = document.getElementById('newChatSubmitDiv');\n    newChatSubmitDiv.classList.add('active');\n    newChatContactsList.classList.add('active');\n    UserChat.changeAddButtonToRemove(e.target, contact);\n  },\n  newChatContactRemove: function newChatContactRemove(contact) {\n    var contactsList = document.getElementById('contactsList');\n    var newChatContact = document.getElementById(\"newChatContact\".concat(contact));\n    newChatContact.classList.remove('newChatContactSelected');\n    contactsList.append(newChatContact);\n    var selected = document.querySelectorAll('.newChatContactSelected');\n\n    if (selected.length == 0) {\n      var newChatSubmitDiv = document.getElementById('newChatSubmitDiv');\n      var newChatContactsList = document.getElementById('newChatContactsList');\n      newChatSubmitDiv.classList.remove('active');\n      newChatContactsList.classList.remove('active');\n    }\n  },\n  changeAddButtonToRemove: function changeAddButtonToRemove(button, contact) {\n    var newButton = document.createElement('button');\n    newButton.innerHTML = \"Remove\";\n    newButton.classList.add(\"button-small\");\n    newButton.classList.add(\"newChatContactRemove\");\n    button.replaceWith(newButton);\n    newButton.addEventListener('click', function (e) {\n      UserChat.newChatContactRemove(contact);\n      newButton.replaceWith(button);\n      UserChat.init();\n    });\n  },\n  newChatSubmit: function newChatSubmit(e) {\n    var nameInput = document.getElementById('newChatNameInput');\n    var members = document.querySelectorAll('.newChatContactSelected');\n    var contacts = Array.from(members).map(function (member) {\n      return member.dataset.contact;\n    });\n\n    if (nameInput && nameInput.value != \"\" && contacts.length != 0) {\n      name = nameInput.value;\n      var channel = window.userHomeChannel;\n      channel.push(\"new_chat\", {\n        name: name,\n        contacts: contacts\n      }).receive(\"ok\", function (resp) {\n        UserChat.expandChatRequests();\n      }).receive(\"error\", function (resp) {\n        console.log(resp);\n      });\n    } else if (nameInput.value == \"\") {\n      nameInput.focus();\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserChat);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy91c2VyX2NoYXQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy91c2VyX2NoYXQuanM/OTZjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlckhvbWUgZnJvbSAnLi91c2VyX2hvbWUnXG5pbXBvcnQgVXNlclJUIGZyb20gJy4vdXNlcl9ydCdcbmltcG9ydCBUcmliZU5hdmlnYXRpb24gZnJvbSBcIi4vdHJpYmVfbmF2aWdhdGlvblwiXG5sZXQgVXNlckNoYXQgPSB7XG4gIGluaXQoY2hhbm5lbCkge1xuICAgIFVzZXJDaGF0LnNldEV2ZW50TGlzdGVuZXJzKClcbiAgfSxcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG5cbiAgICBsZXQgdXNlckNoYXRzU2VhcmNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJDaGF0c1NlYXJjaCcpXG4gICAgaWYgKHVzZXJDaGF0c1NlYXJjaCkge1xuICAgICAgaWYgKCF1c2VyQ2hhdHNTZWFyY2guY2xhc3NMaXN0LmNvbnRhaW5zKFwibGlzdGVuaW5nXCIpKSB7XG4gICAgICAgIHVzZXJDaGF0c1NlYXJjaC5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICB1c2VyQ2hhdHNTZWFyY2guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgVXNlckNoYXQuc2VhcmNoQ2hhdHMpXG4gICAgICB9XG4gICAgfVxuICAgIGxldCB1c2VyQ2hhdHNTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlckNoYXRzU2VsZWN0JylcbiAgICBpZiAodXNlckNoYXRzU2VsZWN0KSB7XG4gICAgICBpZiAoIXVzZXJDaGF0c1NlbGVjdC5jbGFzc0xpc3QuY29udGFpbnMoXCJsaXN0ZW5pbmdcIikpIHtcbiAgICAgICAgdXNlckNoYXRzU2VsZWN0LmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgIHVzZXJDaGF0c1NlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBVc2VyQ2hhdC5zb3J0Q2hhdHMpXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBuZXdDaGF0U3VibWl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ld0NoYXRTdWJtaXQnKVxuICAgIGlmIChuZXdDaGF0U3VibWl0KSB7XG4gICAgICBpZiAoIW5ld0NoYXRTdWJtaXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibGlzdGVuaW5nXCIpKSB7XG4gICAgICAgIG5ld0NoYXRTdWJtaXQuY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgbmV3Q2hhdFN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFVzZXJDaGF0Lm5ld0NoYXRTdWJtaXQpXG4gICAgICB9XG4gICAgfVxuICAgIGxldCB1c2VyQ2hhdHNOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudXNlckNoYXRzTmF2JylcbiAgICBpZiAodXNlckNoYXRzTmF2KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVzZXJDaGF0c05hdi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIXVzZXJDaGF0c05hdltpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKSB7XG4gICAgICAgICAgdXNlckNoYXRzTmF2W2ldLmNsYXNzTGlzdC5hZGQoXCJsaXN0ZW5pbmdcIilcbiAgICAgICAgICB1c2VyQ2hhdHNOYXZbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBVc2VyQ2hhdC5leHBhbmROYXZTZWxlY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IG5ld0NoYXRDb250YWN0QWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5ld0NoYXRDb250YWN0QWRkJylcbiAgICBpZiAobmV3Q2hhdENvbnRhY3RBZGQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3Q2hhdENvbnRhY3RBZGQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFuZXdDaGF0Q29udGFjdEFkZFtpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKSB7XG4gICAgICAgICAgbmV3Q2hhdENvbnRhY3RBZGRbaV0uY2xhc3NMaXN0LmFkZChcImxpc3RlbmluZ1wiKVxuICAgICAgICAgIG5ld0NoYXRDb250YWN0QWRkW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgVXNlckNoYXQubmV3Q2hhdENvbnRhY3RBZGQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHVzZXJDaGF0SW52aXRlUmVzcG9uc2VZZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudXNlckNoYXRJbnZpdGVSZXNwb25zZVllcycpXG4gICAgaWYgKHVzZXJDaGF0SW52aXRlUmVzcG9uc2VZZXMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXNlckNoYXRJbnZpdGVSZXNwb25zZVllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIXVzZXJDaGF0SW52aXRlUmVzcG9uc2VZZXNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSkge1xuICAgICAgICAgIHVzZXJDaGF0SW52aXRlUmVzcG9uc2VZZXNbaV0uY2xhc3NMaXN0LmFkZChcImxpc3RlbmluZ1wiKVxuICAgICAgICAgIHVzZXJDaGF0SW52aXRlUmVzcG9uc2VZZXNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBVc2VyQ2hhdC5pbnZpdGVSZXNwb25kWWVzKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCB1c2VyQ2hhdEludml0ZVJlc3BvbnNlTm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudXNlckNoYXRJbnZpdGVSZXNwb25zZU5vJylcbiAgICBpZiAodXNlckNoYXRJbnZpdGVSZXNwb25zZU5vKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVzZXJDaGF0SW52aXRlUmVzcG9uc2VOby5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIXVzZXJDaGF0SW52aXRlUmVzcG9uc2VOb1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKSB7XG4gICAgICAgICAgdXNlckNoYXRJbnZpdGVSZXNwb25zZU5vW2ldLmNsYXNzTGlzdC5hZGQoXCJsaXN0ZW5pbmdcIilcbiAgICAgICAgICB1c2VyQ2hhdEludml0ZVJlc3BvbnNlTm9baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBVc2VyQ2hhdC5pbnZpdGVSZXNwb25kTm8pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHVzZXJDaGF0SW52aXRlRGV0YWlscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy51c2VyQ2hhdEludml0ZURldGFpbHMnKVxuICAgIGlmICh1c2VyQ2hhdEludml0ZURldGFpbHMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXNlckNoYXRJbnZpdGVEZXRhaWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghdXNlckNoYXRJbnZpdGVEZXRhaWxzW2ldLmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpIHtcbiAgICAgICAgICB1c2VyQ2hhdEludml0ZURldGFpbHNbaV0uY2xhc3NMaXN0LmFkZChcImxpc3RlbmluZ1wiKVxuICAgICAgICAgIHVzZXJDaGF0SW52aXRlRGV0YWlsc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFVzZXJDaGF0LnVzZXJDaGF0SW52aXRlRGV0YWlscylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgb3BlbkNoYXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub3BlbkNoYXRCdXR0b24nKVxuICAgIGlmIChvcGVuQ2hhdEJ1dHRvbikge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcGVuQ2hhdEJ1dHRvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIW9wZW5DaGF0QnV0dG9uW2ldLmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpIHtcbiAgICAgICAgICBvcGVuQ2hhdEJ1dHRvbltpXS5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICAgIG9wZW5DaGF0QnV0dG9uW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgVXNlclJULnRvZ2dsZUNoYXQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGVkaXRDaGF0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmVkaXRDaGF0QnV0dG9uJylcbiAgICBpZiAoZWRpdENoYXRCdXR0b24pIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWRpdENoYXRCdXR0b24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFlZGl0Q2hhdEJ1dHRvbltpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKSB7XG4gICAgICAgICAgZWRpdENoYXRCdXR0b25baV0uY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgICBlZGl0Q2hhdEJ1dHRvbltpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFVzZXJDaGF0LnRvZ2dsZUVkaXRDaGF0KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBjaGF0RWRpdFN1Ym1pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGF0RWRpdFN1Ym1pdCcpXG4gICAgaWYgKGNoYXRFZGl0U3VibWl0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXRFZGl0U3VibWl0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghY2hhdEVkaXRTdWJtaXRbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSkge1xuICAgICAgICAgIGNoYXRFZGl0U3VibWl0W2ldLmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgICAgY2hhdEVkaXRTdWJtaXRbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBVc2VyQ2hhdC5jaGF0RWRpdFN1Ym1pdClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbGVhdmVDaGF0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxlYXZlQ2hhdEJ1dHRvbicpXG4gICAgaWYgKGxlYXZlQ2hhdEJ1dHRvbikge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWF2ZUNoYXRCdXR0b24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFsZWF2ZUNoYXRCdXR0b25baV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSkge1xuICAgICAgICAgIGxlYXZlQ2hhdEJ1dHRvbltpXS5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICAgIGxlYXZlQ2hhdEJ1dHRvbltpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFVzZXJDaGF0LmxlYXZlQ2hhdClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZXhwYW5kTmF2U2VsZWN0aW9uKGUpIHtcbiAgICBsZXQgbG9jYXRpb24gPSBlLnRhcmdldC5kYXRhc2V0Lm5hdlxuICAgIFRyaWJlTmF2aWdhdGlvbi5leHBhbmRTdWJNZW51KFwiY2hhdFwiLCBsb2NhdGlvbilcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VySG9tZUNoYW5uZWxcbiAgICBsZXQgdG9waWMgPSBcImV4cGFuZF9jaGF0c19uYXZfXCIgKyBsb2NhdGlvblxuICAgIFVzZXJDaGF0Lm1ha2VOYXZCdXR0b25BY3RpdmUoZS50YXJnZXQpXG4gICAgY29uc29sZS5sb2codG9waWMpO1xuICAgIGNoYW5uZWwucHVzaCh0b3BpYywge30pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIFVzZXJIb21lLnB1dFJlc3BUb0RvbShyZXNwLCBcInVzZXJDaGF0c01haW5cIilcbiAgICAgICAgVXNlckNoYXQuaW5pdCgpXG4gICAgICB9KVxuICB9LFxuICBleHBhbmRDaGF0UmVxdWVzdHMoKSB7XG4gICAgbGV0IGxvY2F0aW9uID0gXCJpbnZpdGF0aW9uc1wiXG4gICAgVHJpYmVOYXZpZ2F0aW9uLmV4cGFuZFN1Yk1lbnUoXCJjaGF0XCIsIGxvY2F0aW9uKVxuICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJIb21lQ2hhbm5lbFxuICAgIGxldCB0b3BpYyA9IFwiZXhwYW5kX2NoYXRzX25hdl9cIiArIGxvY2F0aW9uXG4gICAgVXNlckNoYXQubWFrZU5hdkJ1dHRvbkFjdGl2ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlckNoYXRzTmF2UmVxdWVzdHMnKSlcbiAgICBjb25zb2xlLmxvZyh0b3BpYyk7XG4gICAgY2hhbm5lbC5wdXNoKHRvcGljLCB7fSlcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgVXNlckhvbWUucHV0UmVzcFRvRG9tKHJlc3AsIFwidXNlckNoYXRzTWFpblwiKVxuICAgICAgICBVc2VyQ2hhdC5pbml0KClcbiAgICAgIH0pXG4gIH0sXG4gIG1ha2VOYXZCdXR0b25BY3RpdmUoYnV0dG9uKSB7XG4gICAgbGV0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudXNlckNoYXRzTmF2JylcbiAgICBpZiAoYnV0dG9ucykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidXR0b25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJ1dHRvbnNbaV0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKVxuICAgICAgfVxuICAgIH1cbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgfSxcbiAgaW52aXRlUmVzcG9uZFllcyhlKSB7XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlclJUQ2hhbm5lbFxuICAgIGxldCBpbnZpdGUgPSBlLnRhcmdldC5kYXRhc2V0Lmludml0ZVxuICAgIGNoYW5uZWwucHVzaChcImNoYXRfaW52aXRlX3llc1wiLCB7aW52aXRlOiBpbnZpdGV9KVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICBVc2VySG9tZS5wdXRSZXNwVG9Eb20ocmVzcCwgYGNoYXRJbnZpdGF0aW9uJHtpbnZpdGV9YClcbiAgICAgICAgVXNlckNoYXQuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IGNvbnNvbGUubG9nKHJlc3ApKVxuICB9LFxuICBpbnZpdGVSZXNwb25kTm8oZSkge1xuICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJSVENoYW5uZWxcbiAgICBsZXQgaW52aXRlID0gZS50YXJnZXQuZGF0YXNldC5pbnZpdGVcbiAgICBjaGFubmVsLnB1c2goXCJjaGF0X2ludml0ZV9ub1wiLCB7aW52aXRlOiBpbnZpdGV9KVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICBVc2VySG9tZS5wdXRSZXNwVG9Eb20ocmVzcCwgYGNoYXRJbnZpdGF0aW9uJHtpbnZpdGV9YClcbiAgICAgICAgVXNlckNoYXQuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IGNvbnNvbGUubG9nKHJlc3ApKVxuICB9LFxuICBzb3J0Q2hhdHMoZSkge1xuICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJIb21lQ2hhbm5lbFxuICAgIGNoYW5uZWwucHVzaChcInNvcnRfY2hhdHNcIiwge3NvcnRfYnk6IGUudGFyZ2V0LnZhbHVlfSlcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgVXNlckhvbWUucHV0UmVzcFRvRG9tKHJlc3AsIFwidXNlckNoYXRzTGlzdFwiKVxuICAgICAgICBVc2VyQ2hhdC5pbml0KClcbiAgICAgIH0pXG4gICAgICAucmVjZWl2ZShcImVycm9yXCIsIChyZXNwKSA9PiB7Y29uc29sZS5sb2cocmVzcCl9KVxuICB9LFxuICBzZWFyY2hDaGF0cyhlKSB7XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckhvbWVDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwic2VhcmNoX2NoYXRzXCIsIHtxdWVyeTogZS50YXJnZXQudmFsdWV9KVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICBVc2VySG9tZS5wdXRSZXNwVG9Eb20ocmVzcCwgXCJ1c2VyQ2hhdHNMaXN0XCIpXG4gICAgICAgIFVzZXJDaGF0LmluaXQoKVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtjb25zb2xlLmxvZyhyZXNwKX0pXG4gIH0sXG4gIHVzZXJDaGF0SW52aXRlRGV0YWlscyhlKSB7XG4gICAgbGV0IGNoYXQgPSBlLnRhcmdldC5kYXRhc2V0LmNoYXRcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VySG9tZUNoYW5uZWxcbiAgICBjaGFubmVsLnB1c2goXCJjaGF0X2ludml0ZV9kZXRhaWxzXCIsIHtjaGF0OiBjaGF0fSlcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgVXNlckhvbWUucHV0UmVzcFRvRG9tKHJlc3AsIGBjaGF0SW52aXRhdGlvbkRldGFpbHMke2NoYXR9YClcbiAgICAgICAgVXNlckNoYXQuaW5pdCgpXG4gICAgICB9KVxuICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzcCkgPT4ge2NvbnNvbGUubG9nKHJlc3ApfSlcbiAgfSxcbiAgdG9nZ2xlRWRpdENoYXQoZSkge1xuICAgIGxldCBjaGF0ID0gZS50YXJnZXQuZGF0YXNldC5jaGF0XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckhvbWVDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwidG9nZ2xlX2VkaXRfY2hhdFwiLCB7Y2hhdDogY2hhdH0pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIFVzZXJIb21lLmFwcGVuZFJlc3BUb0RvbShyZXNwLCBgdXNlckNoYXQke2NoYXR9YClcbiAgICAgICAgVXNlckNoYXQucmVwbGFjZUJ1dHRvbldpdGhDYW5jZWwoZS50YXJnZXQpXG4gICAgICAgIFVzZXJDaGF0LmluaXQoKVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtjb25zb2xlLmxvZyhyZXNwKX0pXG4gIH0sXG4gIGNoYXRFZGl0U3VibWl0KGUpIHtcbiAgICBsZXQgY2hhdCA9IGUudGFyZ2V0LmRhdGFzZXQuY2hhdFxuICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjaGF0RWRpdE5hbWVJbnB1dCR7Y2hhdH1gKVxuICAgIGlmIChpbnB1dCAmJiBpbnB1dC52YWx1ZSAhPSBcIlwiKSB7XG4gICAgICBsZXQgbmV3X25hbWUgPSBpbnB1dC52YWx1ZVxuICAgICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckhvbWVDaGFubmVsXG4gICAgICBjaGFubmVsLnB1c2goXCJjaGF0X2VkaXRfc3VibWl0XCIsIHtjaGF0OiBjaGF0LCBuZXdfbmFtZTogbmV3X25hbWV9KVxuICAgICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgICAgVXNlckhvbWUucHV0UmVzcFRvRG9tKHJlc3AsIGBjaGF0RWRpdEZvcm0ke2NoYXR9YClcbiAgICAgICAgICBVc2VyUlQudXBkYXRlQ2hhdE5hbWUoY2hhdCwgbmV3X25hbWUpXG4gICAgICAgICAgVXNlckNoYXQuaW5pdCgpXG4gICAgICAgICAgbGV0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjYW5jZWxFZGl0JHtjaGF0fWApXG4gICAgICAgICAgaWYgKG5ld0J1dHRvbikge1xuICAgICAgICAgICAgbmV3QnV0dG9uLmNsaWNrKClcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtjb25zb2xlLmxvZyhyZXNwKX0pXG4gICAgfVxuXG4gIH0sXG4gIHJlcGxhY2VCdXR0b25XaXRoQ2FuY2VsKGJ1dHRvbikge1xuICAgIGxldCBuZXdCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgIG5ld0J1dHRvbi5pbm5lckhUTUwgPSBcIkNhbmNlbCBFZGl0XCJcbiAgICBuZXdCdXR0b24uY2xhc3NMaXN0LmFkZChcImJ1dHRvbi1zbWFsbFwiKVxuICAgIG5ld0J1dHRvbi5pZCA9IGBjYW5jZWxFZGl0JHtidXR0b24uZGF0YXNldC5jaGF0fWBcbiAgICBidXR0b24ucmVwbGFjZVdpdGgobmV3QnV0dG9uKVxuICAgIG5ld0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjaGF0RWRpdEZvcm0ke2J1dHRvbi5kYXRhc2V0LmNoYXR9YClcbiAgICAgIGlmIChmb3JtKSB7XG4gICAgICAgIGZvcm0ucmVtb3ZlKClcbiAgICAgIH1cbiAgICAgIG5ld0J1dHRvbi5yZXBsYWNlV2l0aChidXR0b24pXG4gICAgICBVc2VyQ2hhdC5pbml0KClcbiAgICB9KVxuICB9LFxuICBsZWF2ZUNoYXQoZSkge1xuICAgIGxldCBjaGF0ID0gZS50YXJnZXQuZGF0YXNldC5jaGF0XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckhvbWVDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwibGVhdmVfY2hhdFwiLCB7Y2hhdDogY2hhdH0pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIFVzZXJIb21lLnB1dFJlc3BUb0RvbShyZXNwLCBgdXNlckNoYXQke2NoYXR9YClcbiAgICAgICAgVXNlclJULmRlbGV0ZUNoYXQoY2hhdClcbiAgICAgICAgVXNlckNoYXQuaW5pdCgpXG4gICAgICB9KVxuICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzcCkgPT4ge2NvbnNvbGUubG9nKHJlc3ApfSlcblxuICB9LFxuICBuZXdDaGF0Q29udGFjdEFkZChlKSB7XG4gICAgbGV0IGNvbnRhY3QgPSBlLnRhcmdldC5kYXRhc2V0LmNvbnRhY3RcbiAgICBsZXQgbmV3Q2hhdENvbnRhY3RzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdDaGF0Q29udGFjdHNMaXN0JylcbiAgICBsZXQgbmV3Q2hhdENvbnRhY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbmV3Q2hhdENvbnRhY3Qke2NvbnRhY3R9YClcbiAgICBuZXdDaGF0Q29udGFjdC5jbGFzc0xpc3QuYWRkKCduZXdDaGF0Q29udGFjdFNlbGVjdGVkJylcbiAgICBuZXdDaGF0Q29udGFjdHNMaXN0LnByZXBlbmQobmV3Q2hhdENvbnRhY3QpXG5cbiAgICBsZXQgbmV3Q2hhdFN1Ym1pdERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdDaGF0U3VibWl0RGl2JylcbiAgICBuZXdDaGF0U3VibWl0RGl2LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgbmV3Q2hhdENvbnRhY3RzTGlzdC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgIFVzZXJDaGF0LmNoYW5nZUFkZEJ1dHRvblRvUmVtb3ZlKGUudGFyZ2V0LCBjb250YWN0KVxuICB9LFxuICBuZXdDaGF0Q29udGFjdFJlbW92ZShjb250YWN0KSB7XG4gICAgbGV0IGNvbnRhY3RzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWN0c0xpc3QnKVxuICAgIGxldCBuZXdDaGF0Q29udGFjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBuZXdDaGF0Q29udGFjdCR7Y29udGFjdH1gKVxuICAgIG5ld0NoYXRDb250YWN0LmNsYXNzTGlzdC5yZW1vdmUoJ25ld0NoYXRDb250YWN0U2VsZWN0ZWQnKVxuICAgIGNvbnRhY3RzTGlzdC5hcHBlbmQobmV3Q2hhdENvbnRhY3QpXG5cbiAgICBsZXQgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV3Q2hhdENvbnRhY3RTZWxlY3RlZCcpXG4gICAgaWYgKHNlbGVjdGVkLmxlbmd0aCA9PSAwKSB7XG4gICAgICBsZXQgbmV3Q2hhdFN1Ym1pdERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdDaGF0U3VibWl0RGl2JylcbiAgICAgIGxldCBuZXdDaGF0Q29udGFjdHNMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ld0NoYXRDb250YWN0c0xpc3QnKVxuICAgICAgbmV3Q2hhdFN1Ym1pdERpdi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgbmV3Q2hhdENvbnRhY3RzTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgIH1cbiAgfSxcbiAgY2hhbmdlQWRkQnV0dG9uVG9SZW1vdmUoYnV0dG9uLCBjb250YWN0KSB7XG4gICAgbGV0IG5ld0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgbmV3QnV0dG9uLmlubmVySFRNTCA9IFwiUmVtb3ZlXCJcbiAgICBuZXdCdXR0b24uY2xhc3NMaXN0LmFkZChcImJ1dHRvbi1zbWFsbFwiKVxuICAgIG5ld0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwibmV3Q2hhdENvbnRhY3RSZW1vdmVcIilcbiAgICBidXR0b24ucmVwbGFjZVdpdGgobmV3QnV0dG9uKVxuICAgIG5ld0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBVc2VyQ2hhdC5uZXdDaGF0Q29udGFjdFJlbW92ZShjb250YWN0KVxuICAgICAgbmV3QnV0dG9uLnJlcGxhY2VXaXRoKGJ1dHRvbilcbiAgICAgIFVzZXJDaGF0LmluaXQoKVxuICAgIH0pXG4gIH0sXG4gIG5ld0NoYXRTdWJtaXQoZSkge1xuICAgIGxldCBuYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3Q2hhdE5hbWVJbnB1dCcpXG4gICAgbGV0IG1lbWJlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV3Q2hhdENvbnRhY3RTZWxlY3RlZCcpXG4gICAgbGV0IGNvbnRhY3RzID0gQXJyYXkuZnJvbShtZW1iZXJzKS5tYXAoKG1lbWJlcikgPT4ge3JldHVybiBtZW1iZXIuZGF0YXNldC5jb250YWN0fSlcbiAgICBpZiAobmFtZUlucHV0ICYmIG5hbWVJbnB1dC52YWx1ZSAhPSBcIlwiICYmIGNvbnRhY3RzLmxlbmd0aCAhPSAwKSB7XG4gICAgICBuYW1lID0gbmFtZUlucHV0LnZhbHVlXG4gICAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VySG9tZUNoYW5uZWxcbiAgICAgIGNoYW5uZWwucHVzaChcIm5ld19jaGF0XCIsIHtuYW1lOiBuYW1lLCBjb250YWN0czogY29udGFjdHN9KVxuICAgICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgICAgVXNlckNoYXQuZXhwYW5kQ2hhdFJlcXVlc3RzKClcbiAgICAgICAgfSlcbiAgICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzcCkgPT4ge2NvbnNvbGUubG9nKHJlc3ApfSlcbiAgICB9IGVsc2UgaWYgKG5hbWVJbnB1dC52YWx1ZSA9PSBcIlwiKSB7XG4gICAgICBuYW1lSW5wdXQuZm9jdXMoKVxuICAgIH1cblxuICB9XG5cbn1cbmV4cG9ydCBkZWZhdWx0IFVzZXJDaGF0XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQWhUQTtBQW1UQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/user_chat.js\n");

/***/ }),

/***/ "./js/user_contacts.js":
/*!*****************************!*\
  !*** ./js/user_contacts.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _user_home__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user_home */ \"./js/user_home.js\");\n/* harmony import */ var _user_rt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./user_rt */ \"./js/user_rt.js\");\n/* harmony import */ var _tribe_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tribe_navigation */ \"./js/tribe_navigation.js\");\n\n\n\nvar UserContacts = {\n  init: function init() {\n    UserContacts.setEventListeners();\n  },\n  setEventListeners: function setEventListeners() {\n    var userContactsSearch = document.getElementById('userContactsSearch');\n\n    if (userContactsSearch) {\n      if (!userContactsSearch.classList.contains(\"listening\")) {\n        userContactsSearch.classList.add('listening');\n        userContactsSearch.addEventListener('change', UserContacts.searchContacts);\n      }\n    }\n\n    var compare_buttons = document.querySelectorAll('.contactCompareButton');\n\n    if (compare_buttons) {\n      for (var i = 0; i < compare_buttons.length; i++) {\n        if (!compare_buttons[i].classList.contains(\"listening\")) {\n          compare_buttons[i].classList.add(\"listening\");\n          compare_buttons[i].addEventListener('click', UserContacts.showContactCompare);\n        }\n      }\n    }\n\n    var userContactsNav = document.querySelectorAll('.userContactsNav');\n\n    if (userContactsNav) {\n      for (var i = 0; i < userContactsNav.length; i++) {\n        if (!userContactsNav[i].classList.contains('listening')) {\n          userContactsNav[i].classList.add(\"listening\");\n          userContactsNav[i].addEventListener('click', UserContacts.expandNavSelection);\n        }\n      }\n    }\n\n    var chat_buttons = document.querySelectorAll('.contactChatButton');\n\n    if (chat_buttons) {\n      for (var i = 0; i < chat_buttons.length; i++) {\n        if (!chat_buttons[i].classList.contains(\"listening\")) {\n          chat_buttons[i].classList.add(\"listening\");\n          chat_buttons[i].addEventListener('click', UserContacts.showChatInvite);\n        }\n      }\n    }\n\n    var contactChatsButton = document.querySelectorAll('.contactChatsButton');\n\n    if (contactChatsButton) {\n      for (var i = 0; i < contactChatsButton.length; i++) {\n        if (!contactChatsButton[i].classList.contains(\"listening\")) {\n          contactChatsButton[i].classList.add(\"listening\");\n          contactChatsButton[i].addEventListener('click', UserContacts.showChats);\n        }\n      }\n    }\n\n    var back_to_contacts = document.getElementById('backToContacts');\n\n    if (back_to_contacts) {\n      if (!back_to_contacts.classList.contains(\"listening\")) {\n        back_to_contacts.classList.add(\"listening\");\n        back_to_contacts.addEventListener('click', function () {\n          _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].initContacts();\n        });\n      }\n    }\n\n    var userContactsSelect = document.getElementById('userContactsSelect');\n\n    if (userContactsSelect) {\n      if (!userContactsSelect.classList.contains(\"listening\")) {\n        userContactsSelect.classList.add(\"listening\");\n        userContactsSelect.addEventListener('change', UserContacts.sortContacts);\n      }\n    }\n\n    var contactInviteSubmit = document.getElementById('contactInviteSubmit');\n\n    if (contactInviteSubmit) {\n      if (!contactInviteSubmit.classList.contains(\"listening\")) {\n        contactInviteSubmit.classList.add(\"listening\");\n        contactInviteSubmit.addEventListener('click', UserContacts.createAppInvite);\n      }\n    }\n\n    var inviteToNewChat = document.querySelectorAll('.inviteToNewChat');\n\n    if (inviteToNewChat) {\n      for (var i = 0; i < inviteToNewChat.length; i++) {\n        if (!inviteToNewChat[i].classList.contains(\"listening\")) {\n          inviteToNewChat[i].classList.add(\"listening\");\n          inviteToNewChat[i].addEventListener('click', UserContacts.inviteToNewChat);\n        }\n      }\n    }\n\n    var inviteToExistingChat = document.querySelectorAll('.inviteToExistingChat');\n\n    if (inviteToExistingChat) {\n      for (var i = 0; i < inviteToExistingChat.length; i++) {\n        if (!inviteToExistingChat[i].classList.contains(\"listening\")) {\n          inviteToExistingChat[i].classList.add(\"listening\");\n          inviteToExistingChat[i].addEventListener('click', UserContacts.inviteToExistingChat);\n        }\n      }\n    }\n\n    var inviteToExistingChatExpand = document.querySelectorAll('.inviteToExistingChatExpand');\n\n    if (inviteToExistingChatExpand) {\n      for (var i = 0; i < inviteToExistingChatExpand.length; i++) {\n        if (!inviteToExistingChatExpand[i].classList.contains(\"listening\")) {\n          inviteToExistingChatExpand[i].classList.add(\"listening\");\n          inviteToExistingChatExpand[i].addEventListener('click', UserContacts.inviteToExistingChatExpand);\n        }\n      }\n    }\n  },\n  expandNavSelection: function expandNavSelection(e) {\n    var location = e.target.dataset.nav;\n    _tribe_navigation__WEBPACK_IMPORTED_MODULE_2__[\"default\"].expandSubMenu(\"contacts\", location);\n    var channel = window.userHomeChannel;\n    var topic = \"expand_contacts_nav_\" + location;\n    UserContacts.makeNavButtonActive(e.target);\n    console.log(topic);\n    channel.push(topic, {}).receive(\"ok\", function (resp) {\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"userContactsMain\");\n      UserContacts.init();\n    });\n  },\n  makeNavButtonActive: function makeNavButtonActive(button) {\n    var buttons = document.querySelectorAll('.userContactsNav');\n\n    if (buttons) {\n      for (var i = 0; i < buttons.length; i++) {\n        buttons[i].classList.remove(\"active\");\n      }\n    }\n\n    button.classList.add('active');\n  },\n  showContactCompare: function showContactCompare(e) {\n    var contact = e.target.dataset.contact;\n    var channel = window.userHomeChannel;\n    channel.push(\"compare_contact\", {\n      contact: contact\n    }).receive(\"ok\", function (resp) {\n      var replacementId = \"contactListContact\".concat(contact);\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, replacementId);\n      UserContacts.replaceButtonWithCancel(e.target);\n      UserContacts.init();\n    });\n  },\n  showChatInvite: function showChatInvite(e) {\n    var contact = e.target.dataset.contact;\n    var channel = window.userHomeChannel;\n    channel.push(\"show_chat_invite\", {\n      contact: contact\n    }).receive(\"ok\", function (resp) {\n      var replacementId = \"contactListContact\".concat(contact);\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, replacementId);\n      UserContacts.replaceButtonWithCancel(e.target);\n      UserContacts.init();\n      _user_rt__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setWidgetListeners();\n    });\n  },\n  showChats: function showChats(e) {\n    var contact = e.target.dataset.contact;\n    var channel = window.userHomeChannel;\n    channel.push(\"show_contact_chats\", {\n      contact: contact\n    }).receive(\"ok\", function (resp) {\n      var replacementId = \"contactListContact\".concat(contact);\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, replacementId);\n      UserContacts.replaceButtonWithCancel(e.target);\n      UserContacts.init();\n      _user_rt__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setWidgetListeners();\n    });\n  },\n  replaceButtonWithCancel: function replaceButtonWithCancel(button) {\n    var newButton = document.createElement('button');\n    newButton.innerHTML = \"Hide \".concat(button.dataset.action);\n    newButton.classList.add(\"button-small\");\n    var old_class_list = button.classList.value;\n    button.replaceWith(newButton);\n    var other_buttons = document.querySelectorAll(\".optionsButtons\".concat(button.dataset.contact));\n\n    for (var i = 0; i < other_buttons.length; i++) {\n      other_buttons[i].disabled = true;\n    }\n\n    newButton.addEventListener('click', function (e) {\n      var divId = document.getElementById(\"contactListContact\".concat(button.dataset.contact));\n      divId.innerHTML = \"\";\n      divId.classList.value = \"\";\n      var other_buttons = document.querySelectorAll(\".optionsButtons\".concat(button.dataset.contact));\n\n      for (var i = 0; i < other_buttons.length; i++) {\n        other_buttons[i].disabled = false;\n      }\n\n      newButton.replaceWith(button);\n      UserContacts.init();\n    });\n  },\n  inviteToExistingChatExpand: function inviteToExistingChatExpand(e) {\n    var contact = e.target.dataset.contact;\n    var channel = window.userHomeChannel;\n    channel.push(\"show_all_chats\", {\n      contact: contact\n    }).receive(\"ok\", function (resp) {\n      var appendId = \"contactListContact\".concat(contact);\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].appendRespToDom(resp, appendId);\n      UserContacts.init();\n    });\n    e.target.disabled = true;\n  },\n  inviteToNewChat: function inviteToNewChat(e) {\n    var contact = e.target.dataset.contact;\n    var channel = window.userHomeChannel;\n    channel.push(\"new_chat_invite\", {\n      contact: contact\n    }).receive(\"ok\", function (resp) {\n      var replacementId = \"contactListContact\".concat(contact);\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, replacementId);\n      UserContacts.init();\n    });\n  },\n  inviteToExistingChat: function inviteToExistingChat(e) {\n    var contact = e.target.dataset.contact;\n    var chat = e.target.dataset.chat;\n    var channel = window.userHomeChannel;\n    channel.push(\"new_chat_invite\", {\n      contact: contact,\n      chat: chat\n    }).receive(\"ok\", function (resp) {\n      var replacementId = \"contactListContact\".concat(contact);\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, replacementId);\n      UserContacts.init();\n    });\n  },\n  createAppInvite: function createAppInvite(e) {\n    var channel = window.userHomeChannel;\n    var name = document.getElementById('contactInviteYourName');\n    var email = document.getElementById('contactInviteTheirEmail');\n    var valid = email.checkValidity();\n\n    if (valid) {\n      channel.push(\"new_app_invite\", {\n        name: name.value,\n        email: email.value\n      }).receive(\"ok\", function (resp) {\n        _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].appendRespToDom(resp, \"userContactsSentInvitations\");\n        UserContacts.init();\n        email.classList.remove(\"error\");\n        email.value = \"\";\n      });\n    } else {\n      var span = document.createElement('span');\n      email.classList.add(\"error\");\n      span.id = \"contactInviteEmailError\";\n      span.innerHTML = email.validationMessage;\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putElementToDom(span, \"contactInviteEmailError\");\n    }\n  },\n  sortContacts: function sortContacts(e) {\n    var channel = window.userHomeChannel;\n    channel.push(\"sort_contacts\", {\n      sort_by: e.target.value\n    }).receive(\"ok\", function (resp) {\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"userContactsList\");\n      UserContacts.init();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  searchContacts: function searchContacts(e) {\n    var channel = window.userHomeChannel;\n    channel.push(\"search_contacts\", {\n      query: e.target.value\n    }).receive(\"ok\", function (resp) {\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"userContactsList\");\n      UserContacts.init();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserContacts);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy91c2VyX2NvbnRhY3RzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvdXNlcl9jb250YWN0cy5qcz80ZGVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VySG9tZSBmcm9tICcuL3VzZXJfaG9tZSdcbmltcG9ydCBVc2VyUlQgZnJvbSAnLi91c2VyX3J0J1xuaW1wb3J0IFRyaWJlTmF2aWdhdGlvbiBmcm9tIFwiLi90cmliZV9uYXZpZ2F0aW9uXCJcbmxldCBVc2VyQ29udGFjdHMgPSB7XG4gIGluaXQoKSB7XG4gICAgVXNlckNvbnRhY3RzLnNldEV2ZW50TGlzdGVuZXJzKClcbiAgfSxcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgbGV0IHVzZXJDb250YWN0c1NlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyQ29udGFjdHNTZWFyY2gnKVxuICAgIGlmICh1c2VyQ29udGFjdHNTZWFyY2gpIHtcbiAgICAgIGlmICghdXNlckNvbnRhY3RzU2VhcmNoLmNsYXNzTGlzdC5jb250YWlucyhcImxpc3RlbmluZ1wiKSkge1xuICAgICAgICB1c2VyQ29udGFjdHNTZWFyY2guY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgdXNlckNvbnRhY3RzU2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIFVzZXJDb250YWN0cy5zZWFyY2hDb250YWN0cylcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNvbXBhcmVfYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250YWN0Q29tcGFyZUJ1dHRvbicpXG4gICAgaWYgKGNvbXBhcmVfYnV0dG9ucykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wYXJlX2J1dHRvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFjb21wYXJlX2J1dHRvbnNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwibGlzdGVuaW5nXCIpKXtcbiAgICAgICAgICBjb21wYXJlX2J1dHRvbnNbaV0uY2xhc3NMaXN0LmFkZChcImxpc3RlbmluZ1wiKVxuICAgICAgICAgIGNvbXBhcmVfYnV0dG9uc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFVzZXJDb250YWN0cy5zaG93Q29udGFjdENvbXBhcmUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHVzZXJDb250YWN0c05hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy51c2VyQ29udGFjdHNOYXYnKVxuICAgIGlmICh1c2VyQ29udGFjdHNOYXYpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXNlckNvbnRhY3RzTmF2Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghdXNlckNvbnRhY3RzTmF2W2ldLmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpIHtcbiAgICAgICAgICB1c2VyQ29udGFjdHNOYXZbaV0uY2xhc3NMaXN0LmFkZChcImxpc3RlbmluZ1wiKVxuICAgICAgICAgIHVzZXJDb250YWN0c05hdltpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFVzZXJDb250YWN0cy5leHBhbmROYXZTZWxlY3Rpb24pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNoYXRfYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb250YWN0Q2hhdEJ1dHRvbicpXG4gICAgaWYgKGNoYXRfYnV0dG9ucykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGF0X2J1dHRvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFjaGF0X2J1dHRvbnNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwibGlzdGVuaW5nXCIpKXtcbiAgICAgICAgICBjaGF0X2J1dHRvbnNbaV0uY2xhc3NMaXN0LmFkZChcImxpc3RlbmluZ1wiKVxuICAgICAgICAgIGNoYXRfYnV0dG9uc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFVzZXJDb250YWN0cy5zaG93Q2hhdEludml0ZSlcblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBjb250YWN0Q2hhdHNCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29udGFjdENoYXRzQnV0dG9uJylcbiAgICBpZiAoY29udGFjdENoYXRzQnV0dG9uKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRhY3RDaGF0c0J1dHRvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWNvbnRhY3RDaGF0c0J1dHRvbltpXS5jbGFzc0xpc3QuY29udGFpbnMoXCJsaXN0ZW5pbmdcIikpe1xuICAgICAgICAgIGNvbnRhY3RDaGF0c0J1dHRvbltpXS5jbGFzc0xpc3QuYWRkKFwibGlzdGVuaW5nXCIpXG4gICAgICAgICAgY29udGFjdENoYXRzQnV0dG9uW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgVXNlckNvbnRhY3RzLnNob3dDaGF0cylcblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBiYWNrX3RvX2NvbnRhY3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhY2tUb0NvbnRhY3RzJylcbiAgICBpZiAoYmFja190b19jb250YWN0cykge1xuICAgICAgaWYgKCFiYWNrX3RvX2NvbnRhY3RzLmNsYXNzTGlzdC5jb250YWlucyhcImxpc3RlbmluZ1wiKSl7XG4gICAgICAgIGJhY2tfdG9fY29udGFjdHMuY2xhc3NMaXN0LmFkZChcImxpc3RlbmluZ1wiKVxuICAgICAgICBiYWNrX3RvX2NvbnRhY3RzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIFVzZXJIb21lLmluaXRDb250YWN0cygpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGxldCB1c2VyQ29udGFjdHNTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlckNvbnRhY3RzU2VsZWN0JylcbiAgICBpZiAodXNlckNvbnRhY3RzU2VsZWN0KSB7XG4gICAgICBpZiAoIXVzZXJDb250YWN0c1NlbGVjdC5jbGFzc0xpc3QuY29udGFpbnMoXCJsaXN0ZW5pbmdcIikpe1xuICAgICAgICB1c2VyQ29udGFjdHNTZWxlY3QuY2xhc3NMaXN0LmFkZChcImxpc3RlbmluZ1wiKVxuICAgICAgICB1c2VyQ29udGFjdHNTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgVXNlckNvbnRhY3RzLnNvcnRDb250YWN0cylcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNvbnRhY3RJbnZpdGVTdWJtaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFjdEludml0ZVN1Ym1pdCcpXG4gICAgaWYgKGNvbnRhY3RJbnZpdGVTdWJtaXQpIHtcbiAgICAgIGlmICghY29udGFjdEludml0ZVN1Ym1pdC5jbGFzc0xpc3QuY29udGFpbnMoXCJsaXN0ZW5pbmdcIikpe1xuICAgICAgICBjb250YWN0SW52aXRlU3VibWl0LmNsYXNzTGlzdC5hZGQoXCJsaXN0ZW5pbmdcIilcbiAgICAgICAgY29udGFjdEludml0ZVN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFVzZXJDb250YWN0cy5jcmVhdGVBcHBJbnZpdGUpXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpbnZpdGVUb05ld0NoYXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW52aXRlVG9OZXdDaGF0JylcbiAgICBpZiAoaW52aXRlVG9OZXdDaGF0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludml0ZVRvTmV3Q2hhdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWludml0ZVRvTmV3Q2hhdFtpXS5jbGFzc0xpc3QuY29udGFpbnMoXCJsaXN0ZW5pbmdcIikpe1xuICAgICAgICAgIGludml0ZVRvTmV3Q2hhdFtpXS5jbGFzc0xpc3QuYWRkKFwibGlzdGVuaW5nXCIpXG4gICAgICAgICAgaW52aXRlVG9OZXdDaGF0W2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgVXNlckNvbnRhY3RzLmludml0ZVRvTmV3Q2hhdClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgaW52aXRlVG9FeGlzdGluZ0NoYXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW52aXRlVG9FeGlzdGluZ0NoYXQnKVxuICAgIGlmIChpbnZpdGVUb0V4aXN0aW5nQ2hhdCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnZpdGVUb0V4aXN0aW5nQ2hhdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIWludml0ZVRvRXhpc3RpbmdDaGF0W2ldLmNsYXNzTGlzdC5jb250YWlucyhcImxpc3RlbmluZ1wiKSl7XG4gICAgICAgICAgaW52aXRlVG9FeGlzdGluZ0NoYXRbaV0uY2xhc3NMaXN0LmFkZChcImxpc3RlbmluZ1wiKVxuICAgICAgICAgIGludml0ZVRvRXhpc3RpbmdDaGF0W2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgVXNlckNvbnRhY3RzLmludml0ZVRvRXhpc3RpbmdDaGF0KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpbnZpdGVUb0V4aXN0aW5nQ2hhdEV4cGFuZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnZpdGVUb0V4aXN0aW5nQ2hhdEV4cGFuZCcpXG4gICAgaWYgKGludml0ZVRvRXhpc3RpbmdDaGF0RXhwYW5kKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGludml0ZVRvRXhpc3RpbmdDaGF0RXhwYW5kLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaW52aXRlVG9FeGlzdGluZ0NoYXRFeHBhbmRbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwibGlzdGVuaW5nXCIpKXtcbiAgICAgICAgICBpbnZpdGVUb0V4aXN0aW5nQ2hhdEV4cGFuZFtpXS5jbGFzc0xpc3QuYWRkKFwibGlzdGVuaW5nXCIpXG4gICAgICAgICAgaW52aXRlVG9FeGlzdGluZ0NoYXRFeHBhbmRbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBVc2VyQ29udGFjdHMuaW52aXRlVG9FeGlzdGluZ0NoYXRFeHBhbmQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGV4cGFuZE5hdlNlbGVjdGlvbihlKSB7XG4gICAgbGV0IGxvY2F0aW9uID0gZS50YXJnZXQuZGF0YXNldC5uYXZcbiAgICBUcmliZU5hdmlnYXRpb24uZXhwYW5kU3ViTWVudShcImNvbnRhY3RzXCIsIGxvY2F0aW9uKVxuICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJIb21lQ2hhbm5lbFxuICAgIGxldCB0b3BpYyA9IFwiZXhwYW5kX2NvbnRhY3RzX25hdl9cIiArIGxvY2F0aW9uXG4gICAgVXNlckNvbnRhY3RzLm1ha2VOYXZCdXR0b25BY3RpdmUoZS50YXJnZXQpXG4gICAgY29uc29sZS5sb2codG9waWMpO1xuICAgIGNoYW5uZWwucHVzaCh0b3BpYywge30pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIFVzZXJIb21lLnB1dFJlc3BUb0RvbShyZXNwLCBcInVzZXJDb250YWN0c01haW5cIilcbiAgICAgICAgVXNlckNvbnRhY3RzLmluaXQoKVxuICAgICAgfSlcbiAgfSxcbiAgbWFrZU5hdkJ1dHRvbkFjdGl2ZShidXR0b24pIHtcbiAgICBsZXQgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy51c2VyQ29udGFjdHNOYXYnKVxuICAgIGlmIChidXR0b25zKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYnV0dG9uc1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpXG4gICAgICB9XG4gICAgfVxuICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICB9LFxuICBzaG93Q29udGFjdENvbXBhcmUoZSkge1xuICAgIGxldCBjb250YWN0ID0gZS50YXJnZXQuZGF0YXNldC5jb250YWN0XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckhvbWVDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwiY29tcGFyZV9jb250YWN0XCIsIHtjb250YWN0OiBjb250YWN0fSlcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgbGV0IHJlcGxhY2VtZW50SWQgPSBgY29udGFjdExpc3RDb250YWN0JHtjb250YWN0fWBcbiAgICAgICAgVXNlckhvbWUucHV0UmVzcFRvRG9tKHJlc3AsIHJlcGxhY2VtZW50SWQpXG4gICAgICAgIFVzZXJDb250YWN0cy5yZXBsYWNlQnV0dG9uV2l0aENhbmNlbChlLnRhcmdldClcbiAgICAgICAgVXNlckNvbnRhY3RzLmluaXQoKVxuICAgICAgfSlcbiAgfSxcbiAgc2hvd0NoYXRJbnZpdGUoZSkge1xuICAgIGxldCBjb250YWN0ID0gZS50YXJnZXQuZGF0YXNldC5jb250YWN0XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckhvbWVDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwic2hvd19jaGF0X2ludml0ZVwiLCB7Y29udGFjdDogY29udGFjdH0pXG4gICAgICAucmVjZWl2ZShcIm9rXCIsIChyZXNwKSA9PiB7XG4gICAgICAgIGxldCByZXBsYWNlbWVudElkID0gYGNvbnRhY3RMaXN0Q29udGFjdCR7Y29udGFjdH1gXG4gICAgICAgIFVzZXJIb21lLnB1dFJlc3BUb0RvbShyZXNwLCByZXBsYWNlbWVudElkKVxuICAgICAgICBVc2VyQ29udGFjdHMucmVwbGFjZUJ1dHRvbldpdGhDYW5jZWwoZS50YXJnZXQpXG4gICAgICAgIFVzZXJDb250YWN0cy5pbml0KClcbiAgICAgICAgVXNlclJULnNldFdpZGdldExpc3RlbmVycygpXG4gICAgICB9KVxuICB9LFxuICBzaG93Q2hhdHMoZSkge1xuICAgIGxldCBjb250YWN0ID0gZS50YXJnZXQuZGF0YXNldC5jb250YWN0XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckhvbWVDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwic2hvd19jb250YWN0X2NoYXRzXCIsIHtjb250YWN0OiBjb250YWN0fSlcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgbGV0IHJlcGxhY2VtZW50SWQgPSBgY29udGFjdExpc3RDb250YWN0JHtjb250YWN0fWBcbiAgICAgICAgVXNlckhvbWUucHV0UmVzcFRvRG9tKHJlc3AsIHJlcGxhY2VtZW50SWQpXG4gICAgICAgIFVzZXJDb250YWN0cy5yZXBsYWNlQnV0dG9uV2l0aENhbmNlbChlLnRhcmdldClcbiAgICAgICAgVXNlckNvbnRhY3RzLmluaXQoKVxuICAgICAgICBVc2VyUlQuc2V0V2lkZ2V0TGlzdGVuZXJzKClcbiAgICAgIH0pXG4gIH0sXG4gIHJlcGxhY2VCdXR0b25XaXRoQ2FuY2VsKGJ1dHRvbikge1xuICAgIGxldCBuZXdCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgIG5ld0J1dHRvbi5pbm5lckhUTUwgPSBgSGlkZSAke2J1dHRvbi5kYXRhc2V0LmFjdGlvbn1gXG4gICAgbmV3QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJidXR0b24tc21hbGxcIilcbiAgICBsZXQgb2xkX2NsYXNzX2xpc3QgPSBidXR0b24uY2xhc3NMaXN0LnZhbHVlXG4gICAgYnV0dG9uLnJlcGxhY2VXaXRoKG5ld0J1dHRvbilcbiAgICBsZXQgb3RoZXJfYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5vcHRpb25zQnV0dG9ucyR7YnV0dG9uLmRhdGFzZXQuY29udGFjdH1gKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3RoZXJfYnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgb3RoZXJfYnV0dG9uc1tpXS5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIG5ld0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBsZXQgZGl2SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY29udGFjdExpc3RDb250YWN0JHtidXR0b24uZGF0YXNldC5jb250YWN0fWApXG4gICAgICBkaXZJZC5pbm5lckhUTUwgPSBcIlwiXG4gICAgICBkaXZJZC5jbGFzc0xpc3QudmFsdWUgPSBcIlwiXG4gICAgICBsZXQgb3RoZXJfYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC5vcHRpb25zQnV0dG9ucyR7YnV0dG9uLmRhdGFzZXQuY29udGFjdH1gKVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdGhlcl9idXR0b25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG90aGVyX2J1dHRvbnNbaV0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG5ld0J1dHRvbi5yZXBsYWNlV2l0aChidXR0b24pXG4gICAgICBVc2VyQ29udGFjdHMuaW5pdCgpXG4gICAgfSlcbiAgfSxcbiAgaW52aXRlVG9FeGlzdGluZ0NoYXRFeHBhbmQoZSkge1xuICAgIGxldCBjb250YWN0ID0gZS50YXJnZXQuZGF0YXNldC5jb250YWN0XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckhvbWVDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwic2hvd19hbGxfY2hhdHNcIiwge2NvbnRhY3Q6IGNvbnRhY3R9KVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICBsZXQgYXBwZW5kSWQgPSBgY29udGFjdExpc3RDb250YWN0JHtjb250YWN0fWBcbiAgICAgICAgVXNlckhvbWUuYXBwZW5kUmVzcFRvRG9tKHJlc3AsIGFwcGVuZElkKVxuICAgICAgICBVc2VyQ29udGFjdHMuaW5pdCgpXG4gICAgICB9KVxuICAgIGUudGFyZ2V0LmRpc2FibGVkID0gdHJ1ZVxuICB9LFxuICBpbnZpdGVUb05ld0NoYXQoZSkge1xuICAgIGxldCBjb250YWN0ID0gZS50YXJnZXQuZGF0YXNldC5jb250YWN0XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckhvbWVDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwibmV3X2NoYXRfaW52aXRlXCIsIHtjb250YWN0OiBjb250YWN0fSlcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgbGV0IHJlcGxhY2VtZW50SWQgPSBgY29udGFjdExpc3RDb250YWN0JHtjb250YWN0fWBcbiAgICAgICAgVXNlckhvbWUucHV0UmVzcFRvRG9tKHJlc3AsIHJlcGxhY2VtZW50SWQpXG4gICAgICAgIFVzZXJDb250YWN0cy5pbml0KClcbiAgICAgIH0pXG4gIH0sXG4gIGludml0ZVRvRXhpc3RpbmdDaGF0KGUpIHtcbiAgICBsZXQgY29udGFjdCA9IGUudGFyZ2V0LmRhdGFzZXQuY29udGFjdFxuICAgIGxldCBjaGF0ID0gZS50YXJnZXQuZGF0YXNldC5jaGF0XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckhvbWVDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKFwibmV3X2NoYXRfaW52aXRlXCIsIHtjb250YWN0OiBjb250YWN0LCBjaGF0OiBjaGF0fSlcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgbGV0IHJlcGxhY2VtZW50SWQgPSBgY29udGFjdExpc3RDb250YWN0JHtjb250YWN0fWBcbiAgICAgICAgVXNlckhvbWUucHV0UmVzcFRvRG9tKHJlc3AsIHJlcGxhY2VtZW50SWQpXG4gICAgICAgIFVzZXJDb250YWN0cy5pbml0KClcbiAgICAgIH0pXG4gIH0sXG4gIGNyZWF0ZUFwcEludml0ZShlKSB7XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckhvbWVDaGFubmVsXG4gICAgbGV0IG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFjdEludml0ZVlvdXJOYW1lJylcbiAgICBsZXQgZW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFjdEludml0ZVRoZWlyRW1haWwnKVxuICAgIGxldCB2YWxpZCA9IGVtYWlsLmNoZWNrVmFsaWRpdHkoKVxuICAgIGlmICh2YWxpZCkge1xuICAgICAgY2hhbm5lbC5wdXNoKFwibmV3X2FwcF9pbnZpdGVcIiwge25hbWU6IG5hbWUudmFsdWUsIGVtYWlsOiBlbWFpbC52YWx1ZX0pXG4gICAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgICBVc2VySG9tZS5hcHBlbmRSZXNwVG9Eb20ocmVzcCwgXCJ1c2VyQ29udGFjdHNTZW50SW52aXRhdGlvbnNcIilcbiAgICAgICAgICBVc2VyQ29udGFjdHMuaW5pdCgpXG4gICAgICAgICAgZW1haWwuY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpXG4gICAgICAgICAgZW1haWwudmFsdWUgPSBcIlwiXG4gICAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgICBlbWFpbC5jbGFzc0xpc3QuYWRkKFwiZXJyb3JcIilcbiAgICAgIHNwYW4uaWQgPSBcImNvbnRhY3RJbnZpdGVFbWFpbEVycm9yXCJcbiAgICAgIHNwYW4uaW5uZXJIVE1MID0gZW1haWwudmFsaWRhdGlvbk1lc3NhZ2VcbiAgICAgIFVzZXJIb21lLnB1dEVsZW1lbnRUb0RvbShzcGFuLCBcImNvbnRhY3RJbnZpdGVFbWFpbEVycm9yXCIpXG4gICAgfVxuICB9LFxuICBzb3J0Q29udGFjdHMoZSkge1xuICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJIb21lQ2hhbm5lbFxuICAgIGNoYW5uZWwucHVzaChcInNvcnRfY29udGFjdHNcIiwge3NvcnRfYnk6IGUudGFyZ2V0LnZhbHVlfSlcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgVXNlckhvbWUucHV0UmVzcFRvRG9tKHJlc3AsIFwidXNlckNvbnRhY3RzTGlzdFwiKVxuICAgICAgICBVc2VyQ29udGFjdHMuaW5pdCgpXG4gICAgICB9KVxuICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzcCkgPT4ge2NvbnNvbGUubG9nKHJlc3ApfSlcbiAgfSxcbiAgc2VhcmNoQ29udGFjdHMoZSkge1xuICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJIb21lQ2hhbm5lbFxuICAgIGNoYW5uZWwucHVzaChcInNlYXJjaF9jb250YWN0c1wiLCB7cXVlcnk6IGUudGFyZ2V0LnZhbHVlfSlcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgVXNlckhvbWUucHV0UmVzcFRvRG9tKHJlc3AsIFwidXNlckNvbnRhY3RzTGlzdFwiKVxuICAgICAgICBVc2VyQ29udGFjdHMuaW5pdCgpXG4gICAgICB9KVxuICAgICAgLnJlY2VpdmUoXCJlcnJvclwiLCAocmVzcCkgPT4ge2NvbnNvbGUubG9nKHJlc3ApfSlcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgVXNlckNvbnRhY3RzXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUExUEE7QUE0UEEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/user_contacts.js\n");

/***/ }),

/***/ "./js/user_home.js":
/*!*************************!*\
  !*** ./js/user_home.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _tribe_navigation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tribe_navigation */ \"./js/tribe_navigation.js\");\n/* harmony import */ var _your_camps__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./your_camps */ \"./js/your_camps.js\");\n/* harmony import */ var _user_contacts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./user_contacts */ \"./js/user_contacts.js\");\n/* harmony import */ var _user_chat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user_chat */ \"./js/user_chat.js\");\n/* harmony import */ var _user_activity__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./user_activity */ \"./js/user_activity.js\");\n\n\n\n\n\nvar UserHome = {\n  init: function init(channel) {\n    window.userHomeChannel = channel;\n    UserHome.setEventListeners();\n    _tribe_navigation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setHistoryReload();\n    var search = window.location.search.split(\"=\")[1];\n\n    if (window.location.search == \"\") {// TribeNavigation.expandMenu('home_explore')\n    }\n\n    if (search == null) {// TribeNavigation.expandMenu('home_explore')\n    } else {\n      var search_split = search.split(\"&\")[0];\n\n      switch (search_split) {\n        case \"your_camps\":\n          _your_camps__WEBPACK_IMPORTED_MODULE_1__[\"default\"].init();\n          break;\n\n        case \"contacts\":\n          _user_contacts__WEBPACK_IMPORTED_MODULE_2__[\"default\"].init();\n          break;\n\n        case \"chat\":\n          _user_chat__WEBPACK_IMPORTED_MODULE_3__[\"default\"].init();\n          break;\n      }\n    }\n  },\n  setEventListeners: function setEventListeners() {\n    var buttonLabels = [\"Contacts\", \"Tribes\", \"Activity\", \"Private\", \"Explore\", \"Survey\", \"TribeForm\", \"Chat\"];\n    buttonLabels.forEach(function (label) {\n      var button = document.getElementById(\"userHome\".concat(label));\n\n      if (button) {\n        button.addEventListener('click', function () {\n          if (!button.classList.contains('active')) {\n            UserHome.makeButtonActive(button);\n            UserHome[\"init\".concat(label)]();\n          }\n        });\n      }\n    });\n  },\n  initActivity: function initActivity() {\n    UserHome.pushToChannel('init_activity', _user_activity__WEBPACK_IMPORTED_MODULE_4__[\"default\"].init, 'activity');\n  },\n  initContacts: function initContacts() {\n    UserHome.pushToChannel('init_contacts', _user_contacts__WEBPACK_IMPORTED_MODULE_2__[\"default\"].init, 'contacts');\n  },\n  initTribes: function initTribes() {\n    UserHome.pushToChannel('init_tribes', _your_camps__WEBPACK_IMPORTED_MODULE_1__[\"default\"].init, 'your_camps');\n  },\n  initPrivate: function initPrivate() {\n    UserHome.pushToChannel('init_private', null, 'private');\n  },\n  initExplore: function initExplore() {\n    UserHome.pushToChannel('init_explore', null, 'home_explore');\n  },\n  initSurvey: function initSurvey() {\n    UserHome.pushToChannel('init_survey', null, 'survey');\n  },\n  initTribeForm: function initTribeForm() {\n    UserHome.pushToChannel('init_tribe_form', null, 'tribe_form');\n  },\n  initChat: function initChat() {\n    UserHome.pushToChannel('init_chat', _user_chat__WEBPACK_IMPORTED_MODULE_3__[\"default\"].init, 'chat');\n  },\n  makeButtonActive: function makeButtonActive(button) {\n    var buttons = document.querySelectorAll('.user-nav-link-button');\n\n    for (var i = 0; i < buttons.length; i++) {\n      buttons[i].classList.remove('active');\n    }\n\n    button.classList.add('active');\n    button.blur();\n  },\n  pushToChannel: function pushToChannel(message) {\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var expanded = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var channel = window.userHomeChannel;\n    channel.push(message, {}).receive(\"ok\", function (resp) {\n      UserHome.putRespToDom(resp, 'userMainDiv');\n\n      if (expanded) {\n        _tribe_navigation__WEBPACK_IMPORTED_MODULE_0__[\"default\"].expandMenu(expanded);\n      }\n\n      if (callback) {\n        callback();\n      }\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  },\n  putRespToDom: function putRespToDom(resp, id) {\n    var html = resp[\"html\"];\n\n    if (html) {\n      var mainDiv = document.getElementById(id);\n\n      if (mainDiv) {\n        var fragment = document.createRange().createContextualFragment(html);\n        mainDiv.replaceWith(fragment);\n      }\n    } else {\n      console.log(id);\n    }\n  },\n  putElementToDom: function putElementToDom(ele, id) {\n    var div = document.getElementById(id);\n\n    if (div) {\n      div.replaceWith(ele);\n    }\n  },\n  appendRespToDom: function appendRespToDom(resp, id) {\n    var html = resp[\"html\"];\n\n    if (html) {\n      var div = document.getElementById(id);\n\n      if (div) {\n        var fragment = document.createRange().createContextualFragment(html);\n        div.appendChild(fragment);\n      } else {\n        console.log('no parent');\n      }\n    } else {\n      location.reload();\n    }\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserHome);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy91c2VyX2hvbWUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy91c2VyX2hvbWUuanM/NjgxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVHJpYmVOYXZpZ2F0aW9uIGZyb20gXCIuL3RyaWJlX25hdmlnYXRpb25cIlxuaW1wb3J0IFlvdXJUcmliZXMgZnJvbSBcIi4veW91cl9jYW1wc1wiXG5pbXBvcnQgVXNlckNvbnRhY3RzIGZyb20gXCIuL3VzZXJfY29udGFjdHNcIlxuaW1wb3J0IFVzZXJDaGF0IGZyb20gXCIuL3VzZXJfY2hhdFwiXG5pbXBvcnQgVXNlckFjdGl2aXR5IGZyb20gXCIuL3VzZXJfYWN0aXZpdHlcIlxubGV0IFVzZXJIb21lID0ge1xuICBpbml0KGNoYW5uZWwpIHtcbiAgICB3aW5kb3cudXNlckhvbWVDaGFubmVsID0gY2hhbm5lbFxuICAgIFVzZXJIb21lLnNldEV2ZW50TGlzdGVuZXJzKClcbiAgICBUcmliZU5hdmlnYXRpb24uc2V0SGlzdG9yeVJlbG9hZCgpXG4gICAgbGV0IHNlYXJjaCA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3BsaXQoXCI9XCIpWzFdXG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggPT0gXCJcIikge1xuICAgICAgLy8gVHJpYmVOYXZpZ2F0aW9uLmV4cGFuZE1lbnUoJ2hvbWVfZXhwbG9yZScpXG4gICAgfVxuICAgIGlmIChzZWFyY2ggPT0gbnVsbCkge1xuICAgICAgLy8gVHJpYmVOYXZpZ2F0aW9uLmV4cGFuZE1lbnUoJ2hvbWVfZXhwbG9yZScpXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBzZWFyY2hfc3BsaXQgPSBzZWFyY2guc3BsaXQoXCImXCIpWzBdXG4gICAgICBzd2l0Y2goc2VhcmNoX3NwbGl0KSB7XG4gICAgICAgIGNhc2UgXCJ5b3VyX2NhbXBzXCI6XG4gICAgICAgICAgWW91clRyaWJlcy5pbml0KClcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNvbnRhY3RzXCI6XG4gICAgICAgICAgVXNlckNvbnRhY3RzLmluaXQoKVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY2hhdFwiOlxuICAgICAgICAgIFVzZXJDaGF0LmluaXQoKVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgbGV0IGJ1dHRvbkxhYmVscyA9IFtcIkNvbnRhY3RzXCIsIFwiVHJpYmVzXCIsIFwiQWN0aXZpdHlcIiwgXCJQcml2YXRlXCIsIFwiRXhwbG9yZVwiLCBcIlN1cnZleVwiLCBcIlRyaWJlRm9ybVwiLCBcIkNoYXRcIl1cbiAgICBidXR0b25MYWJlbHMuZm9yRWFjaCgobGFiZWwpID0+IHtcbiAgICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdXNlckhvbWUke2xhYmVsfWApXG4gICAgICBpZiAoYnV0dG9uKSB7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBpZiAoIWJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgICBVc2VySG9tZS5tYWtlQnV0dG9uQWN0aXZlKGJ1dHRvbilcbiAgICAgICAgICAgIFVzZXJIb21lW2Bpbml0JHtsYWJlbH1gXSgpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIGluaXRBY3Rpdml0eSgpIHtcbiAgICBVc2VySG9tZS5wdXNoVG9DaGFubmVsKCdpbml0X2FjdGl2aXR5JywgVXNlckFjdGl2aXR5LmluaXQsICdhY3Rpdml0eScpXG4gIH0sXG4gIGluaXRDb250YWN0cygpIHtcbiAgICBVc2VySG9tZS5wdXNoVG9DaGFubmVsKCdpbml0X2NvbnRhY3RzJywgVXNlckNvbnRhY3RzLmluaXQsICdjb250YWN0cycpXG4gIH0sXG4gIGluaXRUcmliZXMoKSB7XG4gICAgVXNlckhvbWUucHVzaFRvQ2hhbm5lbCgnaW5pdF90cmliZXMnLCBZb3VyVHJpYmVzLmluaXQsICd5b3VyX2NhbXBzJylcbiAgfSxcbiAgaW5pdFByaXZhdGUoKSB7XG4gICAgVXNlckhvbWUucHVzaFRvQ2hhbm5lbCgnaW5pdF9wcml2YXRlJywgbnVsbCwgJ3ByaXZhdGUnKVxuICB9LFxuICBpbml0RXhwbG9yZSgpIHtcbiAgICBVc2VySG9tZS5wdXNoVG9DaGFubmVsKCdpbml0X2V4cGxvcmUnLCBudWxsLCAnaG9tZV9leHBsb3JlJylcbiAgfSxcbiAgaW5pdFN1cnZleSgpIHtcbiAgICBVc2VySG9tZS5wdXNoVG9DaGFubmVsKCdpbml0X3N1cnZleScsIG51bGwsICdzdXJ2ZXknKVxuICB9LFxuICBpbml0VHJpYmVGb3JtKCkge1xuICAgIFVzZXJIb21lLnB1c2hUb0NoYW5uZWwoJ2luaXRfdHJpYmVfZm9ybScsIG51bGwsICd0cmliZV9mb3JtJylcbiAgfSxcbiAgaW5pdENoYXQoKSB7XG4gICAgVXNlckhvbWUucHVzaFRvQ2hhbm5lbCgnaW5pdF9jaGF0JywgVXNlckNoYXQuaW5pdCwgJ2NoYXQnKVxuICB9LFxuICBtYWtlQnV0dG9uQWN0aXZlKGJ1dHRvbikge1xuICAgIGxldCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnVzZXItbmF2LWxpbmstYnV0dG9uJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidXR0b25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBidXR0b25zW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgfVxuICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgIGJ1dHRvbi5ibHVyKClcbiAgfSxcbiAgcHVzaFRvQ2hhbm5lbChtZXNzYWdlLCBjYWxsYmFjayA9IG51bGwsIGV4cGFuZGVkID0gbnVsbCkge1xuICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJIb21lQ2hhbm5lbFxuICAgIGNoYW5uZWwucHVzaChtZXNzYWdlLCB7fSlcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgVXNlckhvbWUucHV0UmVzcFRvRG9tKHJlc3AsICd1c2VyTWFpbkRpdicpXG4gICAgICAgIGlmIChleHBhbmRlZCkge1xuICAgICAgICAgIFRyaWJlTmF2aWdhdGlvbi5leHBhbmRNZW51KGV4cGFuZGVkKVxuICAgICAgICB9XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrKClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcCk7XG4gICAgICB9KVxuICB9LFxuICBwdXRSZXNwVG9Eb20ocmVzcCwgaWQpIHtcbiAgICBsZXQgaHRtbCA9IHJlc3BbXCJodG1sXCJdXG4gICAgaWYgKGh0bWwpIHtcbiAgICAgIGxldCBtYWluRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpXG4gICAgICBpZiAobWFpbkRpdikge1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCkuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGh0bWwpXG4gICAgICAgIG1haW5EaXYucmVwbGFjZVdpdGgoZnJhZ21lbnQpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKGlkKTtcbiAgICB9XG4gIH0sXG4gIHB1dEVsZW1lbnRUb0RvbShlbGUsIGlkKSB7XG4gICAgbGV0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKVxuICAgIGlmIChkaXYpIHtcbiAgICAgIGRpdi5yZXBsYWNlV2l0aChlbGUpXG4gICAgfVxuICB9LFxuICBhcHBlbmRSZXNwVG9Eb20ocmVzcCwgaWQpIHtcbiAgICBsZXQgaHRtbCA9IHJlc3BbXCJodG1sXCJdXG4gICAgaWYgKGh0bWwpIHtcbiAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZClcbiAgICAgIGlmIChkaXYpIHtcbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChodG1sKVxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnbm8gcGFyZW50JylcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYXRpb24ucmVsb2FkKClcbiAgICB9XG4gIH0sXG5cblxufVxuZXhwb3J0IGRlZmF1bHQgVXNlckhvbWVcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdkhBO0FBMkhBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/user_home.js\n");

/***/ }),

/***/ "./js/user_rt.js":
/*!***********************!*\
  !*** ./js/user_rt.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _user_home__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user_home */ \"./js/user_home.js\");\n/* harmony import */ var _private_chat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./private_chat */ \"./js/private_chat.js\");\n\n\nvar UserRT = {\n  init: function init() {\n    console.log('init user rt');\n    var user_socket = window.userSocket;\n    var userRTChannel = user_socket.channel(\"user_rt_channel:\".concat(window.userID));\n    userRTChannel.join().receive(\"ok\", function (resp) {\n      UserRT.setChannelListeners();\n      UserRT.createChatWidget(resp.html);\n      UserRT.openChats(resp.active_chats);\n      UserRT.setWidgetListeners();\n    }).receive(\"error\", function (resp) {\n      console.log(\"failed to join user rt channel\");\n      console.log(resp);\n    });\n    window.userRTChannel = userRTChannel;\n  },\n  setChannelListeners: function setChannelListeners() {\n    var channel = window.userRTChannel;\n    channel.on(\"invitation_update\", function (resp) {\n      UserRT.invitationUpdate(resp);\n    });\n    channel.on(\"new_chat_invitation\", function (resp) {\n      UserRT.messagePopUp(resp);\n    });\n    channel.on(\"chat_update\", function (resp) {\n      var channel = window[\"privateChat\".concat(resp.chat)];\n\n      if (!channel) {\n        UserRT.messagePopUp(resp);\n        _private_chat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addChatNotification(resp.chat, resp.message_count);\n      }\n    });\n  },\n  invitationUpdate: function invitationUpdate(resp) {\n    var chat_id = resp.private_chat_id.toString();\n\n    if (resp.invitation_status == \"accepted\") {\n      _private_chat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].init(resp.private_chat_id);\n\n      if (!document.getElementById(\"chatWidgetChat\".concat(chat_id))) {\n        _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].appendRespToDom(resp, \"chatWidgetListChats\");\n      }\n\n      if (resp.popup_html) {\n        UserRT.messagePopUp(resp);\n      } else {\n        UserRT.loadChatWindow(chat_id);\n      }\n\n      UserRT.showChatWidget();\n      UserRT.setWidgetListeners();\n    } else {}\n  },\n  setWidgetListeners: function setWidgetListeners() {\n    var chatWidgetIcon = document.getElementById('chatWidgetIcon');\n\n    if (chatWidgetIcon) {\n      if (!chatWidgetIcon.classList.contains('listening')) {\n        chatWidgetIcon.classList.add('listening');\n        chatWidgetIcon.addEventListener('click', UserRT.toggleChatWidget);\n      }\n    }\n\n    var chatWidgetClose = document.getElementById('chatWidgetClose');\n\n    if (chatWidgetClose) {\n      if (!chatWidgetClose.classList.contains('listening')) {\n        chatWidgetClose.classList.add('listening');\n        chatWidgetClose.addEventListener('click', UserRT.toggleChatWidget);\n      }\n    }\n\n    var chatWidgetNav = document.querySelectorAll('.chatWidgetNav');\n\n    if (chatWidgetNav) {\n      for (var i = 0; i < chatWidgetNav.length; i++) {\n        if (!chatWidgetNav[i].classList.contains('listening')) {\n          chatWidgetNav[i].classList.add('listening');\n          chatWidgetNav[i].addEventListener('click', UserRT.toggleChatWidgetNav);\n        }\n      }\n    }\n\n    var openChatButton = document.querySelectorAll('.openChatButton');\n\n    if (openChatButton) {\n      for (var i = 0; i < openChatButton.length; i++) {\n        if (!openChatButton[i].classList.contains('listening')) {\n          openChatButton[i].classList.add('listening');\n          openChatButton[i].addEventListener('click', UserRT.toggleChat);\n        }\n      }\n    }\n\n    var input = document.getElementById('chatWidgetInput');\n\n    if (input) {\n      if (!input.classList.contains('listening')) {\n        input.classList.add('listening');\n        input.addEventListener('keypress', UserRT.newInput);\n      }\n    }\n\n    var submit = document.getElementById('chatWidgetInputSubmit');\n\n    if (submit) {\n      if (!submit.classList.contains('listening')) {\n        submit.classList.add('listening');\n        submit.addEventListener('click', UserRT.newSubmit);\n      }\n    }\n  },\n  toggleChatWidget: function toggleChatWidget() {\n    var chatWidget = document.getElementById('chatWidget');\n    var chatWidgetClose = document.getElementById('chatWidgetClose');\n\n    if (chatWidget) {\n      if (chatWidget.classList.contains('active')) {\n        chatWidget.classList.remove('active');\n        chatWidgetClose.classList.remove('active');\n        UserRT.chatWindowClosed();\n      } else {\n        chatWidget.classList.add('active');\n        chatWidgetClose.classList.add('active');\n      }\n    }\n\n    var chatWidgetChatWindow = document.getElementById('chatWidgetChatWindow');\n\n    if (chatWidgetChatWindow && chatWidgetChatWindow.dataset.chat) {\n      _private_chat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateNotifications(chatWidgetChatWindow.dataset.chat);\n    }\n  },\n  showChatWidget: function showChatWidget() {\n    var chatWidget = document.getElementById('chatWidget');\n\n    if (chatWidget) {\n      chatWidget.classList.remove(\"hidden\");\n    }\n\n    var chatWidgetChatWindow = document.getElementById('chatWidgetChatWindow');\n\n    if (chatWidgetChatWindow && chatWidgetChatWindow.dataset.chat) {\n      _private_chat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateNotifications(chatWidgetChatWindow.dataset.chat);\n    }\n  },\n  openChatWidget: function openChatWidget() {\n    var chatWidget = document.getElementById('chatWidget');\n    var chatWidgetClose = document.getElementById('chatWidgetClose');\n\n    if (chatWidget) {\n      chatWidget.classList.add('active');\n      chatWidgetClose.classList.add('active');\n    }\n  },\n  createChatWidget: function createChatWidget(html) {\n    var widget = document.getElementById('chatWidget');\n\n    if (!widget) {\n      var fragment = document.createRange().createContextualFragment(html);\n      document.querySelector('body').appendChild(fragment);\n      UserRT.setWidgetListeners();\n    }\n  },\n  toggleChatWidgetNav: function toggleChatWidgetNav(e) {\n    var target = e.target.dataset.toggle;\n    var chats = document.getElementById('chatWidgetListChats');\n    var chatsNav = document.getElementById('chatWidgetNavChats');\n    var requests = document.getElementById('chatWidgetListRequests');\n    var requestsNav = document.getElementById('chatWidgetNavRequests');\n\n    if (chats && requests) {\n      if (target == \"requests\") {\n        chats.classList.remove('active');\n        requests.classList.add('active');\n        chatsNav.classList.remove('active');\n        requestsNav.classList.add('active');\n      } else if (target == \"chats\") {\n        chats.classList.add('active');\n        requests.classList.remove('active');\n        chatsNav.classList.add('active');\n        requestsNav.classList.remove('active');\n      }\n\n      requestsNav.blur();\n      chatsNav.blur();\n    }\n\n    UserRT.setWidgetListeners();\n  },\n  toggleChat: function toggleChat(e) {\n    var chat = e.target.dataset.chat;\n    _private_chat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateNotifications(chat);\n    var chatWindow = document.getElementById('chatWidgetChatWindow');\n    var loadWindow = (!chatWindow || chatWindow && chatWindow.dataset.chat != chat) && chat && chat != \"\";\n\n    if (loadWindow) {\n      UserRT.loadChatWindow(chat);\n    } else if (chatWindow && chatWindow.dataset.chat == chat) {\n      UserRT.notifyChat(chat);\n      UserRT.openChatWidget();\n    }\n\n    if (e.target.dataset.popup && e.target.dataset.popup == \"true\") {\n      var popups = [\"chatAcceptancePopup\", \"chatUpdatePopup\"];\n\n      for (var i = 0; i < popups.length; i++) {\n        var element = document.getElementById(\"\".concat(popups[i]).concat(chat));\n\n        if (element) {\n          element.remove();\n        }\n      }\n    }\n  },\n  notifyChat: function notifyChat(chat) {\n    var channel = window.userRTChannel;\n    channel.push('notify_chat', {\n      chat: chat\n    }).receive('ok', function (resp) {\n      console.log(resp);\n    }).receive('error', function (resp) {\n      console.log(resp);\n    });\n  },\n  loadChatWindow: function loadChatWindow(chat) {\n    var channel = window.userRTChannel;\n    channel.push('open_chat', {\n      chat: chat\n    }).receive('ok', function (resp) {\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, \"chatWidgetChatWindow\");\n      UserRT.updateWidget(chat);\n      UserRT.openChatWidget();\n      _private_chat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].init(chat);\n      UserRT.setWidgetListeners();\n      UserRT.makeButtonActive(chat);\n    }).receive('error', function (resp) {\n      console.log(resp);\n    });\n  },\n  updateWidget: function updateWidget(chat) {\n    document.getElementById('chatWidgetInner').classList.add(\"active\");\n    var chatWidgetChat = document.getElementById(\"chatWidgetChat\".concat(chat));\n    var chatWidgetListChats = document.getElementById('chatWidgetListChats');\n    console.log(chatWidgetListChats);\n    console.log(chatWidgetChat);\n\n    if (chatWidgetChat && chatWidgetListChats) {\n      // chatWidgetChat.remove()\n      chatWidgetListChats.prepend(chatWidgetChat);\n    }\n  },\n  makeButtonActive: function makeButtonActive(chat_id) {\n    var openButtons = document.querySelectorAll('.openChatButton');\n\n    for (var i = 0; i < openButtons.length; i++) {\n      if (openButtons[i].dataset.chat == chat_id) {\n        openButtons[i].classList.add('active');\n        openButtons[i].blur();\n      } else {\n        openButtons[i].classList.remove('active');\n      }\n    }\n  },\n  newInput: function newInput(e) {\n    if (e.keyCode == 13 && e.target.value.length > 0) {\n      e.preventDefault();\n      UserRT.sendMessage(e.target.dataset.chat, e.target.value);\n      e.target.value = \"\";\n    }\n  },\n  newSubmit: function newSubmit(e) {\n    var input = document.getElementById('chatWidgetInput');\n    UserRT.sendMessage(e.target.dataset.chat, input.value);\n    input.value = \"\";\n  },\n  sendMessage: function sendMessage(chat, message) {\n    var channel = window[\"privateChat\".concat(chat)];\n    channel.push('new_message', {\n      message: message,\n      chat: chat\n    });\n  },\n  messagePopUp: function messagePopUp(resp) {\n    var html = resp.popup_html;\n\n    if (html) {\n      var fragment = document.createRange().createContextualFragment(html);\n      var div = document.body.appendChild(fragment);\n      UserRT.setWidgetListeners();\n      setTimeout(function () {\n        document.getElementById(resp.dom_id).remove();\n      }, 80000);\n    }\n  },\n  openChats: function openChats(chat_objects) {\n    for (var i = 0; i < chat_objects.length; i++) {\n      if (chat_objects[i].type == \"private\") {\n        _private_chat__WEBPACK_IMPORTED_MODULE_1__[\"default\"].init(chat_objects[i].id);\n      }\n    }\n  },\n  deleteChat: function deleteChat(chat) {\n    var widgetName = document.getElementById(\"chatWidgetChat\".concat(chat));\n\n    if (widgetName) {\n      widgetName.remove();\n    }\n\n    var widgetWindow = document.getElementById('chatWidgetChatWindow');\n\n    if (widgetWindow && widgetWindow.dataset.chat && widgetWindow.dataset.chat == chat) {\n      widgetWindow.innerHTML = \"\";\n    }\n\n    var chatWidgetInner = document.getElementById('chatWidgetInner');\n\n    if (chatWidgetInner) {\n      chatWidgetInner.classList.remove('active');\n    }\n\n    var channel = window[\"privateChat\".concat(chat)];\n\n    if (channel) {\n      channel.leave();\n      window[\"privateChat\".concat(chat)] = null;\n    }\n  },\n  updateChatName: function updateChatName(chat, name) {\n    var newNames = document.querySelectorAll(\".chatName\".concat(chat));\n\n    if (newNames) {\n      for (var i = 0; i < newNames.length; i++) {\n        newNames[i].innerHTML = name;\n      }\n    }\n  },\n  chatWindowClosed: function chatWindowClosed() {\n    var channel = window.userRTChannel;\n    channel.push('chat_window_closed', {}).receive('ok', function (resp) {\n      console.log(resp);\n    }).receive('error', function (resp) {\n      console.log(resp);\n    });\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserRT);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy91c2VyX3J0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvdXNlcl9ydC5qcz8zYjUzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VySG9tZSBmcm9tIFwiLi91c2VyX2hvbWVcIlxuaW1wb3J0IFByaXZhdGVDaGF0IGZyb20gXCIuL3ByaXZhdGVfY2hhdFwiXG5sZXQgVXNlclJUID0ge1xuICBpbml0KCkge1xuICAgIGNvbnNvbGUubG9nKCdpbml0IHVzZXIgcnQnKVxuICAgIGxldCB1c2VyX3NvY2tldCA9IHdpbmRvdy51c2VyU29ja2V0XG4gICAgbGV0IHVzZXJSVENoYW5uZWwgPSB1c2VyX3NvY2tldC5jaGFubmVsKGB1c2VyX3J0X2NoYW5uZWw6JHt3aW5kb3cudXNlcklEfWApXG4gICAgdXNlclJUQ2hhbm5lbC5qb2luKClcbiAgICAgIC5yZWNlaXZlKFwib2tcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgVXNlclJULnNldENoYW5uZWxMaXN0ZW5lcnMoKVxuICAgICAgICBVc2VyUlQuY3JlYXRlQ2hhdFdpZGdldChyZXNwLmh0bWwpXG4gICAgICAgIFVzZXJSVC5vcGVuQ2hhdHMocmVzcC5hY3RpdmVfY2hhdHMpXG4gICAgICAgIFVzZXJSVC5zZXRXaWRnZXRMaXN0ZW5lcnMoKVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJmYWlsZWQgdG8gam9pbiB1c2VyIHJ0IGNoYW5uZWxcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xuICAgICAgfSlcbiAgICB3aW5kb3cudXNlclJUQ2hhbm5lbCA9IHVzZXJSVENoYW5uZWxcbiAgfSxcbiAgc2V0Q2hhbm5lbExpc3RlbmVycygpIHtcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyUlRDaGFubmVsXG4gICAgY2hhbm5lbC5vbihcImludml0YXRpb25fdXBkYXRlXCIsIChyZXNwKSA9PiB7XG4gICAgICBVc2VyUlQuaW52aXRhdGlvblVwZGF0ZShyZXNwKVxuICAgIH0pXG4gICAgY2hhbm5lbC5vbihcIm5ld19jaGF0X2ludml0YXRpb25cIiwgKHJlc3ApID0+IHtcbiAgICAgIFVzZXJSVC5tZXNzYWdlUG9wVXAocmVzcClcbiAgICB9KVxuICAgIGNoYW5uZWwub24oXCJjaGF0X3VwZGF0ZVwiLCAocmVzcCkgPT4ge1xuICAgICAgbGV0IGNoYW5uZWwgPSB3aW5kb3dbYHByaXZhdGVDaGF0JHtyZXNwLmNoYXR9YF1cbiAgICAgIGlmICghY2hhbm5lbCkge1xuICAgICAgICBVc2VyUlQubWVzc2FnZVBvcFVwKHJlc3ApXG4gICAgICAgIFByaXZhdGVDaGF0LmFkZENoYXROb3RpZmljYXRpb24ocmVzcC5jaGF0LCByZXNwLm1lc3NhZ2VfY291bnQpXG4gICAgICB9XG4gICAgfSlcbiAgfSxcbiAgaW52aXRhdGlvblVwZGF0ZShyZXNwKSB7XG4gICAgbGV0IGNoYXRfaWQgPSByZXNwLnByaXZhdGVfY2hhdF9pZC50b1N0cmluZygpXG4gICAgaWYgKHJlc3AuaW52aXRhdGlvbl9zdGF0dXMgPT0gXCJhY2NlcHRlZFwiKSB7XG4gICAgICBQcml2YXRlQ2hhdC5pbml0KHJlc3AucHJpdmF0ZV9jaGF0X2lkKVxuICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2hhdFdpZGdldENoYXQke2NoYXRfaWR9YCkpIHtcbiAgICAgICAgVXNlckhvbWUuYXBwZW5kUmVzcFRvRG9tKHJlc3AsIFwiY2hhdFdpZGdldExpc3RDaGF0c1wiKVxuICAgICAgfVxuICAgICAgaWYgKHJlc3AucG9wdXBfaHRtbCkge1xuICAgICAgICBVc2VyUlQubWVzc2FnZVBvcFVwKHJlc3ApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBVc2VyUlQubG9hZENoYXRXaW5kb3coY2hhdF9pZClcbiAgICAgIH1cbiAgICAgIFVzZXJSVC5zaG93Q2hhdFdpZGdldCgpXG4gICAgICBVc2VyUlQuc2V0V2lkZ2V0TGlzdGVuZXJzKClcbiAgICB9IGVsc2Uge1xuXG4gICAgfVxuICB9LFxuICBzZXRXaWRnZXRMaXN0ZW5lcnMoKSB7XG4gICAgbGV0IGNoYXRXaWRnZXRJY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRXaWRnZXRJY29uJylcbiAgICBpZiAoY2hhdFdpZGdldEljb24pIHtcbiAgICAgIGlmICghY2hhdFdpZGdldEljb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSkge1xuICAgICAgICBjaGF0V2lkZ2V0SWNvbi5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICBjaGF0V2lkZ2V0SWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFVzZXJSVC50b2dnbGVDaGF0V2lkZ2V0KVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgY2hhdFdpZGdldENsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRXaWRnZXRDbG9zZScpXG4gICAgaWYgKGNoYXRXaWRnZXRDbG9zZSkge1xuICAgICAgaWYgKCFjaGF0V2lkZ2V0Q2xvc2UuY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSkge1xuICAgICAgICBjaGF0V2lkZ2V0Q2xvc2UuY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgY2hhdFdpZGdldENsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgVXNlclJULnRvZ2dsZUNoYXRXaWRnZXQpXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBjaGF0V2lkZ2V0TmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYXRXaWRnZXROYXYnKVxuICAgIGlmIChjaGF0V2lkZ2V0TmF2KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXRXaWRnZXROYXYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFjaGF0V2lkZ2V0TmF2W2ldLmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpIHtcbiAgICAgICAgICBjaGF0V2lkZ2V0TmF2W2ldLmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgICAgY2hhdFdpZGdldE5hdltpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFVzZXJSVC50b2dnbGVDaGF0V2lkZ2V0TmF2KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBvcGVuQ2hhdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vcGVuQ2hhdEJ1dHRvbicpXG4gICAgaWYgKG9wZW5DaGF0QnV0dG9uKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wZW5DaGF0QnV0dG9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghb3BlbkNoYXRCdXR0b25baV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSkge1xuICAgICAgICAgIG9wZW5DaGF0QnV0dG9uW2ldLmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgICAgb3BlbkNoYXRCdXR0b25baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBVc2VyUlQudG9nZ2xlQ2hhdClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdFdpZGdldElucHV0JylcbiAgICBpZiAoaW5wdXQpIHtcbiAgICAgIGlmICghaW5wdXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0ZW5pbmcnKSkge1xuICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCdsaXN0ZW5pbmcnKVxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIFVzZXJSVC5uZXdJbnB1dClcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHN1Ym1pdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0V2lkZ2V0SW5wdXRTdWJtaXQnKVxuICAgIGlmIChzdWJtaXQpIHtcbiAgICAgIGlmICghc3VibWl0LmNsYXNzTGlzdC5jb250YWlucygnbGlzdGVuaW5nJykpIHtcbiAgICAgICAgc3VibWl0LmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgIHN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFVzZXJSVC5uZXdTdWJtaXQpXG4gICAgICB9XG4gICAgfVxuICB9LFxuICB0b2dnbGVDaGF0V2lkZ2V0KCkge1xuICAgIGxldCBjaGF0V2lkZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRXaWRnZXQnKVxuICAgIGxldCBjaGF0V2lkZ2V0Q2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdFdpZGdldENsb3NlJylcbiAgICBpZiAoY2hhdFdpZGdldCkge1xuICAgICAgaWYgKGNoYXRXaWRnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICBjaGF0V2lkZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICAgIGNoYXRXaWRnZXRDbG9zZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgICBVc2VyUlQuY2hhdFdpbmRvd0Nsb3NlZCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGF0V2lkZ2V0LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICAgIGNoYXRXaWRnZXRDbG9zZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgY2hhdFdpZGdldENoYXRXaW5kb3cgPSAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRXaWRnZXRDaGF0V2luZG93JylcbiAgICBpZiAoY2hhdFdpZGdldENoYXRXaW5kb3cgJiYgY2hhdFdpZGdldENoYXRXaW5kb3cuZGF0YXNldC5jaGF0KSB7XG4gICAgICBQcml2YXRlQ2hhdC51cGRhdGVOb3RpZmljYXRpb25zKGNoYXRXaWRnZXRDaGF0V2luZG93LmRhdGFzZXQuY2hhdClcbiAgICB9XG4gIH0sXG4gIHNob3dDaGF0V2lkZ2V0KCkge1xuICAgIGxldCBjaGF0V2lkZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRXaWRnZXQnKVxuICAgIGlmIChjaGF0V2lkZ2V0KSB7XG4gICAgICBjaGF0V2lkZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIilcbiAgICB9XG4gICAgbGV0IGNoYXRXaWRnZXRDaGF0V2luZG93ID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0V2lkZ2V0Q2hhdFdpbmRvdycpXG4gICAgaWYgKGNoYXRXaWRnZXRDaGF0V2luZG93ICYmIGNoYXRXaWRnZXRDaGF0V2luZG93LmRhdGFzZXQuY2hhdCkge1xuICAgICAgUHJpdmF0ZUNoYXQudXBkYXRlTm90aWZpY2F0aW9ucyhjaGF0V2lkZ2V0Q2hhdFdpbmRvdy5kYXRhc2V0LmNoYXQpXG4gICAgfVxuICB9LFxuICBvcGVuQ2hhdFdpZGdldCgpIHtcbiAgICBsZXQgY2hhdFdpZGdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0V2lkZ2V0JylcbiAgICBsZXQgY2hhdFdpZGdldENsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRXaWRnZXRDbG9zZScpXG4gICAgaWYgKGNoYXRXaWRnZXQpIHtcbiAgICAgIGNoYXRXaWRnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICAgIGNoYXRXaWRnZXRDbG9zZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgIH1cbiAgfSxcbiAgY3JlYXRlQ2hhdFdpZGdldChodG1sKSB7XG4gICAgbGV0IHdpZGdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0V2lkZ2V0JylcbiAgICBpZiAoIXdpZGdldCkge1xuICAgICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChodG1sKVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmFwcGVuZENoaWxkKGZyYWdtZW50KVxuICAgICAgVXNlclJULnNldFdpZGdldExpc3RlbmVycygpXG4gICAgfVxuICB9LFxuICB0b2dnbGVDaGF0V2lkZ2V0TmF2KGUpIHtcbiAgICBsZXQgdGFyZ2V0ID0gZS50YXJnZXQuZGF0YXNldC50b2dnbGVcbiAgICBsZXQgY2hhdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdFdpZGdldExpc3RDaGF0cycpXG4gICAgbGV0IGNoYXRzTmF2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRXaWRnZXROYXZDaGF0cycpXG4gICAgbGV0IHJlcXVlc3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRXaWRnZXRMaXN0UmVxdWVzdHMnKVxuICAgIGxldCByZXF1ZXN0c05hdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0V2lkZ2V0TmF2UmVxdWVzdHMnKVxuICAgIGlmIChjaGF0cyAmJiByZXF1ZXN0cykge1xuICAgICAgaWYgKHRhcmdldCA9PSBcInJlcXVlc3RzXCIpIHtcbiAgICAgICAgY2hhdHMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgICAgcmVxdWVzdHMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICAgICAgY2hhdHNOYXYuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgICAgcmVxdWVzdHNOYXYuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcbiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ID09IFwiY2hhdHNcIil7XG4gICAgICAgIGNoYXRzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICAgIHJlcXVlc3RzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICAgIGNoYXRzTmF2LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICAgIHJlcXVlc3RzTmF2LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICB9XG4gICAgICByZXF1ZXN0c05hdi5ibHVyKClcbiAgICAgIGNoYXRzTmF2LmJsdXIoKVxuICAgIH1cbiAgICBVc2VyUlQuc2V0V2lkZ2V0TGlzdGVuZXJzKClcblxuICB9LFxuICB0b2dnbGVDaGF0KGUpIHtcbiAgICBsZXQgY2hhdCA9IGUudGFyZ2V0LmRhdGFzZXQuY2hhdFxuICAgIFByaXZhdGVDaGF0LnVwZGF0ZU5vdGlmaWNhdGlvbnMoY2hhdClcbiAgICBsZXQgY2hhdFdpbmRvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0V2lkZ2V0Q2hhdFdpbmRvdycpXG4gICAgbGV0IGxvYWRXaW5kb3cgPSAoIWNoYXRXaW5kb3cgfHwgKGNoYXRXaW5kb3cgJiYgY2hhdFdpbmRvdy5kYXRhc2V0LmNoYXQgIT0gY2hhdCkpICYmIChjaGF0ICYmIGNoYXQgIT0gXCJcIilcbiAgICBpZiAobG9hZFdpbmRvdykge1xuICAgICAgVXNlclJULmxvYWRDaGF0V2luZG93KGNoYXQpXG4gICAgfSBlbHNlIGlmIChjaGF0V2luZG93ICYmIGNoYXRXaW5kb3cuZGF0YXNldC5jaGF0ID09IGNoYXQpIHtcbiAgICAgIFVzZXJSVC5ub3RpZnlDaGF0KGNoYXQpXG4gICAgICBVc2VyUlQub3BlbkNoYXRXaWRnZXQoKVxuICAgIH1cbiAgICBpZiAoZS50YXJnZXQuZGF0YXNldC5wb3B1cCAmJiBlLnRhcmdldC5kYXRhc2V0LnBvcHVwID09IFwidHJ1ZVwiKSB7XG4gICAgICBsZXQgcG9wdXBzID0gW1wiY2hhdEFjY2VwdGFuY2VQb3B1cFwiLCBcImNoYXRVcGRhdGVQb3B1cFwiXVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3B1cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtwb3B1cHNbaV19JHtjaGF0fWApXG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmUoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBub3RpZnlDaGF0KGNoYXQpIHtcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VyUlRDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKCdub3RpZnlfY2hhdCcsIHtjaGF0OiBjaGF0fSlcbiAgICAgIC5yZWNlaXZlKCdvaycsIChyZXNwKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKCdlcnJvcicsIChyZXNwKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xuICAgICAgfSlcbiAgfSxcbiAgbG9hZENoYXRXaW5kb3coY2hhdCkge1xuICAgIGxldCBjaGFubmVsID0gd2luZG93LnVzZXJSVENoYW5uZWxcbiAgICBjaGFubmVsLnB1c2goJ29wZW5fY2hhdCcsIHtjaGF0OiBjaGF0fSlcbiAgICAgIC5yZWNlaXZlKCdvaycsIChyZXNwKSA9PiB7XG4gICAgICAgIFVzZXJIb21lLnB1dFJlc3BUb0RvbShyZXNwLCBcImNoYXRXaWRnZXRDaGF0V2luZG93XCIpXG4gICAgICAgIFVzZXJSVC51cGRhdGVXaWRnZXQoY2hhdClcbiAgICAgICAgVXNlclJULm9wZW5DaGF0V2lkZ2V0KClcbiAgICAgICAgUHJpdmF0ZUNoYXQuaW5pdChjaGF0KVxuICAgICAgICBVc2VyUlQuc2V0V2lkZ2V0TGlzdGVuZXJzKClcbiAgICAgICAgVXNlclJULm1ha2VCdXR0b25BY3RpdmUoY2hhdClcbiAgICAgIH0pXG4gICAgICAucmVjZWl2ZSgnZXJyb3InLCAocmVzcCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgIH0pXG4gIH0sXG4gIHVwZGF0ZVdpZGdldChjaGF0KSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRXaWRnZXRJbm5lcicpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIilcbiAgICBsZXQgY2hhdFdpZGdldENoYXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2hhdFdpZGdldENoYXQke2NoYXR9YClcbiAgICBsZXQgY2hhdFdpZGdldExpc3RDaGF0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0V2lkZ2V0TGlzdENoYXRzJylcbiAgICBjb25zb2xlLmxvZyhjaGF0V2lkZ2V0TGlzdENoYXRzKTtcbiAgICBjb25zb2xlLmxvZyhjaGF0V2lkZ2V0Q2hhdCk7XG4gICAgaWYgKGNoYXRXaWRnZXRDaGF0ICYmIGNoYXRXaWRnZXRMaXN0Q2hhdHMpIHtcbiAgICAgIC8vIGNoYXRXaWRnZXRDaGF0LnJlbW92ZSgpXG4gICAgICBjaGF0V2lkZ2V0TGlzdENoYXRzLnByZXBlbmQoY2hhdFdpZGdldENoYXQpXG4gICAgfVxuICB9LFxuICBtYWtlQnV0dG9uQWN0aXZlKGNoYXRfaWQpIHtcbiAgICBsZXQgb3BlbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub3BlbkNoYXRCdXR0b24nKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BlbkJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChvcGVuQnV0dG9uc1tpXS5kYXRhc2V0LmNoYXQgPT0gY2hhdF9pZCkge1xuICAgICAgICBvcGVuQnV0dG9uc1tpXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgICBvcGVuQnV0dG9uc1tpXS5ibHVyKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wZW5CdXR0b25zW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBuZXdJbnB1dChlKSB7XG4gICAgaWYgKGUua2V5Q29kZSA9PSAxMyAmJiBlLnRhcmdldC52YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBVc2VyUlQuc2VuZE1lc3NhZ2UoZS50YXJnZXQuZGF0YXNldC5jaGF0LCBlLnRhcmdldC52YWx1ZSlcbiAgICAgIGUudGFyZ2V0LnZhbHVlID0gXCJcIjtcbiAgICB9XG4gIH0sXG4gIG5ld1N1Ym1pdChlKSB7XG4gICAgbGV0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRXaWRnZXRJbnB1dCcpXG4gICAgVXNlclJULnNlbmRNZXNzYWdlKGUudGFyZ2V0LmRhdGFzZXQuY2hhdCwgaW5wdXQudmFsdWUpXG4gICAgaW5wdXQudmFsdWUgPSBcIlwiO1xuICB9LFxuICBzZW5kTWVzc2FnZShjaGF0LCBtZXNzYWdlKSB7XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cuW2Bwcml2YXRlQ2hhdCR7Y2hhdH1gXVxuICAgIGNoYW5uZWwucHVzaCgnbmV3X21lc3NhZ2UnLCB7XG4gICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgY2hhdDogY2hhdFxuICAgIH0pXG4gIH0sXG4gIG1lc3NhZ2VQb3BVcChyZXNwKSB7XG4gICAgbGV0IGh0bWwgPSByZXNwLnBvcHVwX2h0bWxcbiAgICBpZiAoaHRtbCkge1xuICAgICAgY29uc3QgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChodG1sKVxuICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpXG4gICAgICBVc2VyUlQuc2V0V2lkZ2V0TGlzdGVuZXJzKClcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChyZXNwLmRvbV9pZCkucmVtb3ZlKClcbiAgICAgIH0sIDgwMDAwKTtcbiAgICB9XG4gIH0sXG4gIG9wZW5DaGF0cyhjaGF0X29iamVjdHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXRfb2JqZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNoYXRfb2JqZWN0c1tpXS50eXBlID09IFwicHJpdmF0ZVwiKSB7XG4gICAgICAgIFByaXZhdGVDaGF0LmluaXQoY2hhdF9vYmplY3RzW2ldLmlkKVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZGVsZXRlQ2hhdChjaGF0KSB7XG4gICAgbGV0IHdpZGdldE5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2hhdFdpZGdldENoYXQke2NoYXR9YClcbiAgICBpZiAod2lkZ2V0TmFtZSkge3dpZGdldE5hbWUucmVtb3ZlKCl9XG4gICAgbGV0IHdpZGdldFdpbmRvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0V2lkZ2V0Q2hhdFdpbmRvdycpXG4gICAgaWYgKHdpZGdldFdpbmRvdyAmJiB3aWRnZXRXaW5kb3cuZGF0YXNldC5jaGF0ICYmIHdpZGdldFdpbmRvdy5kYXRhc2V0LmNoYXQgPT0gY2hhdCkge1xuICAgICAgd2lkZ2V0V2luZG93LmlubmVySFRNTCA9IFwiXCJcbiAgICB9XG4gICAgbGV0IGNoYXRXaWRnZXRJbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0V2lkZ2V0SW5uZXInKVxuICAgIGlmIChjaGF0V2lkZ2V0SW5uZXIpIHtcbiAgICAgIGNoYXRXaWRnZXRJbm5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgIH1cbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy5bYHByaXZhdGVDaGF0JHtjaGF0fWBdXG4gICAgaWYgKGNoYW5uZWwpIHtcbiAgICAgIGNoYW5uZWwubGVhdmUoKVxuICAgICAgd2luZG93LltgcHJpdmF0ZUNoYXQke2NoYXR9YF0gPSBudWxsXG4gICAgfVxuICB9LFxuICB1cGRhdGVDaGF0TmFtZShjaGF0LCBuYW1lKSB7XG4gICAgbGV0IG5ld05hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLmNoYXROYW1lJHtjaGF0fWApXG4gICAgaWYgKG5ld05hbWVzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld05hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG5ld05hbWVzW2ldLmlubmVySFRNTCA9IG5hbWVcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGNoYXRXaW5kb3dDbG9zZWQoKSB7XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlclJUQ2hhbm5lbFxuICAgIGNoYW5uZWwucHVzaCgnY2hhdF93aW5kb3dfY2xvc2VkJywge30pXG4gICAgICAucmVjZWl2ZSgnb2snLCAocmVzcCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgIH0pXG4gICAgICAucmVjZWl2ZSgnZXJyb3InLCAocmVzcCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgIH0pXG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFVzZXJSVFxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBblRBO0FBcVRBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/user_rt.js\n");

/***/ }),

/***/ "./js/your_camps.js":
/*!**************************!*\
  !*** ./js/your_camps.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _user_home__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user_home */ \"./js/user_home.js\");\n\nvar YourTribes = {\n  init: function init() {\n    YourTribes.addEventListeners();\n  },\n  addEventListeners: function addEventListeners() {\n    var loadMoreTribes = document.getElementById('loadMoreTribes');\n\n    if (loadMoreTribes) {\n      if (!loadMoreTribes.classList.contains('listening')) {\n        loadMoreTribes.classList.add('listening');\n        loadMoreTribes.addEventListener('click', function (e) {\n          YourTribes.loadMoreTribes(e.target);\n        });\n      }\n    }\n\n    var userYourTribesSelect = document.getElementById('userYourTribesSelect');\n\n    if (userYourTribesSelect) {\n      if (!userYourTribesSelect.classList.contains('listening')) {\n        userYourTribesSelect.classList.add('listening');\n        userYourTribesSelect.addEventListener('change', function (e) {\n          YourTribes.loadNewTribes(e.target.value);\n        });\n      }\n    }\n  },\n  loadMoreTribes: function loadMoreTribes(target) {\n    var channel = window.userHomeChannel;\n    channel.push('load_more_tribes', {\n      type: target.dataset.type,\n      page: target.dataset.page\n    }).receive(\"ok\", function (resp) {\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, 'loadMoreTribes');\n      YourTribes.addEventListeners();\n    });\n  },\n  loadNewTribes: function loadNewTribes(type) {\n    console.log(type);\n    var channel = window.userHomeChannel;\n    channel.push(\"load_new_tribes\", {\n      type: type\n    }).receive(\"ok\", function (resp) {\n      console.log(resp);\n      _user_home__WEBPACK_IMPORTED_MODULE_0__[\"default\"].putRespToDom(resp, 'userHomeTribesList');\n      YourTribes.addEventListeners();\n    }).receive(\"error\", function (resp) {\n      console.log(resp);\n    });\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (YourTribes);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy95b3VyX2NhbXBzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMveW91cl9jYW1wcy5qcz8yZWVmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VySG9tZSBmcm9tICcuL3VzZXJfaG9tZSdcbmxldCBZb3VyVHJpYmVzID0ge1xuICBpbml0KCkge1xuICAgIFlvdXJUcmliZXMuYWRkRXZlbnRMaXN0ZW5lcnMoKVxuICB9LFxuICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICBsZXQgbG9hZE1vcmVUcmliZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZE1vcmVUcmliZXMnKVxuICAgIGlmIChsb2FkTW9yZVRyaWJlcykge1xuICAgICAgaWYgKCFsb2FkTW9yZVRyaWJlcy5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKSB7XG4gICAgICAgIGxvYWRNb3JlVHJpYmVzLmNsYXNzTGlzdC5hZGQoJ2xpc3RlbmluZycpXG4gICAgICAgIGxvYWRNb3JlVHJpYmVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICBZb3VyVHJpYmVzLmxvYWRNb3JlVHJpYmVzKGUudGFyZ2V0KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgdXNlcllvdXJUcmliZXNTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcllvdXJUcmliZXNTZWxlY3QnKVxuICAgIGlmICh1c2VyWW91clRyaWJlc1NlbGVjdCkge1xuICAgICAgaWYgKCF1c2VyWW91clRyaWJlc1NlbGVjdC5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3RlbmluZycpKXtcbiAgICAgICAgdXNlcllvdXJUcmliZXNTZWxlY3QuY2xhc3NMaXN0LmFkZCgnbGlzdGVuaW5nJylcbiAgICAgICAgdXNlcllvdXJUcmliZXNTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgICAgICBZb3VyVHJpYmVzLmxvYWROZXdUcmliZXMoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbG9hZE1vcmVUcmliZXModGFyZ2V0KSB7XG4gICAgbGV0IGNoYW5uZWwgPSB3aW5kb3cudXNlckhvbWVDaGFubmVsXG4gICAgY2hhbm5lbC5wdXNoKCdsb2FkX21vcmVfdHJpYmVzJywge3R5cGU6IHRhcmdldC5kYXRhc2V0LnR5cGUsIHBhZ2U6IHRhcmdldC5kYXRhc2V0LnBhZ2V9KVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICBVc2VySG9tZS5wdXRSZXNwVG9Eb20ocmVzcCwgJ2xvYWRNb3JlVHJpYmVzJylcbiAgICAgICAgWW91clRyaWJlcy5hZGRFdmVudExpc3RlbmVycygpXG4gICAgICB9KVxuICB9LFxuICBsb2FkTmV3VHJpYmVzKHR5cGUpIHtcbiAgICBjb25zb2xlLmxvZyh0eXBlKTtcbiAgICBsZXQgY2hhbm5lbCA9IHdpbmRvdy51c2VySG9tZUNoYW5uZWxcbiAgICBjaGFubmVsLnB1c2goXCJsb2FkX25ld190cmliZXNcIiwge3R5cGU6IHR5cGV9KVxuICAgICAgLnJlY2VpdmUoXCJva1wiLCAocmVzcCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwKVxuICAgICAgICBVc2VySG9tZS5wdXRSZXNwVG9Eb20ocmVzcCwgJ3VzZXJIb21lVHJpYmVzTGlzdCcpXG4gICAgICAgIFlvdXJUcmliZXMuYWRkRXZlbnRMaXN0ZW5lcnMoKVxuICAgICAgfSlcbiAgICAgIC5yZWNlaXZlKFwiZXJyb3JcIiwgKHJlc3ApID0+IHtjb25zb2xlLmxvZyhyZXNwKX0pXG5cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBZb3VyVHJpYmVzXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUEzQ0E7QUE4Q0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/your_camps.js\n");

/***/ })

/******/ });